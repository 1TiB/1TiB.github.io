<!doctype html><html id=top lang=ko dir=auto>
<head><meta charset=utf-8>
<meta http-equiv=x-ua-compatible content="IE=edge">
<meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no">
<meta name=robots content="index, follow">
<title>[아이템 23] 태그 달린 클래스보다는 클래스 계층구조를 활용하자 | &lt;Qutrits/></title>
<meta name=keywords content="Java,Effective Java 3E">
<meta name=description content="때때로 두 가지 이상의 의미를 표현하고 인스턴스의 특징을 알려주는 태그 필드로 나타내는 클래스를 본 적이 있을겁니다.
안 좋은 예시 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36  public class Figure { enum Shape { RECTANGLE, CIRCLE }; // 태그 필드 - 현재 모양을 나타냅니다.">
<meta name=author content="Kyungchul Shin">
<link rel=canonical href=https://qutrits.github.io/effective-java-3e/chapter-03/item23/>
<link crossorigin=anonymous href=/assets/css/stylesheet.min.83804f8b6b56dca78893770f37429dc7f0c388f895f030adeca4f7a0d2ce1dd6.css integrity="sha256-g4BPi2tW3KeIk3cPN0Kdx/DDiPiV8DCt7KT3oNLOHdY=" rel="preload stylesheet" as=style>
<script defer crossorigin=anonymous src=/assets/js/highlight.min.7680afc38aa6b15ddf158a4f3780b7b1f7dde7e91d26f073e6229bb7a0793c92.js integrity="sha256-doCvw4qmsV3fFYpPN4C3sffd5+kdJvBz5iKbt6B5PJI=" onload=hljs.initHighlightingOnLoad()></script>
<link rel=icon href=https://qutrits.github.io/icon/favicon-64.webp>
<link rel=icon type=image/png sizes=16x16 href=https://qutrits.github.io/icon/favicon-16.webp>
<link rel=icon type=image/png sizes=32x32 href=https://qutrits.github.io/icon/favicon-32.webp>
<link rel=apple-touch-icon href=https://qutrits.github.io/apple-touch-icon.png>
<link rel=mask-icon href=https://qutrits.github.io/safari-pinned-tab.svg>
<meta name=theme-color content="#2e2e33">
<meta name=msapplication-TileColor content="#2e2e33">
<meta name=generator content="Hugo 0.89.4">
<noscript>
<style>#theme-toggle,.top-link{display:none}</style>
<style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--hljs-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style>
</noscript>
<script type=application/javascript>var doNotTrack=!1;doNotTrack||(function(a,e,f,g,b,c,d){a.GoogleAnalyticsObject=b,a[b]=a[b]||function(){(a[b].q=a[b].q||[]).push(arguments)},a[b].l=1*new Date,c=e.createElement(f),d=e.getElementsByTagName(f)[0],c.async=1,c.src=g,d.parentNode.insertBefore(c,d)}(window,document,'script','https://www.google-analytics.com/analytics.js','ga'),ga('create','UA-215417930-1','auto'),ga('send','pageview'))</script>
<script type=application/javascript>var doNotTrack=!1;doNotTrack||(function(a,e,f,g,b,c,d){a.GoogleAnalyticsObject=b,a[b]=a[b]||function(){(a[b].q=a[b].q||[]).push(arguments)},a[b].l=1*new Date,c=e.createElement(f),d=e.getElementsByTagName(f)[0],c.async=1,c.src=g,d.parentNode.insertBefore(c,d)}(window,document,'script','https://www.google-analytics.com/analytics.js','ga'),ga('create','UA-215417930-1','auto'),ga('send','pageview'))</script><meta property="og:title" content="[아이템 23] 태그 달린 클래스보다는 클래스 계층구조를 활용하자">
<meta property="og:description" content="때때로 두 가지 이상의 의미를 표현하고 인스턴스의 특징을 알려주는 태그 필드로 나타내는 클래스를 본 적이 있을겁니다.
안 좋은 예시 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36  public class Figure { enum Shape { RECTANGLE, CIRCLE }; // 태그 필드 - 현재 모양을 나타냅니다.">
<meta property="og:type" content="article">
<meta property="og:url" content="https://qutrits.github.io/effective-java-3e/chapter-03/item23/"><meta property="article:section" content="effective-java-3e">
<meta property="article:published_time" content="2020-07-04T15:46:26+09:00">
<meta property="article:modified_time" content="2020-07-04T15:46:26+09:00">
<meta property="og:see_also" content="https://qutrits.github.io/effective-java-3e/chapter-04/item33/"><meta property="og:see_also" content="https://qutrits.github.io/effective-java-3e/chapter-04/item32/"><meta property="og:see_also" content="https://qutrits.github.io/effective-java-3e/chapter-04/item31/"><meta property="og:see_also" content="https://qutrits.github.io/effective-java-3e/chapter-04/item30/"><meta property="og:see_also" content="https://qutrits.github.io/effective-java-3e/chapter-04/item29/"><meta property="og:see_also" content="https://qutrits.github.io/effective-java-3e/chapter-04/item28/">
<meta name=twitter:card content="summary">
<meta name=twitter:title content="[아이템 23] 태그 달린 클래스보다는 클래스 계층구조를 활용하자">
<meta name=twitter:description content="때때로 두 가지 이상의 의미를 표현하고 인스턴스의 특징을 알려주는 태그 필드로 나타내는 클래스를 본 적이 있을겁니다.
안 좋은 예시 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36  public class Figure { enum Shape { RECTANGLE, CIRCLE }; // 태그 필드 - 현재 모양을 나타냅니다.">
<script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Effctive Java 3/E","item":"https://qutrits.github.io/effective-java-3e/"},{"@type":"ListItem","position":2,"name":"3장 클래스와 인터페이스","item":"https://qutrits.github.io/effective-java-3e/chapter-03/"},{"@type":"ListItem","position":3,"name":"[아이템 23] 태그 달린 클래스보다는 클래스 계층구조를 활용하자","item":"https://qutrits.github.io/effective-java-3e/chapter-03/item23/"}]}</script>
<script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"[아이템 23] 태그 달린 클래스보다는 클래스 계층구조를 활용하자","name":"[아이템 23] 태그 달린 클래스보다는 클래스 계층구조를 활용하자","description":"때때로 두 가지 이상의 의미를 표현하고 인스턴스의 특징을 알려주는 태그 필드로 나타내는 클래스를 본 적이 있을겁니다.\n안 좋은 예시 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36  public class Figure { enum Shape { RECTANGLE, CIRCLE }; // 태그 필드 - 현재 모양을 나타냅니다.","keywords":["Java","Effective Java 3E"],"articleBody":"때때로 두 가지 이상의 의미를 표현하고 인스턴스의 특징을 알려주는 태그 필드로 나타내는 클래스를 본 적이 있을겁니다.\n안 좋은 예시 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36  public class Figure { enum Shape { RECTANGLE, CIRCLE }; // 태그 필드 - 현재 모양을 나타냅니다.  final Shape shape; // 모양이 사각형(RECTANGLE)일 때만 쓰입니다.  double length; double width; // 다음 필드 모양이 원(CIRCLE)일 때만 쓰입니다.  double radius; // 원 생성  Figure(double radius) { shape = Shape.CIRCLE; this.radius = radius; } Figure(double length, double width) { shape = Shape.RECTANGLE; this.length = length; this.width = width; } double area() { switch (shape) { case RECTANGLE: return length * width; case CIRCLE: return Math.PI * (radius * radius); default: throw new AssertionError(); } } }   태그 달린 클래스에는 단점이 많습니다. 열거 타입 선언, 태그 필드, switch문 등 잡다한 코드가 너무 많습니다. 여러 구현이 한 클래스에 있어서 구현도 나쁩니다. 인스턴스가 다른 특징에 속하는 관련없는 필드로 인해 메모리도 많이 사용하게 됩니다.\n또 다른 의미를 추가하려면 switch문을 찾아 새 의미를 처리하는 코드를 추가해야하는 데 하나라도 빠뜨리면 문제가 될 수도 있습니다. 마지막으로, 인스턴스의 타입만으로는 현재 나타내는 의미를 알 길이 없습니다.\n태그 달린 클래스는 장황하고, 오류를 내기 쉽고, 비효율적입니다.\n클래스 계층구조를 활용하는 서브타이핑을 이용해서 타입 하나로 다양한 의미의 객체를 표현할 수 있습니다. 태그 달린 클래스는 클래스 계층구조를 어설프게 흉내낸 아류일뿐입니다.\n태그달린 클래스를 클래스 계층 구조로 바꾸는 방법  계층구조의 루트가 될 추상 클래스를 정의하고, 태그 값에 따라 동작이 달라지는 메서드들을 루트 클래스의 추상 메서드로 선언합니다. 태그 값에 상관없이 동작이 일정한 메서드들을 루트 클래승 일반 메서드로 추가합니다. 모든 하위 클래스에서 공통으로 사용하는 데이터 필드들도 전부 루트 클래스로 올립니다. 루트 클래스를 확장한 구체 클래스를 의미별로 하나씩 정의합니다.  Figure 클래스에서는 태그 값과 상관없는 메서드가 하나도 없고, 모든 하위 클래스에서 사용하는 공통 데이터 필드가 없습니다. 그 결과 루트 클래스에는 추상메서드 area하나만 남게 됩니다.\n다음은 Figure 클래스를 계층구조 방식으로 구현한 코드입니다.\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18  abstract class Figure { abstract double area; } public class Circle extends Figure{ final double radius; public Circle(double radius) { this.radius = radius; } @Override double area() { return Math.PI * (radius * radius); } } // Rentangle 클래스 위와 같은 방식으로 구현하면 됩니다.   태그 달린 클래스에 비교하면 쓸데 없는 코드들은 모두 제거했고, 각 의미를 독립된 클래스에 담아 관련 없던 데이터 필드를 모두 제거했습니다.\n살아 남은필드들은 모두 final이며 각 클래스의 생성자가 모든 필드를 남김없이 초기화하고 추상 메서드를 구현했는지 컴파일러가 확인해줍니다.\n 정리  태그 달린 클래스를 써야 하는 상황은 거의 없습니다. 새로운 클래스를 작성할 때 태그 필드가 등자했다면 계층 구조롤 대체하는 방법을 고려해보자. 기존 클래스가 필드를 사용하고 있다면 계층구조로 리팩터링 하는 걸 고려민해보자.  ","wordCount":"452","inLanguage":"ko","datePublished":"2020-07-04T15:46:26+09:00","dateModified":"2020-07-04T15:46:26+09:00","author":[{"@type":"Person","name":"Kyungchul Shin"}],"mainEntityOfPage":{"@type":"WebPage","@id":"https://qutrits.github.io/effective-java-3e/chapter-03/item23/"},"publisher":{"@type":"Organization","name":"\u003cQutrits/\u003e","logo":{"@type":"ImageObject","url":"https://qutrits.github.io/icon/favicon-64.webp"}}}</script>
</head>
<body>
<script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add('dark'):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove('dark'):window.matchMedia('(prefers-color-scheme: dark)').matches&&document.body.classList.add('dark')</script>
<header class="header header-bottom">
<nav class=nav>
<div class=logo>
<a href=https://qutrits.github.io/ accesskey=h title="<Qutrits/> (Alt + H)"><svg viewBox="0 0 32 32" width="26" height="26"><path d="M30 15a1 1 0 01-.58-.19L16 5.23 2.58 14.81a1 1 0 01-1.16-1.62l14-10a1 1 0 011.16.0l14 10A1 1 0 0130 15z"/><path d="M5 9A1 1 0 014 8V4A1 1 0 015 3H9A1 1 0 019 5H6V8A1 1 0 015 9z"/><path d="M25 29H20a1 1 0 01-1-1V21H13v7a1 1 0 01-1 1H7a3 3 0 01-3-3V16a1 1 0 012 0V26a1 1 0 001 1h4V20a1 1 0 011-1h8a1 1 0 011 1v7h4a1 1 0 001-1V16a1 1 0 012 0V26a3 3 0 01-3 3z"/></svg>&lt;Qutrits/></a>
<span class=logo-switches>
<button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" enable-background="new 0 0 32 32" viewBox="0 0 32 32" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><g id="Layer_2"/><g id="Layer_3"/><g id="Layer_4"/><g id="Layer_5"/><g id="Layer_6"/><g id="Layer_7"/><g id="Layer_8"/><g id="Layer_9"/><g id="Layer_10"/><g id="Layer_11"/><g id="Layer_12"/><g id="Layer_13"/><g id="Layer_14"/><g id="Layer_15"/><g id="Layer_16"/><g id="Layer_17"/><g id="Layer_18"/><g id="Layer_19"><g><g><path d="M30.9 20.8c-2.2 6.1-8 10.2-14.5 10.2C7.9 31 1 24.2 1 15.8 1 8.7 5.9 2.6 12.9 1c.3-.1.7.0 1 .3.2.3.3.7.2 1-.5 1.4-.8 2.9-.8 4.4.0 7.3 6 13.2 13.4 13.2 1 0 2.1-.1 3.1-.4.3-.1.7.0 1 .3C31 20.1 31.1 20.5 30.9 20.8z" fill="#ffc10a"/></g></g></g><g id="Layer_20"/><g id="Layer_21"/><g id="Layer_22"/><g id="Layer_23"/><g id="Layer_24"/><g id="Layer_25"/><g id="Wearher"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="none" stroke="currentcolor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="32" d="M256 48v48m0 320v48M403.08 108.92l-33.94 33.94M142.86 369.14l-33.94 33.94M464 256h-48M96 256H48M403.08 403.08l-33.94-33.94M142.86 142.86l-33.94-33.94"/><circle cx="256" cy="256" r="80" fill="none" stroke="currentcolor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="32"/></svg>
</button>
</span>
</div>
<button id=menu-trigger aria-haspopup=menu aria-label="Menu Button"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-menu"><line x1="3" y1="12" x2="21" y2="12"/><line x1="3" y1="6" x2="21" y2="6"/><line x1="3" y1="18" x2="21" y2="18"/></svg>
</button>
<ul id=menu class="main-menu hidden">
<li>
<a href=https://qutrits.github.io/series-list/ title=시리즈>
<span>시리즈</span>
</a>
</li>
<li>
<a href=https://qutrits.github.io/collection/ title=모아보기>
<span>모아보기</span>
</a>
</li>
<li>
<a href=https://qutrits.github.io/archives/ title="기록 보관소">
<span>기록 보관소</span>
</a>
</li>
<li>
<a href=https://qutrits.github.io/search/ title="검색 (Alt + /)" accesskey=/>
<span>검색</span>
</a>
</li>
<li>
<a href=https://qutrits.github.io/tags/ title=태그>
<span>태그</span>
</a>
</li>
</ul>
</nav>
</header>
<script>let b=document.querySelector("#menu-trigger"),m=document.querySelector("#menu");b.addEventListener("click",function(){m.classList.toggle("hidden")}),document.body.addEventListener("click",function(a){b.contains(a.target)||m.classList.add("hidden")})</script>
<script>function loding_indicator(b,a){if(b===!0){const b=document.createElement("div");b.id="loading-indicator",b.innerHTML='<div class="spinner"></div>',a.parentNode.insertBefore(b,a.nextSibling)}else{const a=document.getElementById("loading-indicator");a.classList.add("scale-zero")}}</script>
<script>const header_DOMReady=function(a){document.readyState==="interactive"||document.readyState==="complete"?a():document.addEventListener("DOMContentLoaded",a)};header_DOMReady(function(){function b(){let b=e.scrollHeight-d(a)-window.innerHeight,c=window.pageYOffset,f=c/b*100;a.style.width=f+"%"}function d(a){var e=a.offsetHeight,b=document.body.offsetHeight,c=a.getBoundingClientRect(),d=c.top,f=c.bottom;return Math.max(0,d>0?Math.min(e,b-d):Math.min(f,b))}const e=document.querySelector("html"),f=document.querySelector("body"),c=document.createElement("div");c.classList.add("progress-bar-container__progress"),f.prepend(c);const a=document.querySelector(".progress-bar-container__progress"),g={childList:!0,subtree:!0,characterData:!0,attributes:!0};new MutationObserver(b).observe(a,g),window.addEventListener("scroll",()=>{b()})})</script><main class=main>
<article class=post-single>
<header class=post-header>
<div class=breadcrumbs data-animation=true><a href=https://qutrits.github.io/>Home</a>
&nbsp;<svg style="margin-right:-10px;vertical-align:-2px" stroke="currentcolor" fill="currentcolor" stroke-width="0" viewBox="0 0 24 24" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M10 6 8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"/></svg><svg style="vertical-align:-2px" stroke="currentcolor" fill="currentcolor" stroke-width="0" viewBox="0 0 24 24" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M10 6 8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"/></svg>
&nbsp;
<a href=https://qutrits.github.io/effective-java-3e/>Effctive Java 3/E</a>
&nbsp;<svg style="margin-right:-10px;vertical-align:-2px" stroke="currentcolor" fill="currentcolor" stroke-width="0" viewBox="0 0 24 24" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M10 6 8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"/></svg><svg style="vertical-align:-2px" stroke="currentcolor" fill="currentcolor" stroke-width="0" viewBox="0 0 24 24" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M10 6 8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"/></svg>
&nbsp;
<a href=https://qutrits.github.io/effective-java-3e/chapter-03/>3장 클래스와 인터페이스</a></div>
<h1 class=post-title data-animation=true>
[아이템 23] 태그 달린 클래스보다는 클래스 계층구조를 활용하자
</h1>
<div class=post-meta data-animation=true><span title="2020-07-04 15:46:26 +0900 KST">2020년 7월 4일</span>&nbsp;&nbsp;·&nbsp;&nbsp;<span><svg class="svg--time" aria-hidden="true" focusable="false" data-prefix="far" data-icon="clock" role="img" xmlns="http://www.w3.org/2000/svg" width="13.19" height="13.19" viewBox="0 0 512 512"><path fill="currentcolor" d="M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm0 448c-110.5.0-2e2-89.5-2e2-2e2S145.5 56 256 56s2e2 89.5 2e2 2e2-89.5 2e2-2e2 2e2zm61.8-104.4-84.9-61.7c-3.1-2.3-4.9-5.9-4.9-9.7V116c0-6.6 5.4-12 12-12h32c6.6.0 12 5.4 12 12v141.7l66.8 48.6c5.4 3.9 6.5 11.4 2.6 16.8L334.6 349c-3.9 5.3-11.4 6.5-16.8 2.6z"/></svg> 3 분 소요</span>&nbsp;&nbsp;·&nbsp;&nbsp;Kyungchul Shin&nbsp;&nbsp;|&nbsp;&nbsp;<a class=edit-post href=https://github.com/qutrits/qutrits.github.io/blob/main/content/effective-java-3e/chapter-03/Item23.md rel="noopener noreferrer" target=_blank>수정사항 제안</a>
&nbsp;&nbsp;|&nbsp;&nbsp;<span class=font-size-button>
<a id=font-size-default aria-label="글꼴 크기 재설정" title="글꼴 크기 재설정 (Alt + N)" accesskey=n><svg class="button default" viewBox="0 0 24 24"><path d="M7.20711 2.54289c.39052.39053.39052 1.02369.0 1.41422L5.41421 5.75H13.25c4.4183.0 8 3.58172 8 8 0 4.4183-3.5817 8-8 8-4.41828.0-8-3.5817-8-8 0-.552300000000001.44772-1 1-1s1 .447699999999999 1 1c0 3.3137 2.68629 6 6 6 3.3137.0 6-2.6863 6-6s-2.6863-6-6-6H5.41421l1.7929 1.79289c.39052.39053.39052 1.02371.0 1.41421C6.81658 11.3476 6.18342 11.3476 5.79289 10.9571l-3.5-3.49999c-.39052-.39053-.39052-1.02369.0-1.41422l3.5-3.5c.39053-.39052 1.02369-.39052 1.41422.0z" fill="#212121"/></svg>
</a>
&nbsp;
<a id=font-size-increase aria-label="글꼴 크기 늘리기" title="글꼴 크기 늘리기 (Alt + V)" accesskey=v><svg class="button increase" viewBox="0 0 24 24"><path d="M5.12 14 7.5 7.67 9.87 14M6.5 5 1 19H3.25l1.12-3h6.25l1.13 3H14L8.5 5h-2M18 7l-5 5.07 1.41 1.43L17 10.9V17h2V10.9l2.59 2.6L23 12.07 18 7z"/></svg>
</a>
&nbsp;
<a id=font-size-decrease aria-label="글꼴 크기 줄이기" title="글꼴 크기 줄이기 (Alt + B)" accesskey=b><svg class="button decrease" viewBox="0 0 24 24"><path d="M5.12 14 7.5 7.67 9.87 14M6.5 5 1 19H3.25l1.12-3h6.25l1.13 3H14L8.5 5h-2M18 17l5-5.07-1.41-1.43L19 13.1V7H17v6.1l-2.59-2.6L13 11.93 18 17z"/></svg>
</a>
</span>
<span class=display-font-size-info>100%</span>
<script>const postFontSize_DOMReady=function(a){document.readyState==="interactive"||document.readyState==="complete"?a():document.addEventListener("DOMContentLoaded",a)};postFontSize_DOMReady(function(){if(localStorage.getItem("post-content-font-size")){const a=document.querySelector(".main .post-single .post-content"),b=document.querySelector(".display-font-size-info"),c=document.querySelector(".aside-display-font-size-info");a.style.fontSize=localStorage.getItem("post-content-font-size")+"%",b.innerText=localStorage.getItem("post-content-font-size")+"%",c.innerText=localStorage.getItem("post-content-font-size")+"%"}else localStorage.setItem("post-content-font-size",100);const a=document.getElementById("font-size-default"),b=document.getElementById("font-size-decrease"),c=document.getElementById("font-size-increase");c.addEventListener("click",a=>{if(localStorage.getItem("post-content-font-size")){let a=parseInt(localStorage.getItem("post-content-font-size"));if(a+10>200)return;const b=document.querySelector(".main .post-single .post-content"),c=document.querySelector(".display-font-size-info"),d=document.querySelector(".aside-display-font-size-info");b.style.fontSize=a+10+"%",c.innerText=a+10+"%",d.innerText=a+10+"%",localStorage.setItem("post-content-font-size",a+10)}else _postContent.style.fontSize="105%",_displayFontSizeInfo.innerText="105%",_asideDisplayFontSizeInfo.innerText="105%",localStorage.setItem("post-content-font-size",105)}),b.addEventListener("click",a=>{if(localStorage.getItem("post-content-font-size")){let a=parseInt(localStorage.getItem("post-content-font-size"));if(a-5<50)return;const b=document.querySelector(".main .post-single .post-content"),c=document.querySelector(".display-font-size-info"),d=document.querySelector(".aside-display-font-size-info");b.style.fontSize=a-10+"%",c.innerText=a-10+"%",d.innerText=a-10+"%",localStorage.setItem("post-content-font-size",a-10)}else _postContent.style.fontSize="95%",_displayFontSizeInfo.innerText="95%",_asideDisplayFontSizeInfo.innerText="95%",localStorage.setItem("post-content-font-size",95)}),a.addEventListener("click",c=>{const d=document.querySelector(".main .post-single .post-content"),a=document.querySelector(".display-font-size-info"),b=document.querySelector(".aside-display-font-size-info");postContent.style.fontSize="100%",a.innerText="100%",b.innerText="100%",localStorage.setItem("post-content-font-size",100)})})</script>
<ul class=post-tags>
<li><a class=button href=https://qutrits.github.io/tags/java/>Java</a></li>
<li><a class=button href=https://qutrits.github.io/tags/effective-java-3e/>Effective Java 3E</a></li>
</ul></div>
</header>
<div class=series-main data-animation=true>
<div class=chapter-control>
<div class=info>
<div class=chapter-number>3 / 4</div>
<div class=page-button>
<div class=left>
<a class=button href=/effective-java-3e/chapter-02/item14/ aria-label="이전 장" accesskey={ title="(이전 장) Alt + Shift + ["><svg stroke="currentcolor" fill="currentcolor" stroke-width="0" viewBox="0 0 24 24" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M15.41 7.41 14 6l-6 6 6 6 1.41-1.41L10.83 12z"/></svg><svg style="margin-left:-12px" stroke="currentcolor" fill="currentcolor" stroke-width="0" viewBox="0 0 24 24" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M15.41 7.41 14 6l-6 6 6 6 1.41-1.41L10.83 12z"/></svg>
2 장
</a>
</div>
<div class=right>
<a class=button href=/effective-java-3e/chapter-04/item26/ aria-label="다음 장" accesskey=} title="(다음 장) Alt + Shift + ]">
4 장<svg style="margin-right:-12px" stroke="currentcolor" fill="currentcolor" stroke-width="0" viewBox="0 0 24 24" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M10 6 8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"/></svg><svg stroke="currentcolor" fill="currentcolor" stroke-width="0" viewBox="0 0 24 24" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M10 6 8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"/></svg>
</a>
</div>
</div>
</div>
</div>
<h2><a href=/chapter/effective-java-3e-chapter-3/>Effective Java 3E - 3장 클래스와 인터페이스</a></h2><svg width="32" height="48" fill="none" viewBox="0 0 32 48" class="series-corner-image"><path fill="#12b886" d="M32 0H0v48h.163l16-16L32 47.836V0z"/></svg>
<div class="series-main-description abstracted">추상화의 기본 단위인 클래스와 인터페이스는 자바 언어의 심장과도 같다. 그래서 자바 언어에는 클래스와 인터페이스 설계에 사용하는 강력한 요소가 많이 있다. 이번 장에서는 이런 요소를 적절히 활용하여 클래스와 인터페이스를 쓰기 편하고, 견고하며, 유연하게 만드는 방법을 안내한다.</div>
<ol class=series-list>
<li hugo-nav=/effective-java-3e/chapter-03/item15/>
<a href=/effective-java-3e/chapter-03/item15/>[아이템 15] 클래스와 멤버의 접근 권한을 최소화하라</a>
</li>
<li hugo-nav=/effective-java-3e/chapter-03/item16/>
<a href=/effective-java-3e/chapter-03/item16/>[아이템 16] public 클래스에서는 public 필드가 아닌 접근 메서드를 사용하라</a>
</li>
<li hugo-nav=/effective-java-3e/chapter-03/item17/>
<a href=/effective-java-3e/chapter-03/item17/>[아이템 17] 변경 가능성을 최소화하라</a>
</li>
<li hugo-nav=/effective-java-3e/chapter-03/item18/>
<a href=/effective-java-3e/chapter-03/item18/>[아이템 18] 상속보다는 컴포지션을 사용하라</a>
</li>
<li hugo-nav=/effective-java-3e/chapter-03/item19/>
<a href=/effective-java-3e/chapter-03/item19/>[아이템 19] 상속을 고려해 설계하고 문서화하라. 그렇지 않았다면 상속을 금지하라</a>
</li>
<li hugo-nav=/effective-java-3e/chapter-03/item20/>
<a href=/effective-java-3e/chapter-03/item20/>[아이템 20] 추상 클래스보다는 인터페이스를 우선하라</a>
</li>
<li hugo-nav=/effective-java-3e/chapter-03/item21/>
<a href=/effective-java-3e/chapter-03/item21/>[아이템 21] 인터페이스는 구현하는 쪽을 생각해 설계하라</a>
</li>
<li hugo-nav=/effective-java-3e/chapter-03/item22/>
<a href=/effective-java-3e/chapter-03/item22/>[아이템 22] 인터페이스는 타입을 정의하는 용도로만 사용하라</a>
</li>
<li hugo-nav=/effective-java-3e/chapter-03/item23/>
<a href=/effective-java-3e/chapter-03/item23/ class=current>[아이템 23] 태그 달린 클래스보다는 클래스 계층구조를 활용하자</a>
</li>
<li hugo-nav=/effective-java-3e/chapter-03/item24/>
<a href=/effective-java-3e/chapter-03/item24/>[아이템 24] 멤버 클래스는 되도록 static으로 만들어라</a>
</li>
<li hugo-nav=/effective-java-3e/chapter-03/item25/>
<a href=/effective-java-3e/chapter-03/item25/>[아이템 25] 톱레벨 클래스는 한 파일에만 담으라</a>
</li>
</ol>
<div class=series-control>
<div class=toggle aria-label="시리즈 목록 토글" accesskey=w title="Lock / Unlock (Alt + W)"><svg class="lock" width="28" height="28" viewBox="0 0 512 512"><path d="M363.908 212.282v-90.978C363.908 54.434 309.509.0 242.606.0c-66.884.0-121.302 54.434-121.302 121.304v90.978c-33.498.0-60.653 27.158-60.653 60.648v151.629c0 33.5 27.155 60.653 60.653 60.653h242.604c33.491.0 60.653-27.153 60.653-60.653V272.93C424.562 239.439 397.399 212.282 363.908 212.282zM257.77 359.257v50.139c0 8.382-6.781 15.163-15.163 15.163s-15.164-6.781-15.164-15.163v-50.139c-8.9-5.269-15.161-14.57-15.161-25.673.0-16.765 13.579-30.327 30.324-30.327s30.326 13.562 30.326 30.327C272.933 344.687 266.665 353.989 257.77 359.257zm45.485-146.975h-121.3v-90.978c0-33.465 27.2-60.653 60.651-60.653 33.435.0 60.648 27.188 60.648 60.653v90.978z"/></svg><svg class="unlock" width="28" height="28" viewBox="0 0 512 512"><path d="M424.562 212.282h-60.653H242.607v-90.978C242.607 54.434 188.206.0 121.305.0 54.419.0.001 54.434.001 121.304v90.978h60.651v-90.978c0-33.465 27.205-60.653 60.653-60.653 33.435.0 60.651 27.188 60.651 60.653v90.978c-33.493.0-60.651 27.158-60.651 60.648v151.629c0 33.5 27.158 60.653 60.651 60.653h242.606c33.491.0 60.649-27.153 60.649-60.653V272.93C485.212 239.439 458.054 212.282 424.562 212.282zM318.424 359.257v50.139c0 8.382-6.786 15.163-15.168 15.163-8.377.0-15.158-6.781-15.158-15.163v-50.139c-8.887-5.269-15.164-14.57-15.164-25.673.0-16.765 13.562-30.327 30.322-30.327 16.765.0 30.331 13.562 30.331 30.327.0 11.103-6.28100000000001 20.405-15.163 25.673z"/></svg>
</div>
<div class=info>
<div class=series-number>
9 / 11
</div>
<div class=page-button>
<div class=left>
<a class=button href=/effective-java-3e/chapter-03/item22/ aria-label="이전 페이지" accesskey=[ title="(이전 페이지) Alt + ["><svg stroke="currentcolor" fill="currentcolor" stroke-width="0" viewBox="0 0 24 24" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M15.41 7.41 14 6l-6 6 6 6 1.41-1.41L10.83 12z"/></svg>
</a>
</div>
<div class=right>
<a class=button href=/effective-java-3e/chapter-03/item24/ aria-label="다음 페이지" accesskey=] title="(다음 페이지) Alt + ]"><svg stroke="currentcolor" fill="currentcolor" stroke-width="0" viewBox="0 0 24 24" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M10 6 8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"/></svg>
</a>
</div>
</div>
</div>
</div>
</div>
<script>const series_DOMReady=function(a){document.readyState==="interactive"||document.readyState==="complete"?a():document.addEventListener("DOMContentLoaded",a)};series_DOMReady(function(){const e=localStorage.getItem("lock-series-Effective Java 3E Chapter 3"),b=document.querySelector(".series-main .series-list"),a=document.querySelector(".series-main .series-control .toggle");if(localStorage.getItem("series-main-")==="true"){const a=document.querySelector(".series-main"),b=a.getBoundingClientRect();window.scrollTo(0,b.top),localStorage.removeItem("series-main-")}document.querySelector(".series-main .series-control .toggle").addEventListener("click",()=>{b.style.display==="none"||b.style.display===""?(localStorage.setItem("lock-series-Effective Java 3E Chapter 3",!1),a.querySelector(".lock").classList.add("hide"),a.querySelector(".unlock").classList.remove("hide"),b.style.display="block"):b.style.display==="block"&&(localStorage.setItem("lock-series-Effective Java 3E Chapter 3",!0),a.querySelector(".lock").classList.remove("hide"),a.querySelector(".unlock").classList.add("hide"),b.style.display="none")});const c=document.querySelector(".series-main-description");c&&c.addEventListener("click",a=>{a.target.classList.contains("abstracted")?(a.target.classList.remove("abstracted"),a.target.classList.add("zoom-out")):(a.target.classList.remove("zoom-out"),a.target.classList.add("abstracted"))}),e==="false"?(b.style.display="block",a.querySelector(".lock").classList.add("hide"),a.querySelector(".unlock").classList.remove("hide")):(b.style.display="none",a.querySelector(".lock").classList.remove("hide"),a.querySelector(".unlock").classList.add("hide"));const d=[...document.querySelectorAll(".chapter-control .page-button a:not(.disabled)"),...document.querySelectorAll(".series-main .series-list li a"),...document.querySelectorAll(".series-control .page-button a:not(.disabled)")];for(let a=0;a<d.length;a++)d[a].addEventListener("click",a=>{localStorage.setItem("series-main-",!0)})})</script>
<div class=toc data-animation=true>
<details>
<summary accesskey=c title="(Alt + C)">
<span class=details>목차</span>
</summary>
<div class=inner><ul>
<li>
<a href=#%ec%95%88-%ec%a2%8b%ec%9d%80-%ec%98%88%ec%8b%9c aria-label="안 좋은 예시">안 좋은 예시</a></li>
<li>
<a href=#%ed%83%9c%ea%b7%b8%eb%8b%ac%eb%a6%b0-%ed%81%b4%eb%9e%98%ec%8a%a4%eb%a5%bc-%ed%81%b4%eb%9e%98%ec%8a%a4-%ea%b3%84%ec%b8%b5-%ea%b5%ac%ec%a1%b0%eb%a1%9c-%eb%b0%94%ea%be%b8%eb%8a%94-%eb%b0%a9%eb%b2%95 aria-label="태그달린 클래스를 클래스 계층 구조로 바꾸는 방법">태그달린 클래스를 클래스 계층 구조로 바꾸는 방법</a></li>
<li>
<a href=#i-classuser-fa-av-new-releases-aria-hiddentruei-%ec%a0%95%eb%a6%ac aria-label=" 정리"><i class=user-fa-av-new-releases aria-hidden=true></i> 정리</a>
</li>
</ul>
</div>
</details>
</div>
<div class=toc-aside-wrapper data-animation=true>
<div class="toc-aside-summary hide" aria-label="우측 TOC 토글" accesskey=a title="Lock / Unlock (Alt + A)" data-animation=true>
<span class=toggle><svg class="lock" width="20" height="20" viewBox="0 0 512 512"><path d="M363.908 212.282v-90.978C363.908 54.434 309.509.0 242.606.0c-66.884.0-121.302 54.434-121.302 121.304v90.978c-33.498.0-60.653 27.158-60.653 60.648v151.629c0 33.5 27.155 60.653 60.653 60.653h242.604c33.491.0 60.653-27.153 60.653-60.653V272.93C424.562 239.439 397.399 212.282 363.908 212.282zM257.77 359.257v50.139c0 8.382-6.781 15.163-15.163 15.163s-15.164-6.781-15.164-15.163v-50.139c-8.9-5.269-15.161-14.57-15.161-25.673.0-16.765 13.579-30.327 30.324-30.327s30.326 13.562 30.326 30.327C272.933 344.687 266.665 353.989 257.77 359.257zm45.485-146.975h-121.3v-90.978c0-33.465 27.2-60.653 60.651-60.653 33.435.0 60.648 27.188 60.648 60.653v90.978z"/></svg><svg class="unlock" width="20" height="20" viewBox="0 0 512 512"><path d="M424.562 212.282h-60.653H242.607v-90.978C242.607 54.434 188.206.0 121.305.0 54.419.0.001 54.434.001 121.304v90.978h60.651v-90.978c0-33.465 27.205-60.653 60.653-60.653 33.435.0 60.651 27.188 60.651 60.653v90.978c-33.493.0-60.651 27.158-60.651 60.648v151.629c0 33.5 27.158 60.653 60.651 60.653h242.606c33.491.0 60.649-27.153 60.649-60.653V272.93C485.212 239.439 458.054 212.282 424.562 212.282zM318.424 359.257v50.139c0 8.382-6.786 15.163-15.168 15.163-8.377.0-15.158-6.781-15.158-15.163v-50.139c-8.887-5.269-15.164-14.57-15.164-25.673.0-16.765 13.562-30.327 30.322-30.327 16.765.0 30.331 13.562 30.331 30.327.0 11.103-6.28100000000001 20.405-15.163 25.673z"/></svg>
</span>
<span class=details>목차</span>
</div>
<div class="toc-aside hide" data-animation=true>
<div class=inner-wrapper>
<div class=inner><ul>
<li>
<a href=#%ec%95%88-%ec%a2%8b%ec%9d%80-%ec%98%88%ec%8b%9c aria-label="안 좋은 예시">안 좋은 예시</a></li>
<li>
<a href=#%ed%83%9c%ea%b7%b8%eb%8b%ac%eb%a6%b0-%ed%81%b4%eb%9e%98%ec%8a%a4%eb%a5%bc-%ed%81%b4%eb%9e%98%ec%8a%a4-%ea%b3%84%ec%b8%b5-%ea%b5%ac%ec%a1%b0%eb%a1%9c-%eb%b0%94%ea%be%b8%eb%8a%94-%eb%b0%a9%eb%b2%95 aria-label="태그달린 클래스를 클래스 계층 구조로 바꾸는 방법">태그달린 클래스를 클래스 계층 구조로 바꾸는 방법</a></li>
<li>
<a href=#i-classuser-fa-av-new-releases-aria-hiddentruei-%ec%a0%95%eb%a6%ac aria-label=" 정리"><i class=user-fa-av-new-releases aria-hidden=true></i> 정리</a>
</li>
</ul>
</div>
</div>
</div>
</div>
<script>const tocAside_DOMReady=function(a){document.readyState==="interactive"||document.readyState==="complete"?a():document.addEventListener("DOMContentLoaded",a)};tocAside_DOMReady(function(){const g=[],k=document.querySelector(".main .post-single>.toc"),b=document.querySelector(".main .toc-aside"),i=document.querySelector(".post-header"),h=i.offsetHeight+i.offsetTop+i.offsetParent.offsetTop-1;let c=null,e=null,f=null,a=null;if(b){c=document.querySelector(".main .toc-aside-summary"),e=b.querySelector(".inner-wrapper"),f=c.querySelector(".toggle"),a=b.querySelectorAll(".inner-wrapper .inner ul>li"),localStorage.getItem("lock-aside-toc-"+window.location.pathname)==="true"?(c.dataset.isLock=!0,e.classList.add("close"),f.querySelector(".unlock").classList.add("hide")):(c.dataset.isLock=!1,e.classList.add("open"),f.querySelector(".lock").classList.add("hide"));for(let b=0;b<a.length;b++)g[b]=decodeURI(a[b].firstElementChild.hash.substring(1));h<window.pageYOffset?(b.classList.remove("hide"),b.classList.add("reveal"),c.classList.remove("hide")):h>=window.pageYOffset&&b.classList.add("hide"),c.addEventListener("click",()=>{c.dataset.isLock==="false"?(c.dataset.isLock=!0,localStorage.setItem("lock-aside-toc-"+window.location.pathname,!0),f.querySelector(".lock").classList.remove("hide"),f.querySelector(".unlock").classList.add("hide"),e.classList.add("close"),e.classList.remove("open")):(c.dataset.isLock=!1,localStorage.setItem("lock-aside-toc-"+window.location.pathname,!1),f.querySelector(".lock").classList.add("hide"),f.querySelector(".unlock").classList.remove("hide"),e.classList.add("open"),e.classList.remove("close"))})}let d=0,j=0;window.addEventListener("scroll",()=>{if(d=window.pageYOffset,b){const k=Math.ceil(d+window.innerHeight)>=document.body.scrollHeight;h<d&&b.classList.contains("hide")?(b.classList.remove("hide"),b.classList.add("reveal"),c.classList.remove("hide")):h>=d&&b.classList.contains("reveal")&&(b.scrollTop=0,b.classList.remove("reveal"),b.classList.add("hide"),c.classList.add("hide"));let f=null,i=null,e=null,l=null;if(g.map((c,b)=>{l=document.getElementById(c);const g=l.getBoundingClientRect(),h=g.top;d+h-1<=d&&(f=a[b],e=b)}),e!==null){if(k){for(let b=0;b<a.length;b++){if(!a[b].classList.contains("selected"))continue;a[b].classList.remove("selected")}a[g.length-1].classList.add("selected"),i=a[g.length-1]}else{if(f===i&&e>0){j=d;return}for(let b=0;b<a.length;b++){if(!a[b].classList.contains("selected"))continue;a[b].classList.remove("selected")}f.classList.add("selected"),i=f}e!==null&&b.scroll({behavior:'smooth',top:e*20})}else if(k)a[g.length-1].classList.add("selected"),i=a[g.length-1];else{if(b.querySelector(".selected")===null){j=d;return}for(let b=0;b<a.length;b++){if(!a[b].classList.contains("selected"))continue;a[b].classList.remove("selected")}}}j=d})})</script>
<div class=post-content data-animation=true><p>때때로 두 가지 이상의 의미를 표현하고 인스턴스의 특징을 알려주는 태그 필드로 나타내는 클래스를 본 적이 있을겁니다.<br>
<br></p>
<h2 id=안-좋은-예시>안 좋은 예시<a hidden class=anchor aria-hidden=true href=#안-좋은-예시><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 007.54.54l3-3a5 5 0 00-7.07-7.07l-1.72 1.71"/><path d="M14 11a5 5 0 00-7.54-.54l-3 3a5 5 0 007.07 7.07l1.71-1.71"/></svg></a></h2>
<div class=highlight><div class=chroma>
<table class=lntable><tr><td class=lntd>
<pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span><span class=lnt>31
</span><span class=lnt>32
</span><span class=lnt>33
</span><span class=lnt>34
</span><span class=lnt>35
</span><span class=lnt>36
</span></code></pre></td>
<td class=lntd>
<pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=kd>public</span> <span class=kd>class</span> <span class=nc>Figure</span> <span class=o>{</span>
    <span class=kd>enum</span> <span class=n>Shape</span> <span class=o>{</span> <span class=n>RECTANGLE</span><span class=o>,</span> <span class=n>CIRCLE</span> <span class=o>};</span>

    <span class=c1>// 태그 필드 - 현재 모양을 나타냅니다.
</span><span class=c1></span>    <span class=kd>final</span> <span class=n>Shape</span> <span class=n>shape</span><span class=o>;</span>

    <span class=c1>// 모양이 사각형(RECTANGLE)일 때만 쓰입니다.
</span><span class=c1></span>    <span class=kt>double</span> <span class=n>length</span><span class=o>;</span>
    <span class=kt>double</span> <span class=n>width</span><span class=o>;</span>

    <span class=c1>// 다음 필드 모양이 원(CIRCLE)일 때만 쓰입니다.
</span><span class=c1></span>    <span class=kt>double</span> <span class=n>radius</span><span class=o>;</span>

    <span class=c1>// 원 생성
</span><span class=c1></span>    <span class=n>Figure</span><span class=o>(</span><span class=kt>double</span> <span class=n>radius</span><span class=o>)</span> <span class=o>{</span>
        <span class=n>shape</span> <span class=o>=</span> <span class=n>Shape</span><span class=o>.</span><span class=na>CIRCLE</span><span class=o>;</span>
        <span class=k>this</span><span class=o>.</span><span class=na>radius</span> <span class=o>=</span> <span class=n>radius</span><span class=o>;</span>
    <span class=o>}</span>

    <span class=n>Figure</span><span class=o>(</span><span class=kt>double</span> <span class=n>length</span><span class=o>,</span> <span class=kt>double</span> <span class=n>width</span><span class=o>)</span> <span class=o>{</span>
        <span class=n>shape</span> <span class=o>=</span> <span class=n>Shape</span><span class=o>.</span><span class=na>RECTANGLE</span><span class=o>;</span>
        <span class=k>this</span><span class=o>.</span><span class=na>length</span> <span class=o>=</span> <span class=n>length</span><span class=o>;</span>
        <span class=k>this</span><span class=o>.</span><span class=na>width</span> <span class=o>=</span> <span class=n>width</span><span class=o>;</span>
    <span class=o>}</span>

    <span class=kt>double</span> <span class=nf>area</span><span class=o>()</span> <span class=o>{</span>
        <span class=k>switch</span> <span class=o>(</span><span class=n>shape</span><span class=o>)</span> <span class=o>{</span>
            <span class=k>case</span> <span class=n>RECTANGLE</span><span class=o>:</span>
                <span class=k>return</span> <span class=n>length</span> <span class=o>*</span> <span class=n>width</span><span class=o>;</span>
            <span class=k>case</span> <span class=n>CIRCLE</span><span class=o>:</span>
                <span class=k>return</span> <span class=n>Math</span><span class=o>.</span><span class=na>PI</span> <span class=o>*</span> <span class=o>(</span><span class=n>radius</span> <span class=o>*</span> <span class=n>radius</span><span class=o>);</span>
            <span class=k>default</span><span class=o>:</span>
                <span class=k>throw</span> <span class=k>new</span> <span class=n>AssertionError</span><span class=o>();</span>
        <span class=o>}</span>
    <span class=o>}</span>
<span class=o>}</span>
</code></pre></td></tr></table>
</div>
</div><p>태그 달린 클래스에는 단점이 많습니다. 열거 타입 선언, 태그 필드, switch문 등 잡다한 코드가 너무 많습니다. 여러 구현이 한 클래스에 있어서 구현도 나쁩니다. 인스턴스가 다른 특징에 속하는 관련없는 필드로 인해 메모리도 많이 사용하게 됩니다.<br>
또 다른 의미를 추가하려면 switch문을 찾아 새 의미를 처리하는 코드를 추가해야하는 데 하나라도 빠뜨리면 문제가 될 수도 있습니다. 마지막으로, 인스턴스의 타입만으로는 현재 나타내는 의미를 알 길이 없습니다.</p>
<p><em><strong>태그 달린 클래스는 장황하고, 오류를 내기 쉽고, 비효율적입니다.</strong></em></p>
<p>클래스 계층구조를 활용하는 <code>서브타이핑</code>을 이용해서 타입 하나로 다양한 의미의 객체를 표현할 수 있습니다. 태그 달린 클래스는 클래스 계층구조를 어설프게 흉내낸 아류일뿐입니다.<br>
<br><br>
<br></p>
<h2 id=태그달린-클래스를-클래스-계층-구조로-바꾸는-방법>태그달린 클래스를 클래스 계층 구조로 바꾸는 방법<a hidden class=anchor aria-hidden=true href=#태그달린-클래스를-클래스-계층-구조로-바꾸는-방법><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 007.54.54l3-3a5 5 0 00-7.07-7.07l-1.72 1.71"/><path d="M14 11a5 5 0 00-7.54-.54l-3 3a5 5 0 007.07 7.07l1.71-1.71"/></svg></a></h2>
<ol>
<li>계층구조의 루트가 될 추상 클래스를 정의하고, 태그 값에 따라 동작이 달라지는 메서드들을 루트 클래스의 추상 메서드로 선언합니다.</li>
<li>태그 값에 상관없이 동작이 일정한 메서드들을 루트 클래승 일반 메서드로 추가합니다.</li>
<li>모든 하위 클래스에서 공통으로 사용하는 데이터 필드들도 전부 루트 클래스로 올립니다.</li>
<li>루트 클래스를 확장한 구체 클래스를 의미별로 하나씩 정의합니다.</li>
</ol>
<p><code>Figure</code> 클래스에서는 태그 값과 상관없는 메서드가 하나도 없고, 모든 하위 클래스에서 사용하는 공통 데이터 필드가 없습니다. 그 결과 루트 클래스에는 추상메서드 <code>area</code>하나만 남게 됩니다.</p>
<p>다음은 <code>Figure</code> 클래스를 계층구조 방식으로 구현한 코드입니다.</p>
<div class=highlight><div class=chroma>
<table class=lntable><tr><td class=lntd>
<pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span></code></pre></td>
<td class=lntd>
<pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=kd>abstract</span> <span class=kd>class</span> <span class=nc>Figure</span> <span class=o>{</span>
    <span class=kd>abstract</span> <span class=kt>double</span> <span class=n>area</span><span class=o>;</span>
<span class=o>}</span>

<span class=kd>public</span> <span class=kd>class</span> <span class=nc>Circle</span> <span class=kd>extends</span> <span class=n>Figure</span><span class=o>{</span>
    <span class=kd>final</span> <span class=kt>double</span> <span class=n>radius</span><span class=o>;</span>

    <span class=kd>public</span> <span class=nf>Circle</span><span class=o>(</span><span class=kt>double</span> <span class=n>radius</span><span class=o>)</span> <span class=o>{</span>
        <span class=k>this</span><span class=o>.</span><span class=na>radius</span> <span class=o>=</span> <span class=n>radius</span><span class=o>;</span>
    <span class=o>}</span>

    <span class=nd>@Override</span>
    <span class=kt>double</span> <span class=nf>area</span><span class=o>()</span> <span class=o>{</span>
        <span class=k>return</span> <span class=n>Math</span><span class=o>.</span><span class=na>PI</span> <span class=o>*</span> <span class=o>(</span><span class=n>radius</span> <span class=o>*</span> <span class=n>radius</span><span class=o>);</span>
    <span class=o>}</span>
<span class=o>}</span>

<span class=c1>// Rentangle 클래스 위와 같은 방식으로 구현하면 됩니다.
</span></code></pre></td></tr></table>
</div>
</div><p>태그 달린 클래스에 비교하면 쓸데 없는 코드들은 모두 제거했고, 각 의미를 독립된 클래스에 담아 관련 없던 데이터 필드를 모두 제거했습니다.</p>
<p>살아 남은필드들은 모두 final이며 각 클래스의 생성자가 모든 필드를 남김없이 초기화하고 추상 메서드를 구현했는지 컴파일러가 확인해줍니다.<br>
<br><br>
<br></p>
<h2 id=i-classuser-fa-av-new-releases-aria-hiddentruei-정리><i class=user-fa-av-new-releases aria-hidden=true></i> 정리<a hidden class=anchor aria-hidden=true href=#i-classuser-fa-av-new-releases-aria-hiddentruei-정리><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 007.54.54l3-3a5 5 0 00-7.07-7.07l-1.72 1.71"/><path d="M14 11a5 5 0 00-7.54-.54l-3 3a5 5 0 007.07 7.07l1.71-1.71"/></svg></a></h2>
<ul>
<li>태그 달린 클래스를 써야 하는 상황은 거의 없습니다.</li>
<li>새로운 클래스를 작성할 때 태그 필드가 등자했다면 계층 구조롤 대체하는 방법을 고려해보자.</li>
<li>기존 클래스가 필드를 사용하고 있다면 계층구조로 리팩터링 하는 걸 고려민해보자.</li>
</ul>
</div>
<footer class=post-footer data-animation=true><div class=post-license-info>
<a class=button rel=license href=https://creativecommons.org/licenses/by-sa/4.0/deed.ko target=_blank>
<img alt="Attribution-ShareAlike 4.0 International" src=https://i.creativecommons.org/l/by-sa/4.0/88x31.png>
</a>
<div class=license-descript>
이 저작물은 <a rel=license href=https://creativecommons.org/licenses/by-sa/4.0/deed.ko target=_blank>크리에이티브 커먼즈 저작자표시-동일조건변경허락 4.0 국제 라이선스</a>에 따라 이용할 수 있습니다.
</div>
</div>
<ul class=post-tags>
<li><a class=button href=https://qutrits.github.io/tags/java/>Java</a></li>
<li><a class=button href=https://qutrits.github.io/tags/effective-java-3e/>Effective Java 3E</a></li>
</ul>
<nav class=paginav>
<a class="prev button" href=https://qutrits.github.io/effective-java-3e/chapter-03/item22/>
<span class=title><svg style="vertical-align:-2px" stroke="currentcolor" fill="currentcolor" stroke-width="0" viewBox="0 0 24 24" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M15.41 7.41 14 6l-6 6 6 6 1.41-1.41L10.83 12z"/></svg><svg style="margin-left:-10px;vertical-align:-2px" stroke="currentcolor" fill="currentcolor" stroke-width="0" viewBox="0 0 24 24" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M15.41 7.41 14 6l-6 6 6 6 1.41-1.41L10.83 12z"/></svg>
이전 페이지
</span>
<br>
<span>[아이템 22] 인터페이스는 타입을 정의하는 용도로만 사용하라</span>
</a>
<a class="next button" href=https://qutrits.github.io/effective-java-3e/chapter-03/item24/>
<span class=title>
다음 페이지<svg style="margin-right:-10px;vertical-align:-2px" stroke="currentcolor" fill="currentcolor" stroke-width="0" viewBox="0 0 24 24" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M10 6 8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"/></svg><svg style="vertical-align:-2px" stroke="currentcolor" fill="currentcolor" stroke-width="0" viewBox="0 0 24 24" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M10 6 8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"/></svg>
</span>
<br>
<span>[아이템 24] 멤버 클래스는 되도록 static으로 만들어라</span>
</a>
</nav>
<div class=share-buttons>
<a target=_blank rel="noopener noreferrer" class=kakaotalk id=kakaotalk-share aria-label="share [아이템 23] 태그 달린 클래스보다는 클래스 계층구조를 활용하자 on kakaotalk"><svg viewBox="0 0 24 24"><path d="M22.125.0H1.875C.8394.0.0.8394.0 1.875v20.25C0 23.1606.8394 24 1.875 24h20.25C23.1606 24 24 23.1606 24 22.125V1.875C24 .8394 23.1606.0 22.125.0zM12 18.75c-.591.0-1.1697-.0413-1.7317-.1209-.5626.3965-3.813 2.6797-4.1198 2.7225.0.0-.1258.0489-.2328-.0141s-.0876-.2282-.0876-.2282c.0322-.2198.8426-3.0183.992-3.5333-2.7452-1.36-4.5701-3.7686-4.5701-6.5135C2.25 6.8168 6.6152 3.375 12 3.375s9.75 3.4418 9.75 7.6875S17.3848 18.75 12 18.75zM8.0496 9.8672h-.8777v3.3417c0 .2963-.2523.5372-.5625.5372s-.5625-.2409-.5625-.5372V9.8672h-.8777c-.3044.0-.552-.2471-.552-.5508s.2477-.5508.552-.5508h2.8804c.3044.0.552.2471.552.5508s-.2477.5508-.552.5508zm10.9879 2.9566a.558.558.0 01.108.4167.5588.5588.0 01-.2183.371.5572.5572.0 01-.3383.1135.558.558.0 01-.4493-.2236l-1.3192-1.7479-.1952.1952v1.2273a.5635.5635.0 01-.5627.5628.563.563.0 01-.5625-.5625V9.3281c0-.3102.2523-.5625.5625-.5625s.5625.2523.5625.5625v1.209l1.5694-1.5694c.0807-.0807.1916-.1252.312-.1252.1404.0.2814.0606.3871.1661.0985.0984.1573.2251.1654.3566.0082.1327-.036.2542-.1241.3425l-1.2818 1.2817 1.3845 1.8344zm-8.3502-3.5023c-.095-.2699-.3829-.5475-.7503-.5557-.3663.0083-.6542.2858-.749.5551l-1.3455 3.5415c-.1708.5305-.0217.7272.1333.7988a.8568.8568.0 00.3576.0776c.2346.0.4139-.0952.4678-.2481l.2787-.7297 1.7152 1e-4.2785.7292c.0541.1532.2335.2484.4681.2484a.8601.8601.0 00.3576-.0775c.1551-.0713.3041-.2681.1329-.7999l-1.3449-3.5398zm-1.3116 2.4433.5618-1.5961.5618 1.5961H9.3757zm5.9056 1.3836c0 .2843-.2418.5156-.5391.5156h-1.8047c-.2973.0-.5391-.2314-.5391-.5156V9.3281c0-.3102.2576-.5625.5742-.5625s.5742.2523.5742.5625v3.3047h1.1953c.2974.0.5392.2314.5392.5156z"/></svg>
</a>
<a target=_blank rel="noopener noreferrer" class=kakaostory aria-label="share [아이템 23] 태그 달린 클래스보다는 클래스 계층구조를 활용하자 on kakaostory" href="https://story.kakao.com/share?url=https%3a%2f%2fqutrits.github.io%2feffective-java-3e%2fchapter-03%2fitem23%2f"><svg viewBox="0 0 16.226 16.226"><g><path d="M16.226 14.929c0 .71582-.58099 1.2968-1.2988 1.2968h-13.63c-.71582.0-1.2968-.58098-1.2968-1.2968V1.297C4e-4.58118.58139 2e-4 1.2972 2e-4h13.63c.7178.0 1.2988.58099 1.2988 1.2968z"/></g><path d="M10.749 7.4795V3.6307H5.4765v5.2765h2.439c-.232 1.3424-1.0351 2.3775-1.8619 2.9624l1.5348 1.5229c1.9056-1.279 3.1607-3.4463 3.1607-5.913"/></svg>
</a>
<a target=_blank rel="noopener noreferrer" class=naverblog aria-label="share [아이템 23] 태그 달린 클래스보다는 클래스 계층구조를 활용하자 on naverblog" href="https://share.naver.com/web/shareView.nhn?url=https%3a%2f%2fqutrits.github.io%2feffective-java-3e%2fchapter-03%2fitem23%2f&title=%5b%ec%95%84%ec%9d%b4%ed%85%9c%2023%5d%20%ed%83%9c%ea%b7%b8%20%eb%8b%ac%eb%a6%b0%20%ed%81%b4%eb%9e%98%ec%8a%a4%eb%b3%b4%eb%8b%a4%eb%8a%94%20%ed%81%b4%eb%9e%98%ec%8a%a4%20%ea%b3%84%ec%b8%b5%ea%b5%ac%ec%a1%b0%eb%a5%bc%20%ed%99%9c%ec%9a%a9%ed%95%98%ec%9e%90"><svg viewBox="0 0 24 24"><path d="M1.6.0S0 0 0 1.6v20.8S0 24 1.6 24h20.8s1.6.0 1.6-1.6V1.6S24 0 22.4.0zm3.415 5.6h4.78l4.425 6.458V5.6h4.765v12.8h-4.78L9.78 11.943V18.4H5.015z"/></svg>
</a>
<a target=_blank rel="noopener noreferrer" class=naverband aria-label="share [아이템 23] 태그 달린 클래스보다는 클래스 계층구조를 활용하자 on naverband" href="https://band.us/plugin/share?url=https%3a%2f%2fqutrits.github.io%2feffective-java-3e%2fchapter-03%2fitem23%2f&title=%5b%ec%95%84%ec%9d%b4%ed%85%9c%2023%5d%20%ed%83%9c%ea%b7%b8%20%eb%8b%ac%eb%a6%b0%20%ed%81%b4%eb%9e%98%ec%8a%a4%eb%b3%b4%eb%8b%a4%eb%8a%94%20%ed%81%b4%eb%9e%98%ec%8a%a4%20%ea%b3%84%ec%b8%b5%ea%b5%ac%ec%a1%b0%eb%a5%bc%20%ed%99%9c%ec%9a%a9%ed%95%98%ec%9e%90"><svg viewBox="0 0 79.375 79.374"><path d="M147.5 684.67c-20.294.0-36.747-16.452-36.747-36.746v-104c0-20.295 16.453-36.747 36.747-36.747h104c20.295.0 36.747 16.452 36.747 36.747v104c0 20.294-16.452 36.746-36.747 36.746z" transform="matrix(.4472 0 0 -.4472 -49.529 306.18)"/><g clip-path="url(#b)" transform="matrix(.4472 0 0 -.4472 -49.529 306.18)"><path d="M186.89 582.48c0 6.966 5.647 12.614 12.614 12.614 6.966.0 12.614-5.648 12.614-12.614s-5.648-12.613-12.614-12.613c-6.967.0-12.614 5.647-12.614 12.613m12.614-43.152c-23.832.0-43.152 19.32-43.152 43.152v58.587c0 6.325 5.127 11.452 11.452 11.452 6.324.0 11.452-5.127 11.452-11.452V582.48c0-11.183 9.065-20.248 20.248-20.248 11.182.0 20.248 9.065 20.248 20.248s-9.066 20.249-20.248 20.249c-4.77.0-9.154-1.651-12.614-4.41v9.031c3.788 1.926 8.073 3.013 12.614 3.013 15.399.0 27.883-12.484 27.883-27.883s-12.484-27.883-27.883-27.883c-15.4.0-27.883 12.484-27.883 27.883v58.587c0 2.108-1.709 3.817-3.817 3.817s-3.818-1.709-3.818-3.817V582.48c0-19.616 15.902-35.517 35.518-35.517 19.615.0 35.517 15.901 35.517 35.517s-15.902 35.518-35.517 35.518c-4.443.0-8.694-.817-12.614-2.308v8.066c3.99 1.219 8.225 1.876 12.614 1.876 23.832.0 43.152-19.319 43.152-43.152.0-23.832-19.32-43.152-43.152-43.152m0 93.939c-4.355.0-8.581-.55-12.614-1.581v9.381c0 10.541-8.545 19.087-19.086 19.087s-19.087-8.546-19.087-19.087V582.48c0-28.048 22.738-50.786 50.787-50.786s50.786 22.738 50.786 50.786c0 28.049-22.737 50.787-50.786 50.787"/></g></svg>
</a>
<a target=_blank rel="noopener noreferrer" class=twitter aria-label="share [아이템 23] 태그 달린 클래스보다는 클래스 계층구조를 활용하자 on twitter" href="https://twitter.com/intent/tweet/?text=%5b%ec%95%84%ec%9d%b4%ed%85%9c%2023%5d%20%ed%83%9c%ea%b7%b8%20%eb%8b%ac%eb%a6%b0%20%ed%81%b4%eb%9e%98%ec%8a%a4%eb%b3%b4%eb%8b%a4%eb%8a%94%20%ed%81%b4%eb%9e%98%ec%8a%a4%20%ea%b3%84%ec%b8%b5%ea%b5%ac%ec%a1%b0%eb%a5%bc%20%ed%99%9c%ec%9a%a9%ed%95%98%ec%9e%90&url=https%3a%2f%2fqutrits.github.io%2feffective-java-3e%2fchapter-03%2fitem23%2f&hashtags=Java%2cEffectiveJava3E"><svg viewBox="0 0 512 512"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zM195.519 424.544c135.939.0 210.268-112.643 210.268-210.268.0-3.218.0-6.437-.153-9.502 14.406-10.421 26.973-23.448 36.935-38.314-13.18 5.824-27.433 9.809-42.452 11.648 15.326-9.196 26.973-23.602 32.49-40.92-14.252 8.429-30.038 14.56-46.896 17.931-13.487-14.406-32.644-23.295-53.946-23.295-40.767.0-73.87 33.104-73.87 73.87.0 5.824.613 11.494 1.992 16.858-61.456-3.065-115.862-32.49-152.337-77.241-6.284 10.881-9.962 23.601-9.962 37.088.0 25.594 13.027 48.276 32.95 61.456-12.107-.307-23.448-3.678-33.41-9.196v.92c0 35.862 25.441 65.594 59.311 72.49-6.13 1.686-12.72 2.606-19.464 2.606-4.751.0-9.348-.46-13.946-1.38 9.349 29.426 36.628 50.728 68.965 51.341-25.287 19.771-57.164 31.571-91.8 31.571-5.977.0-11.801-.306-17.625-1.073 32.337 21.15 71.264 33.41 112.95 33.41z"/></svg>
</a>
<a target=_blank rel="noopener noreferrer" class=facebook aria-label="share [아이템 23] 태그 달린 클래스보다는 클래스 계층구조를 활용하자 on facebook" href="https://facebook.com/sharer/sharer.php?u=https%3a%2f%2fqutrits.github.io%2feffective-java-3e%2fchapter-03%2fitem23%2f"><svg viewBox="0 0 512 512"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H342.978V319.085h66.6l12.672-82.621h-79.272v-53.617c0-22.603 11.073-44.636 46.58-44.636H425.6v-70.34s-32.71-5.582-63.982-5.582c-65.288.0-107.96 39.569-107.96 111.204v62.971h-72.573v82.621h72.573V512h-191.104c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892z"/></svg>
</a>
<a target=_blank rel="noopener noreferrer" class=telegram aria-label="share [아이템 23] 태그 달린 클래스보다는 클래스 계층구조를 활용하자 on telegram" href="https://telegram.me/share/url?text=%5b%ec%95%84%ec%9d%b4%ed%85%9c%2023%5d%20%ed%83%9c%ea%b7%b8%20%eb%8b%ac%eb%a6%b0%20%ed%81%b4%eb%9e%98%ec%8a%a4%eb%b3%b4%eb%8b%a4%eb%8a%94%20%ed%81%b4%eb%9e%98%ec%8a%a4%20%ea%b3%84%ec%b8%b5%ea%b5%ac%ec%a1%b0%eb%a5%bc%20%ed%99%9c%ec%9a%a9%ed%95%98%ec%9e%90&url=https%3a%2f%2fqutrits.github.io%2feffective-java-3e%2fchapter-03%2fitem23%2f"><svg viewBox="2 2 28 28"><path d="M26.49 29.86H5.5a3.37 3.37.0 01-2.47-1 3.35 3.35.0 01-1-2.47V5.48A3.36 3.36.0 013 3 3.37 3.37.0 015.5 2h21A3.38 3.38.0 0129 3a3.36 3.36.0 011 2.46V26.37a3.35 3.35.0 01-1 2.47 3.38 3.38.0 01-2.51 1.02zm-5.38-6.71a.79.79.0 00.85-.66L24.73 9.24a.55.55.0 00-.18-.46.62.62.0 00-.41-.17q-.08.0-16.53 6.11a.59.59.0 00-.41.59.57.57.0 00.43.52l4 1.24 1.61 4.83a.62.62.0 00.63.43.56.56.0 00.4-.17L16.54 20l4.09 3A.9.9.0 0021.11 23.15zM13.8 20.71l-1.21-4q8.72-5.55 8.78-5.55c.15.0.23.0.23.16a.18.18.0 010 .06s-2.51 2.3-7.52 6.8z"/></svg>
</a>
</div>
<script>const shareIcons_DOMReady=function(a){document.readyState==="interactive"||document.readyState==="complete"?a():document.addEventListener("DOMContentLoaded",a)};shareIcons_DOMReady(function(){document.getElementById("kakaotalk-share").addEventListener("click",()=>{const a=document.createElement('script');a.setAttribute("src","https://developers.kakao.com/sdk/js/kakao.min.js"),a.async=!0,a.onload=()=>{Kakao.init("b8cccaa78a75e1ff28f09a4a844b13c7"),Kakao.Link.sendDefault({objectType:"feed",content:{title:'[아이템 23] 태그 달린 클래스보다는 클래스 계층구조를 활용하자',description:'Java,EffectiveJava3E',imageUrl:'https://qutrits.github.io/icon/favicon.png',link:{mobileWebUrl:'https://qutrits.github.io/effective-java-3e/chapter-03/item23/',webUrl:'https://qutrits.github.io/effective-java-3e/chapter-03/item23/'}},success:function(a){},fail:function(a){}})},document.body.appendChild(a)})})</script>
</footer><div class=comments-button-wrapper id=comments-button data-animation=true>
<div class="comments-button button">댓글 보기</div>
</div>
<script>const comments_DOMReady=function(a){document.readyState==="interactive"||document.readyState==="complete"?a():document.addEventListener("DOMContentLoaded",a)};comments_DOMReady(function(){const a=document.querySelector(".main .post-single .post-content"),b=document.querySelector(".main .post-single .post-footer"),c=document.querySelector(".main .post-single #comments-button"),e=a.offsetHeight+a.offsetTop+a.offsetParent.offsetTop;let d=!1;window.addEventListener("scroll",()=>{d||window.pageYOffset+window.innerHeight>e&&(d=!0,c.parentNode.removeChild(c),loding_indicator(!0,b),f(b,loding_indicator))});function f(c,d){let b="preferred-color-scheme";localStorage.getItem("pref-theme")===null?window.matchMedia('(prefers-color-scheme: dark)').matches?b="github-dark":b="github-light":localStorage.getItem("pref-theme")==="dark"?b="github-dark":b="github-light";const e='qutrits/blog-comments',f='pathname',a=document.createElement('script');a.setAttribute("src","https://utteranc.es/client.js"),a.setAttribute("repo",e),a.setAttribute("issue-term",f),a.setAttribute("theme",b),a.setAttribute("crossorigin","anonymous"),a.onload=d,c.parentNode.insertBefore(a,c.nextSibling)}})</script>
</article>
<script>const single_DOMReady=function(a){document.readyState==="interactive"||document.readyState==="complete"?a():document.addEventListener("DOMContentLoaded",a)};single_DOMReady(function(){let c=0,e=0;const b=document.querySelector("header.header"),f="header-bottom",d=-100;let a=0;window.pageYOffset>b.offsetHeight&&(a=d),window.addEventListener("scroll",()=>{c=window.pageYOffset,c<=0?(b.style.transform="translateY(0%)",b.classList.contains(f)&&b.classList.remove(f)):(c>e?d<a&&(c-e>40?a=d:(a-=10,a<d&&(a=d))):0>a&&(e-c>40?a=0:(a+=10,a>0&&(a=0))),b.style.transform=`translateY(${a}%)`,b.classList.contains(f)||b.classList.add(f)),e=c}),window.onload=function(){const a=document.querySelectorAll(".post-content .highlight td:nth-child(2) pre code.hljs");for(let b=0;b<a.length;b++)a[b].style.width="100%"}})</script>
</main>
<footer class=footer>
<span>&copy; 2022 <a href=https://qutrits.github.io/>&lt;Qutrits/></a></span>
<span>
Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
    <a href=https://git.io/hugopapermod rel=noopener target=_blank>PaperMod</a>
</span>
<span>
· Source code on
<a href=https://github.com/qutrits/qutrits.github.io rel="noopener noreferrer" target=_blank>GitHub</a>
</span>
</footer>
<div class=aside-font-size-button id=aside-font-size-button style=visibility:hidden>
<span class=aside-display-font-size-info>100%</span>
<a id=aside-font-size-increase aria-label="글꼴 크기 늘리기" title="글꼴 크기 늘리기 (Alt + V)" accesskey=v><svg class="button increase" width="24" height="24" viewBox="0 0 24 24"><path d="M5.12 14 7.5 7.67 9.87 14M6.5 5 1 19H3.25l1.12-3h6.25l1.13 3H14L8.5 5h-2M18 7l-5 5.07 1.41 1.43L17 10.9V17h2V10.9l2.59 2.6L23 12.07 18 7z"/></svg>
</a>
<a id=aside-font-size-decrease aria-label="글꼴 크기 줄이기" title="글꼴 크기 줄이기 (Alt + B)" accesskey=b><svg class="button decrease" width="24" height="24" viewBox="0 0 24 24"><path d="M5.12 14 7.5 7.67 9.87 14M6.5 5 1 19H3.25l1.12-3h6.25l1.13 3H14L8.5 5h-2M18 17l5-5.07-1.41-1.43L19 13.1V7H17v6.1l-2.59-2.6L13 11.93 18 17z"/></svg>
</a>
<a id=aside-font-size-default aria-label="글꼴 크기 재설정" title="글꼴 크기 재설정 (Alt + N)" accesskey=n><svg class="button default" width="24" height="24" viewBox="0 0 24 24"><path d="M7.20711 2.54289c.39052.39053.39052 1.02369.0 1.41422L5.41421 5.75H13.25c4.4183.0 8 3.58172 8 8 0 4.4183-3.5817 8-8 8-4.41828.0-8-3.5817-8-8 0-.552300000000001.44772-1 1-1s1 .447699999999999 1 1c0 3.3137 2.68629 6 6 6 3.3137.0 6-2.6863 6-6s-2.6863-6-6-6H5.41421l1.7929 1.79289c.39052.39053.39052 1.02371.0 1.41421C6.81658 11.3476 6.18342 11.3476 5.79289 10.9571l-3.5-3.49999c-.39052-.39053-.39052-1.02369.0-1.41422l3.5-3.5c.39053-.39052 1.02369-.39052 1.41422.0z" fill="#212121"/></svg>
</a>
</div>
<a href=#top aria-label="맨 위로 이동" title="맨 위로 이동 (Alt + G)" class="top-link button" id=top-link accesskey=g style=visibility:hidden><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" fill="currentcolor"><path d="M414 321.94 274.22 158.82a24 24 0 00-36.44.0L98 321.94c-13.34 15.57-2.28 39.62 18.22 39.62h279.6c20.5.0 31.56-24.05 18.18-39.62z"/></svg>
</a>
<script>let menu=document.getElementById('menu');menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(a=>{a.addEventListener("click",function(b){b.preventDefault();const a=this.getAttribute("href").substr(1);window.matchMedia('(prefers-reduced-motion: reduce)').matches?document.querySelector(`[id='${decodeURIComponent(a)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(a)}']`).scrollIntoView({behavior:"auto"}),a==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${a}`)})})</script>
<script>const postContent=document.querySelector(".main .post-single .post-content");if(postContent){const a=document.getElementById("aside-font-size-button"),g=a.querySelector("#aside-font-size-increase"),e=a.querySelector("#aside-font-size-decrease"),f=a.querySelector("#aside-font-size-default"),b=document.querySelector(".display-font-size-info"),c=a.querySelector(".aside-display-font-size-info"),i=document.querySelector(".post-single .post-header .post-meta .post-footer"),d=document.querySelector(".post-header"),h=d.offsetHeight+d.offsetTop+d.offsetParent.offsetTop-1;window.addEventListener("scroll",()=>{const b=Math.ceil(window.pageYOffset+window.innerHeight)>=document.body.scrollHeight;h<window.pageYOffset?b&&window.innerWidth<769?(a.style.visibility="hidden",a.style.opacity="0"):(a.style.visibility="visible",a.style.opacity="1"):(a.style.visibility="hidden",a.style.opacity="0")}),g.addEventListener("click",function(){if(localStorage.getItem("post-content-font-size")){let a=parseInt(localStorage.getItem("post-content-font-size"));if(a+5>200)return;postContent.style.fontSize=a+10+"%",b.innerText=a+10+"%",c.innerText=a+10+"%",localStorage.setItem("post-content-font-size",a+10)}else postContent.style.fontSize="110%",b.innerText="110%",c.innerText="110%",localStorage.setItem("post-content-font-size",110)}),e.addEventListener("click",function(){if(localStorage.getItem("post-content-font-size")){let a=parseInt(localStorage.getItem("post-content-font-size"));if(a-5<50)return;postContent.style.fontSize=a-10+"%",b.innerText=a-10+"%",c.innerText=a-10+"%",localStorage.setItem("post-content-font-size",a-10)}else postContent.style.fontSize="90%",b.innerText="90%",c.innerText="90%",localStorage.setItem("post-content-font-size",90)}),f.addEventListener("click",function(){postContent.style.fontSize="100%",b.innerText="100%",c.innerText="100%",localStorage.setItem("post-content-font-size",100)})}</script>
<script>const postContentEl=document.querySelector(".post-content"),topLinkButton=document.getElementById("top-link");window.onscroll=function(){if(postContentEl){const a=postContentEl.getBoundingClientRect(),b=a.top;0>=b?(topLinkButton.style.visibility="visible",topLinkButton.style.opacity="1"):(topLinkButton.style.visibility="hidden",topLinkButton.style.opacity="0")}else window.pageYOffset>300?(topLinkButton.style.visibility="visible",topLinkButton.style.opacity="1"):(topLinkButton.style.visibility="hidden",topLinkButton.style.opacity="0")}</script>
<script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove('dark'),localStorage.setItem("pref-theme",'light')):(document.body.classList.add('dark'),localStorage.setItem("pref-theme",'dark'))})</script>
<script>document.querySelectorAll('pre > code').forEach(b=>{const c=b.parentNode.parentNode,a=document.createElement('button');a.classList.add('copy-code'),a.innerHTML='\u003cspan class=\u0022octicon\u0022\u003e\u003csvg aria-hidden=\u0022true\u0022 height=\u002216\u0022 viewBox=\u00220 0 16 16\u0022 version=\u00221.1\u0022 width=\u002216\u0022 data-view-component=\u0022true\u0022 class=\u0022octicon-copy\u0022\u003e\u003cpath fill-rule=\u0022evenodd\u0022 d=\u0022M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z\u0022\u003e\u003c/path\u003e\u003cpath fill-rule=\u0022evenodd\u0022 d=\u0022M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z\u0022\u003e\u003c/path\u003e\u003c/svg\u003e\u003c/span\u003e';function d(){a.classList.add('done'),a.innerHTML='\u003cdiv class=\u0022tooltip bottom\u0022\u003eCopied!\u003c/div\u003e\u003cspan class=\u0022octicon done\u0022 style=\u0022color:#3fb950;\u0022\u003e\u003csvg aria-hidden=\u0022true\u0022 height=\u002216\u0022 viewBox=\u00220 0 16 16\u0022 version=\u00221.1\u0022 width=\u002216\u0022 data-view-component=\u0022true\u0022 class=\u0022octicon-check\u0022\u003e\u003cpath fill-rule=\u0022evenodd\u0022 d=\u0022M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z\u0022\u003e\u003c/path\u003e\u003c/svg\u003e\u003c/span\u003e',setTimeout(()=>{a.classList.remove('done'),a.innerHTML='\u003cspan class=\u0022octicon\u0022\u003e\u003csvg aria-hidden=\u0022true\u0022 height=\u002216\u0022 viewBox=\u00220 0 16 16\u0022 version=\u00221.1\u0022 width=\u002216\u0022 data-view-component=\u0022true\u0022 class=\u0022octicon-copy\u0022\u003e\u003cpath fill-rule=\u0022evenodd\u0022 d=\u0022M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z\u0022\u003e\u003c/path\u003e\u003cpath fill-rule=\u0022evenodd\u0022 d=\u0022M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z\u0022\u003e\u003c/path\u003e\u003c/svg\u003e\u003c/span\u003e'},2e3)}a.addEventListener('click',e=>{if('clipboard'in navigator){navigator.clipboard.writeText(b.textContent),d();return}const a=document.createRange();a.selectNodeContents(b);const c=window.getSelection();c.removeAllRanges(),c.addRange(a);try{document.execCommand('copy'),d()}catch(a){}c.removeRange(a)}),c.classList.contains("highlight")?c.appendChild(a):c.parentNode.firstChild==c||(b.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?b.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(a):b.parentNode.appendChild(a))})</script></body>
</html>