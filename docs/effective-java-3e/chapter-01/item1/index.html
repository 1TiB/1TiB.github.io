<!doctype html><html id=top lang=ko dir=auto>
<head><meta charset=utf-8>
<meta http-equiv=x-ua-compatible content="IE=edge">
<meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no">
<meta name=robots content="index, follow">
<title>[아이템 1] 생성자 대신 정적 팩토리 메서드를 고려하라 | &lt;Qutrits/></title>
<meta name=keywords content="Java,Effective Java 3E">
<meta name=description content="클라이언트가 클래스의 인스턴스를 얻는 전통적인 수단은 public 생성자다. 하지만 모든 프로그래머가 꼭 알아둬야 할 기법이 하나 더 있다. 클래스는 생성자와 별도로 정적 팩터리 메서드static factory method를 제공할 수 있다. 그 클래스의 인스턴스를 반환하는 단순한 정적 메서드 말이다. 다음 코드는 boolean 기본 타입의 박싱 클래스boxed class인 Boolean에서 발췌한 간단한 예다. 이 메서드는 기본 타입인 boolean 값을 받아 Boolean 객체 참조로 변환해준다.
1 2 3  public static Boolean valueOf(boolean b) { return b ?">
<meta name=author content="Kyungchul Shin">
<link rel=canonical href=https://qutrits.github.io/effective-java-3e/chapter-01/item1/>
<link crossorigin=anonymous href=/assets/css/stylesheet.min.dfa89936833d723efcb23465f227c51a9bf71408407d02a414c5c90a1e7a19a4.css integrity="sha256-36iZNoM9cj78sjRl8ifFGpv3FAhAfQKkFMXJCh56GaQ=" rel="preload stylesheet" as=style>
<script defer crossorigin=anonymous src=/assets/js/highlight.min.7680afc38aa6b15ddf158a4f3780b7b1f7dde7e91d26f073e6229bb7a0793c92.js integrity="sha256-doCvw4qmsV3fFYpPN4C3sffd5+kdJvBz5iKbt6B5PJI=" onload=hljs.initHighlightingOnLoad()></script>
<link rel=icon href=https://qutrits.github.io/icon/favicon-64.webp>
<link rel=icon type=image/png sizes=16x16 href=https://qutrits.github.io/icon/favicon-16.webp>
<link rel=icon type=image/png sizes=32x32 href=https://qutrits.github.io/icon/favicon-32.webp>
<link rel=apple-touch-icon href=https://qutrits.github.io/apple-touch-icon.png>
<link rel=mask-icon href=https://qutrits.github.io/safari-pinned-tab.svg>
<meta name=theme-color content="#2e2e33">
<meta name=msapplication-TileColor content="#2e2e33">
<meta name=generator content="Hugo 0.89.4">
<noscript>
<style>#theme-toggle,.top-link{display:none}</style>
<style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--hljs-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style>
</noscript>
<script type=application/javascript>var doNotTrack=!1;doNotTrack||(function(a,e,f,g,b,c,d){a.GoogleAnalyticsObject=b,a[b]=a[b]||function(){(a[b].q=a[b].q||[]).push(arguments)},a[b].l=1*new Date,c=e.createElement(f),d=e.getElementsByTagName(f)[0],c.async=1,c.src=g,d.parentNode.insertBefore(c,d)}(window,document,'script','https://www.google-analytics.com/analytics.js','ga'),ga('create','UA-215417930-1','auto'),ga('send','pageview'))</script>
<script type=application/javascript>var doNotTrack=!1;doNotTrack||(function(a,e,f,g,b,c,d){a.GoogleAnalyticsObject=b,a[b]=a[b]||function(){(a[b].q=a[b].q||[]).push(arguments)},a[b].l=1*new Date,c=e.createElement(f),d=e.getElementsByTagName(f)[0],c.async=1,c.src=g,d.parentNode.insertBefore(c,d)}(window,document,'script','https://www.google-analytics.com/analytics.js','ga'),ga('create','UA-215417930-1','auto'),ga('send','pageview'))</script><meta property="og:title" content="[아이템 1] 생성자 대신 정적 팩토리 메서드를 고려하라">
<meta property="og:description" content="클라이언트가 클래스의 인스턴스를 얻는 전통적인 수단은 public 생성자다. 하지만 모든 프로그래머가 꼭 알아둬야 할 기법이 하나 더 있다. 클래스는 생성자와 별도로 정적 팩터리 메서드static factory method를 제공할 수 있다. 그 클래스의 인스턴스를 반환하는 단순한 정적 메서드 말이다. 다음 코드는 boolean 기본 타입의 박싱 클래스boxed class인 Boolean에서 발췌한 간단한 예다. 이 메서드는 기본 타입인 boolean 값을 받아 Boolean 객체 참조로 변환해준다.
1 2 3  public static Boolean valueOf(boolean b) { return b ?">
<meta property="og:type" content="article">
<meta property="og:url" content="https://qutrits.github.io/effective-java-3e/chapter-01/item1/"><meta property="article:section" content="effective-java-3e">
<meta property="article:published_time" content="2020-06-18T15:49:20+09:00">
<meta property="article:modified_time" content="2020-06-18T15:49:20+09:00">
<meta property="og:see_also" content="https://qutrits.github.io/effective-java-3e/chapter-04/item33/"><meta property="og:see_also" content="https://qutrits.github.io/effective-java-3e/chapter-04/item32/"><meta property="og:see_also" content="https://qutrits.github.io/effective-java-3e/chapter-04/item31/"><meta property="og:see_also" content="https://qutrits.github.io/effective-java-3e/chapter-04/item30/"><meta property="og:see_also" content="https://qutrits.github.io/effective-java-3e/chapter-04/item29/"><meta property="og:see_also" content="https://qutrits.github.io/effective-java-3e/chapter-04/item28/">
<meta name=twitter:card content="summary">
<meta name=twitter:title content="[아이템 1] 생성자 대신 정적 팩토리 메서드를 고려하라">
<meta name=twitter:description content="클라이언트가 클래스의 인스턴스를 얻는 전통적인 수단은 public 생성자다. 하지만 모든 프로그래머가 꼭 알아둬야 할 기법이 하나 더 있다. 클래스는 생성자와 별도로 정적 팩터리 메서드static factory method를 제공할 수 있다. 그 클래스의 인스턴스를 반환하는 단순한 정적 메서드 말이다. 다음 코드는 boolean 기본 타입의 박싱 클래스boxed class인 Boolean에서 발췌한 간단한 예다. 이 메서드는 기본 타입인 boolean 값을 받아 Boolean 객체 참조로 변환해준다.
1 2 3  public static Boolean valueOf(boolean b) { return b ?">
<script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Effctive Java 3/E","item":"https://qutrits.github.io/effective-java-3e/"},{"@type":"ListItem","position":2,"name":"1장 객체 생성과 파괴","item":"https://qutrits.github.io/effective-java-3e/chapter-01/"},{"@type":"ListItem","position":3,"name":"[아이템 1] 생성자 대신 정적 팩토리 메서드를 고려하라","item":"https://qutrits.github.io/effective-java-3e/chapter-01/item1/"}]}</script>
<script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"[아이템 1] 생성자 대신 정적 팩토리 메서드를 고려하라","name":"[아이템 1] 생성자 대신 정적 팩토리 메서드를 고려하라","description":"클라이언트가 클래스의 인스턴스를 얻는 전통적인 수단은 public 생성자다. 하지만 모든 프로그래머가 꼭 알아둬야 할 기법이 하나 더 있다. 클래스는 생성자와 별도로 정적 팩터리 메서드static factory method를 제공할 수 있다. 그 클래스의 인스턴스를 반환하는 단순한 정적 메서드 말이다. 다음 코드는 boolean 기본 타입의 박싱 클래스boxed class인 Boolean에서 발췌한 간단한 예다. 이 메서드는 기본 타입인 boolean 값을 받아 Boolean 객체 참조로 변환해준다.\n1 2 3  public static Boolean valueOf(boolean b) { return b ?","keywords":["Java","Effective Java 3E"],"articleBody":"클라이언트가 클래스의 인스턴스를 얻는 전통적인 수단은 public 생성자다. 하지만 모든 프로그래머가 꼭 알아둬야 할 기법이 하나 더 있다. 클래스는 생성자와 별도로 정적 팩터리 메서드static factory method를 제공할 수 있다. 그 클래스의 인스턴스를 반환하는 단순한 정적 메서드 말이다. 다음 코드는 boolean 기본 타입의 박싱 클래스boxed class인 Boolean에서 발췌한 간단한 예다. 이 메서드는 기본 타입인 boolean 값을 받아 Boolean 객체 참조로 변환해준다.\n1 2 3  public static Boolean valueOf(boolean b) { return b ? Boolean.TRUE : Booelan.FALSE; }   Boolean 클래스에서 발췌한 예제 코드\n  지금 얘기하는 정적 팩터리 메서드는 팩토리 메서드 패턴[Gamma95] 1 에서의 팩터리 메서드Factory Method와 다르다. 디자인 패턴 중에는 이와 일치하는 패턴은 없다.\n 클래스는 클라이언트에 public 생성자 대신 (혹은 생성자와 함께) 정적 팩터리 메서드를 제공할 수 있다. 이 방식에는 장점과 단점이 모두 존재한다. 먼저 정적 팩터리 메서드가 생성자보다 좋은 장점 다섯 가지를 알아보자.\n 장점 첫 번째, 이름을 가질 수 있다. 생성자에 넘기는 매겨변수와 생성자 자체만으로는 반환될 객체의 특성을 제대로 설명하지 못한다. 반면 정적 팩터리는 이름만 잘 지으면 반환될 객체의 특성을 쉽게 묘사할 수 있다. 예컨대 생성자인 BigInteger(int, int, Random)과 정적 팩터리 메서드인 BigInteger.probablePrime중 어느 쪽이 ‘값이 소수인 BigInteger를 반환한다’ 는 의미를 더 잘 설명할 것 같은지 생각해 보라.\n BigInteger.probablePrime은 JAVA 4 에서 추가됐다.\n하나의 시그니처로는 생성자를 하나만 만들 수 있다. 입력 매개변수들의 순서를 다르게 한 생성자를 새로 추가하는 식으로 이 제한을 피해볼 수도 있지만, 좋지 않은 발상이다. 그런 API를 사용하는 개발자는 각 생성자가 어떤 역할을 하는지 정확히 기억하기 어려워 엉뚱한 것을 호출하는 실수를 할 수 있다. 코드를 읽는 사람도 클래스 설명 문서를 찾아보지 않고는 의미를 알지 못할 것이다.\n이름을 가질 수 있는 정적 팩터리 메서드에는 이런 제약이 없다. 한 클래스에 시그니처가 같은 생성자가 여러 개 필요할 것 같으면, 생성자를 정적 택터리 메서드로 바꾸고 각각의 차이를 잘 드러내는 이름을 지어주자.\n두 번째, 호출될 때마다 인스턴스를 새로 생성하지는 않아도 된다. 이 덕분에 불변 클래스immutable class; 아이템 17는 인스턴스를 미리 만들어 놓거나 새로 생성한 인스턴스를 캐싱하여 재활용하는 식으로 불필요한 객체 생성을 피할 수 있다. 대표적 예인 Boolean.valueOf(boolean) 메서드는 객체를 아예 생성하지 않는다. 따라서 (특히 생성 비용이 큰) 같은 객체가 자주 요청되는 상황이라면 성능을 상당히 끌어올려 준다.\n플라이웨이트 패턴 [Gamma95] 2 도 이와 비슷한 기법이라 할 수 있다.\n반복되는 요청에 같은 객체를 반환하는 식으로 정적 팩터리 방식의 클래스는 언제 어느 인스턴스를 살아 있게 할지를 철저히 통제할 수 있다. 이런 클래스를 인스턴스 통제instance-controlled 클래스라 한다. 그렇다면 인스턴스를 통제하는 이유는 무엇일까? 인스턴스를 통제하면 클래스를 싱글턴singleton; 아이템 3으로 만들 수도, 인스턴스화 불가noninstantiable; 아이템 4로 만들 수도 있다. 또한 불변 값 클래스아이템 17에서 동치인 인스턴스가 단 하나뿐임을 보장할 수 있다.\n　a == b일 때만 a.equals(b)가 성립\n인스턴스 통제는 플라이웨이트 패턴[Gamma95] 2 의 근간이 되며, 열거 타입아이템 34은 인스턴스가 하나만 만들어짐을 보장한다.\n세 번째, 반환 타입의 하위 타입 객체를 반환할 수 있는 능력이 있다. 이 능력은 반환할 객체의 클래스를 자유롭게 선택할 수 있게 하는 ‘엄청난 유연성’ 을 선물한다. API를 만들 때 이 유연성을 응용하면 구현 클래스를 공개하지 않고도 그 객체를 반환할 수 있어 API를 작게 유지할 수 있다. 이는 인터페이스를 정적 팩터리 메서드의 반환 타입으로 사용하는 인터페이스 기반 프레임워크아이템 20를 만드는 핵심 기술이기도 하다.\nJAVA 8 전에는 인터페이스에 정적 메서드를 선언할 수 없었다. 그렇기 때문에 이름이 “Type” 인 인터페이스를 반환하는 정적 메서드가 필요하면, “Types\"라는 (인스턴스화 불가인) 동반 클래스companion class를 만들어 그 안에 정의하는 것이 관례였다. 예컨대 자바 컬렉션 프레임워크는 핵심 인터페이스들에 수정 불가나 동시화 등의 기능을 덧붙인 총 45개의 유틸리티 구현체를 제공하는데, 이 구현체 대부분을 단 하나의 인스턴스화 불가 클래스인 java.util.collections에서 정적 팩터리 메서드를 통해 얻도록 했다.\n컬렉션 프레임워크는 이 45개 클래스를 공개하지 않기 때문에 API 외견을 훨씬 작게 만들 수 있었다. API가 작아진 것은 물론 개념적인 무게, 즉 프로그래머가 API를 사용하기 위해 익혀야 하는 개념의 수와 난이도도 낮췄다. 프로그래머는 명시한 인터페이스대로 동작하는 객체를 얻을 것임을 알기에 굳이 별도 문서를 찾아가며 실제 구현 클래스가 무엇인지 알아보지 않아도 된다. 나아가 정적 팩터리 메서드를 사용하는 클라이언트는 얻은 객체를 (그 구현 클래스가 아닌) 인터페이스만으로 다루게 된다.아이템 64 물론 이는 일반적으로 좋은 습관이다.\nJAVA 8부터는 인터페이스가 정적 메서드를 가질 수 없다는 제한이 풀렸기 때문에 인스턴스화 불가 동반 클래스를 둘 이유가 별로 없다. 동반 클래스에 두었던 public 정적 멤버들 상당수를 그냥 인터페이스 자체에 두면 되는 것이다. 하지만 정적 메서드들을 구현하기 위한 코드 중 많은 부분은 여전히 별도의 package-private 클래스에 두어야 할 수 있다. JAVA 8에서도 인터페이스에는 public 정적 멤버만 허용하기 때문이다. JAVA 9에서는 private 정적 메서드까지 허락하지만 정적 필드와 정적 멤버 클래스는 여전히 public이어야 한다.\n네 번째, 입력 매개변수에 따라 매번 다른 클래스의 객체를 반환할 수 있다. 반환 타입의 하위 타입이기만 하면 어떤 클래스의 객체를 반환하든 상관없다. 심지어 다음 릴리스에서는 또 다른 클래스의 객체를 반환해도 된다. 가령 EnumSet 클래스아이템 36는 public 생성자 없이 오직 정적 팩터리만 제공하는데, OpenJDK에서는 원소의 수에 따라 두 가지 하위 클래스 중 하나의 인스턴스를 반환한다. (대다수에 해당하는) 원소가 64개 이하면 원소들을 long변수 하나로 관리하는 RegularEnumSet의 인스턴스를, 65개 이상이면 long배열로 관리하는 JumboEnumSet의 인스턴스를 반환한다.\n1 2 3 4 5 6 7 8 9 10  public static E extends EnumE EnumSetE noneOf(ClassE elementType) { Enum[] universe = getUniverse(elementType); if (universe == null) throw new ClassCastException(elementType + \" not an enum\"); if (universe.length  64) return new RegularEnumSet(elementType, universe); else return new JumboEnumSet(elementType, universe); }   클라이언트는 이 두 클래스의 존재를 모른다. 만약 원소가 적을 때 RegularEnumSet을 사용할 이점이 없어진다면 다음 릴리스 때는 이를 삭제해도 아무 문제가 없다. 비슷하게, 성능을 더 개선한 세 번때, 네 번째 클래스를 다음 릴리스에 추가할 수도 있다. 클라이언트는 팩터리가 건네주는 객체가 어느 클래스의 인스턴스인지 알 수도 없고 알 필요도 없다. EnumSet의 하위 클래스이기만 하면 되는 것이다.\n다섯 번째, 정적 팩터리 메서드를 작성하는 시점에는 반환할 객체의 클래스가 존재하지 않아도 된다. 이런 유연함은 서비스 제공자 프레임워크service provider framework를 만드는 근간이 된다. 대표적인 서비스 제공자 프레임워크로는 JDBC3 가 있다. 서비스 제공자 프레임워크에서의 제공자provider는 서비스의 구현체다. 그리고 이 구현체들을 클라이언트에 제공하는 역할을 프레임워크가 통제하여, 클라이언트를 구현체로부터 분리해준다.\n서비스 제공자 프레임워크는 3개의 핵심 컴포넌트로 이뤄진다. 구현체의 동작을 정의하는 서비스 인터페이스service interface, 제공자가 구현체를 등록할 때 사용하는 제공자 등록 APIprovider registration API, 클라이언트가 서비스의 인스턴스를 얻을 때 사용하는 서비스 접근 APIservice access API가 그 주인공이다. 클라이언트는 서비스 접근 API를 사용할 때 원하는 구현체의 조건을 명시할 수 있다. 조건을 명시하지 않으면 기본 구현체를 반환하거나 지원하는 구현체들을 하나씩 돌아가며 반환한다. 이 서비스 접근 API가 바로 서비스 제공자 프레임워크의 근간이라고 한 ‘유연한 정적 팩터리’의 실체다.\n3개의 핵심 컴포넌트와 더불어 종종 서비스 제공자 인터페이스service provider interface라는 네 번째 컴포넌트가 쓰이기도 한다. 이 컴포넌트는 서비스 인터페이스의 인스턴스를 생성하는 팩터리 객체를 설명해준다. 서비스 제공자 인터페이스가 없다면 각 구현체를 인스턴스로 만들 때 리플렉션아이템 65을 사용해야 한다. JDBC3 에서는 Connection이 서비스 인터페이스 역할을, DriverManager.registerDriver가 제공자 등록 API 역할을, DriverManager.getConnection이 서비스 접근 API 역할을, Driver가 서비스 제공자 인터페이스 역할을 수행한다.\n서비스 제공자 프레임워크 패턴에는 여러 변형이 있다. 예컨대 서비스 접근 API는 공급자가 제공하는 것보다 더 풍부한 서비스 인터페이스를 클라이언트에 반환할 수 있다. 브리지 패턴[Gamma95] 4 이라 알려진 것이다. 의존 객체 주입dependency injection 프레임워크아이템 5도 강력한 서비스 제공자라고 생각할 수 있다. JAVA 6부터는 java.util.ServiceLoader라는 범용 서비스 제공자 프레임워크가 제공되어 프레임워크를 직접 만들 필요가 거의 없어졌다.아이템 59 한편, JDBC3는 JAVA 6 전에 등장한 개념이라 ServiceLoader를 사용하지 않는다.\n이제 단점을 알아볼 차례다.\r 단점 첫 번째, 상속을 하려면 public이나 protected 생성자가 필요하니 정적 팩터리 메서드만 제공하면 하위 클래스를 만들 수 없다. 앞서 이야기한 컬렉션 프레임워크의 유틸리티 구현 클래스들은 상속할 수 없다는 이야기다. 어찌 보면 이 제약은 상속is-a보다 컴포지션has-a을 사용아이템 18하도록 유도하고 불변 타입아이템 17으로 만들려면 이 제약을 지켜야 한다는 점에서 오히려 장점으로 받아들일 수도 있다.\n두 번째, 정적 팩터리 메서드는 프로그래머가 찾기 어렵다. 생성자처럼 API 설명에 명확히 드러나지 않으니 사용자는 정적 팩터리 메서드 방식 클래스를 인스턴스화할 방법을 알아내야 한다. 이 일을 언젠가 자바독이 알아서 처리해 줬으면 좋겠으나, 그날이 오기까지는 API 문서를 잘 써놓고 메서드 이름도 널리 알려진 규약을 따라 짓는 식으로 문제를 완화해줘야 한다.\n다음은 정적 팩터리 메서드에 흔히 사용하는 명명 방식들이다.\n from  매개변수를 하나 받아서 해당 타입의 인스턴스를 반환하는 형변환 매서드\n Date d = Date.from(instant);\n of  여러 매개변수를 받아 적합한 타입의 인스턴스를 반환하는 집계 메서드\n Set faceCards = EnumSet.of(JACK, QUEEN, KING);\n valueOf  from 과 of 의 더 자세한 버전\n BigInteger prime = BigInteger.valueOf(Integer.MAX_VALUE);\n instance 혹은 getInstance  (매개변수를 받는다면) 매개변수로 명시한 인스턴스를 반환하지만, 같은 인스턴스임을 보장하지 않는다.\n StackWalker luke = StackWalker.getInstance(options);\n create 혹은 newInstance  instance 혹은 getInstance 와 같지만, 매번 새로운 인스턴스를 생성해 반환함을 보장한다.\n Object newArray = Array.newInstance(classObject, arrayLen);\n getType  getInstance 와 같으나, 생성할 클래스가 아닌 다른 클래스에 팩터리 메서드를 정의할 때 쓴다. “Type” 은 팩터리 메서드가 반환할 객체의 타입이다.\n FileStore fs = Files.getFileStore(path);\n newType  newInstance 와 같으나, 생성할 클래스가 아닌 다른 클래스에 팩터리 메서드를 정의할 때 쓴다. “Type” 은 팩터리 메서드가 반환할 객체의 타입이다.\n BufferedReader br = Files.newBufferedReader(path);\n type  getType 과 newType 의 간결한 버전\n List litany = Collections.list(legacyLitany);\n   핵심정리 정적 팩터리 메서드와 public 생성자는 각자의 쓰임새가 있으니 상대적인 장단점을 이해하고 사용하는 것이 좋다. 그렇다고 하더라도 정적 팩터리를 사용하는 게 유리한 경우가 더 많으므로 무작정 public 생성자를 제공하던 습관이 있다면 고치자.\n  Factory method pattern in [GoF] Design Patterns ↩︎\n Flyweight pattern in [GoF] Design Patterns ↩︎\n Java Database Connectivity ↩︎\n Bridge pattern in [GoF] Design Patterns ↩︎\n   ","wordCount":"1416","inLanguage":"ko","datePublished":"2020-06-18T15:49:20+09:00","dateModified":"2020-06-18T15:49:20+09:00","author":[{"@type":"Person","name":"Kyungchul Shin"}],"mainEntityOfPage":{"@type":"WebPage","@id":"https://qutrits.github.io/effective-java-3e/chapter-01/item1/"},"publisher":{"@type":"Organization","name":"\u003cQutrits/\u003e","logo":{"@type":"ImageObject","url":"https://qutrits.github.io/icon/favicon-64.webp"}}}</script>
</head>
<body>
<script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add('dark'):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove('dark'):window.matchMedia('(prefers-color-scheme: dark)').matches&&document.body.classList.add('dark')</script>
<header class="header header-bottom">
<nav class=nav>
<div class=logo>
<a href=https://qutrits.github.io/ accesskey=h title="<Qutrits/> (Alt + H)"><svg viewBox="0 0 32 32" width="26" height="26"><path d="M30 15a1 1 0 01-.58-.19L16 5.23 2.58 14.81a1 1 0 01-1.16-1.62l14-10a1 1 0 011.16.0l14 10A1 1 0 0130 15z"/><path d="M5 9A1 1 0 014 8V4A1 1 0 015 3H9A1 1 0 019 5H6V8A1 1 0 015 9z"/><path d="M25 29H20a1 1 0 01-1-1V21H13v7a1 1 0 01-1 1H7a3 3 0 01-3-3V16a1 1 0 012 0V26a1 1 0 001 1h4V20a1 1 0 011-1h8a1 1 0 011 1v7h4a1 1 0 001-1V16a1 1 0 012 0V26a3 3 0 01-3 3z"/></svg>&lt;Qutrits/></a>
<span class=logo-switches>
<button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" enable-background="new 0 0 32 32" viewBox="0 0 32 32" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><g id="Layer_2"/><g id="Layer_3"/><g id="Layer_4"/><g id="Layer_5"/><g id="Layer_6"/><g id="Layer_7"/><g id="Layer_8"/><g id="Layer_9"/><g id="Layer_10"/><g id="Layer_11"/><g id="Layer_12"/><g id="Layer_13"/><g id="Layer_14"/><g id="Layer_15"/><g id="Layer_16"/><g id="Layer_17"/><g id="Layer_18"/><g id="Layer_19"><g><g><path d="M30.9 20.8c-2.2 6.1-8 10.2-14.5 10.2C7.9 31 1 24.2 1 15.8 1 8.7 5.9 2.6 12.9 1c.3-.1.7.0 1 .3.2.3.3.7.2 1-.5 1.4-.8 2.9-.8 4.4.0 7.3 6 13.2 13.4 13.2 1 0 2.1-.1 3.1-.4.3-.1.7.0 1 .3C31 20.1 31.1 20.5 30.9 20.8z" fill="#ffc10a"/></g></g></g><g id="Layer_20"/><g id="Layer_21"/><g id="Layer_22"/><g id="Layer_23"/><g id="Layer_24"/><g id="Layer_25"/><g id="Wearher"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="none" stroke="currentcolor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="32" d="M256 48v48m0 320v48M403.08 108.92l-33.94 33.94M142.86 369.14l-33.94 33.94M464 256h-48M96 256H48M403.08 403.08l-33.94-33.94M142.86 142.86l-33.94-33.94"/><circle cx="256" cy="256" r="80" fill="none" stroke="currentcolor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="32"/></svg>
</button>
</span>
</div>
<button id=menu-trigger aria-haspopup=menu aria-label="Menu Button"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-menu"><line x1="3" y1="12" x2="21" y2="12"/><line x1="3" y1="6" x2="21" y2="6"/><line x1="3" y1="18" x2="21" y2="18"/></svg>
</button>
<ul id=menu class="main-menu hidden">
<li>
<a href=https://qutrits.github.io/series-list/ title=시리즈>
<span>시리즈</span>
</a>
</li>
<li>
<a href=https://qutrits.github.io/collection/ title=모아보기>
<span>모아보기</span>
</a>
</li>
<li>
<a href=https://qutrits.github.io/archives/ title="기록 보관소">
<span>기록 보관소</span>
</a>
</li>
<li>
<a href=https://qutrits.github.io/search/ title="검색 (Alt + /)" accesskey=/>
<span>검색</span>
</a>
</li>
<li>
<a href=https://qutrits.github.io/tags/ title=태그>
<span>태그</span>
</a>
</li>
</ul>
</nav>
</header>
<script>let b=document.querySelector("#menu-trigger"),m=document.querySelector("#menu");b.addEventListener("click",function(){m.classList.toggle("hidden")}),document.body.addEventListener("click",function(a){b.contains(a.target)||m.classList.add("hidden")})</script>
<script>function loding_indicator(b,a){if(b===!0){const b=document.createElement("div");b.id="loading-indicator",b.innerHTML='<div class="spinner"></div>',a.parentNode.insertBefore(b,a.nextSibling)}else{const a=document.getElementById("loading-indicator");a.classList.add("scale-zero")}}</script>
<script>const header_DOMReady=function(a){document.readyState==="interactive"||document.readyState==="complete"?a():document.addEventListener("DOMContentLoaded",a)};header_DOMReady(function(){function b(){let b=e.scrollHeight-d(a)-window.innerHeight,c=window.pageYOffset,f=c/b*100;a.style.width=f+"%"}function d(a){var e=a.offsetHeight,b=document.body.offsetHeight,c=a.getBoundingClientRect(),d=c.top,f=c.bottom;return Math.max(0,d>0?Math.min(e,b-d):Math.min(f,b))}const e=document.querySelector("html"),f=document.querySelector("body"),c=document.createElement("div");c.classList.add("progress-bar-container__progress"),f.prepend(c);const a=document.querySelector(".progress-bar-container__progress"),g={childList:!0,subtree:!0,characterData:!0,attributes:!0};new MutationObserver(b).observe(a,g),window.addEventListener("scroll",()=>{b()})})</script><main class=main>
<article class=post-single>
<header class=post-header>
<div class=breadcrumbs data-animation=true><a href=https://qutrits.github.io/>Home</a><svg style="margin-right:-10px;vertical-align:-2px" stroke="currentcolor" fill="currentcolor" stroke-width="0" viewBox="0 0 24 24" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M10 6 8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"/></svg><svg style="vertical-align:-2px" stroke="currentcolor" fill="currentcolor" stroke-width="0" viewBox="0 0 24 24" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M10 6 8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"/></svg>
<a href=https://qutrits.github.io/effective-java-3e/>Effctive Java 3/E</a><svg style="margin-right:-10px;vertical-align:-2px" stroke="currentcolor" fill="currentcolor" stroke-width="0" viewBox="0 0 24 24" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M10 6 8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"/></svg><svg style="vertical-align:-2px" stroke="currentcolor" fill="currentcolor" stroke-width="0" viewBox="0 0 24 24" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M10 6 8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"/></svg>
<a href=https://qutrits.github.io/effective-java-3e/chapter-01/>1장 객체 생성과 파괴</a></div>
<h1 class=post-title data-animation=true>
[아이템 1] 생성자 대신 정적 팩토리 메서드를 고려하라
</h1>
<div class=post-meta data-animation=true><span title="2020-06-18 15:49:20 +0900 KST">2020년 6월 18일</span>&nbsp;&nbsp;·&nbsp;&nbsp;<span><svg class="svg--time" aria-hidden="true" focusable="false" data-prefix="far" data-icon="clock" role="img" xmlns="http://www.w3.org/2000/svg" width="13.19" height="13.19" viewBox="0 0 512 512"><path fill="currentcolor" d="M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm0 448c-110.5.0-2e2-89.5-2e2-2e2S145.5 56 256 56s2e2 89.5 2e2 2e2-89.5 2e2-2e2 2e2zm61.8-104.4-84.9-61.7c-3.1-2.3-4.9-5.9-4.9-9.7V116c0-6.6 5.4-12 12-12h32c6.6.0 12 5.4 12 12v141.7l66.8 48.6c5.4 3.9 6.5 11.4 2.6 16.8L334.6 349c-3.9 5.3-11.4 6.5-16.8 2.6z"/></svg> 7 분 소요</span>&nbsp;&nbsp;·&nbsp;&nbsp;Kyungchul Shin&nbsp;&nbsp;|&nbsp;&nbsp;<a class=edit-post href=https://github.com/qutrits/qutrits.github.io/blob/main/content/effective-java-3e/chapter-01/Item1.md rel="noopener noreferrer" target=_blank>수정사항 제안</a>
&nbsp;&nbsp;|&nbsp;&nbsp;<span class=font-size-button>
<a id=font-size-default aria-label="Increase Font size" title="Go to Top (Alt + G)" accesskey=e><svg class="button default" viewBox="0 0 24 24"><path d="M7.20711 2.54289c.39052.39053.39052 1.02369.0 1.41422L5.41421 5.75H13.25c4.4183.0 8 3.58172 8 8 0 4.4183-3.5817 8-8 8-4.41828.0-8-3.5817-8-8 0-.552300000000001.44772-1 1-1s1 .447699999999999 1 1c0 3.3137 2.68629 6 6 6 3.3137.0 6-2.6863 6-6s-2.6863-6-6-6H5.41421l1.7929 1.79289c.39052.39053.39052 1.02371.0 1.41421C6.81658 11.3476 6.18342 11.3476 5.79289 10.9571l-3.5-3.49999c-.39052-.39053-.39052-1.02369.0-1.41422l3.5-3.5c.39053-.39052 1.02369-.39052 1.41422.0z" fill="#212121"/></svg>
</a>
&nbsp;
<a id=font-size-increase aria-label="Decrease Font size" title="Go to Top (Alt + G)" accesskey=d><svg class="button increase" viewBox="0 0 24 24"><path d="M5.12 14 7.5 7.67 9.87 14M6.5 5 1 19H3.25l1.12-3h6.25l1.13 3H14L8.5 5h-2M18 7l-5 5.07 1.41 1.43L17 10.9V17h2V10.9l2.59 2.6L23 12.07 18 7z"/></svg>
</a>
&nbsp;
<a id=font-size-decrease aria-label="Reset Font size" title="Go to Top (Alt + G)" accesskey=f><svg class="button decrease" viewBox="0 0 24 24"><path d="M5.12 14 7.5 7.67 9.87 14M6.5 5 1 19H3.25l1.12-3h6.25l1.13 3H14L8.5 5h-2M18 17l5-5.07-1.41-1.43L19 13.1V7H17v6.1l-2.59-2.6L13 11.93 18 17z"/></svg>
</a>
</span>
<span class=display-font-size-info>100%</span>
<script>const postFontSize_DOMReady=function(a){document.readyState==="interactive"||document.readyState==="complete"?a():document.addEventListener("DOMContentLoaded",a)};postFontSize_DOMReady(function(){if(localStorage.getItem("post-content-font-size")){const a=document.querySelector(".main .post-single .post-content"),b=document.querySelector(".display-font-size-info"),c=document.querySelector(".aside-display-font-size-info");a.style.fontSize=localStorage.getItem("post-content-font-size")+"%",b.innerText=localStorage.getItem("post-content-font-size")+"%",c.innerText=localStorage.getItem("post-content-font-size")+"%"}else localStorage.setItem("post-content-font-size",100);const a=document.getElementById("font-size-default"),b=document.getElementById("font-size-decrease"),c=document.getElementById("font-size-increase");c.addEventListener("click",a=>{if(localStorage.getItem("post-content-font-size")){let a=parseInt(localStorage.getItem("post-content-font-size"));if(a+10>200)return;const b=document.querySelector(".main .post-single .post-content"),c=document.querySelector(".display-font-size-info"),d=document.querySelector(".aside-display-font-size-info");b.style.fontSize=a+10+"%",c.innerText=a+10+"%",d.innerText=a+10+"%",localStorage.setItem("post-content-font-size",a+10)}else _postContent.style.fontSize="105%",_displayFontSizeInfo.innerText="105%",_asideDisplayFontSizeInfo.innerText="105%",localStorage.setItem("post-content-font-size",105)}),b.addEventListener("click",a=>{if(localStorage.getItem("post-content-font-size")){let a=parseInt(localStorage.getItem("post-content-font-size"));if(a-5<50)return;const b=document.querySelector(".main .post-single .post-content"),c=document.querySelector(".display-font-size-info"),d=document.querySelector(".aside-display-font-size-info");b.style.fontSize=a-10+"%",c.innerText=a-10+"%",d.innerText=a-10+"%",localStorage.setItem("post-content-font-size",a-10)}else _postContent.style.fontSize="95%",_displayFontSizeInfo.innerText="95%",_asideDisplayFontSizeInfo.innerText="95%",localStorage.setItem("post-content-font-size",95)}),a.addEventListener("click",c=>{const d=document.querySelector(".main .post-single .post-content"),a=document.querySelector(".display-font-size-info"),b=document.querySelector(".aside-display-font-size-info");postContent.style.fontSize="100%",a.innerText="100%",b.innerText="100%",localStorage.setItem("post-content-font-size",100)})})</script>
<ul class=post-tags>
<li><a class=button href=https://qutrits.github.io/tags/java/>Java</a></li>
<li><a class=button href=https://qutrits.github.io/tags/effective-java-3e/>Effective Java 3E</a></li>
</ul></div>
</header>
<div class=series-main data-animation=true>
<div class=chapter-control>
<div class=info>
<div class=chapter-number>1 / 4</div>
<div class=page-button>
<div class=right>
<a class=button href=/effective-java-3e/chapter-02/item10/>
2 장<svg style="margin-right:-12px" stroke="currentcolor" fill="currentcolor" stroke-width="0" viewBox="0 0 24 24" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M10 6 8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"/></svg><svg stroke="currentcolor" fill="currentcolor" stroke-width="0" viewBox="0 0 24 24" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M10 6 8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"/></svg>
</a>
</div>
</div>
</div>
</div>
<h2><a href=/chapter/effective-java-3e-chapter-1/>Effective Java 3E - 1장 객체 생성과 파괴</a></h2><svg width="32" height="48" fill="none" viewBox="0 0 32 48" class="series-corner-image"><path fill="#12b886" d="M32 0H0v48h.163l16-16L32 47.836V0z"/></svg>
<div class="series-main-description abstracted">이번 장은 객체의 생성과 파괴를 다룬다. 객체를 만들어야 할 때와 만들지 만들지 말아야 할 때를 구분하는 법, 올바른 객체 생성 방법과 불필요한 생성을 피하는 방법, 제때 파괴됨을 보장하고 파괴 전에 수행해야 할 정리 작업을 관리하는 요령을 알아본다.</div>
<ol class=series-list>
<li hugo-nav=/effective-java-3e/chapter-01/item1/>
<a href=/effective-java-3e/chapter-01/item1/ class=current>[아이템 1] 생성자 대신 정적 팩토리 메서드를 고려하라</a>
</li>
<li hugo-nav=/effective-java-3e/chapter-01/item2/>
<a href=/effective-java-3e/chapter-01/item2/>[아이템 2] 생성자에 매개변수가 많다면 빌더를 고려하라</a>
</li>
<li hugo-nav=/effective-java-3e/chapter-01/item3/>
<a href=/effective-java-3e/chapter-01/item3/>[아이템 3] private 생성자나 열거 타입으로 싱글턴임을 보증하라</a>
</li>
<li hugo-nav=/effective-java-3e/chapter-01/item4/>
<a href=/effective-java-3e/chapter-01/item4/>[아이템 4] 인스턴스를 막으려거든 private 생성자를 사용하라</a>
</li>
<li hugo-nav=/effective-java-3e/chapter-01/item5/>
<a href=/effective-java-3e/chapter-01/item5/>[아이템 5] 자원을 직접 명시하지 말고 의존객체를 주입을 사용하여라</a>
</li>
<li hugo-nav=/effective-java-3e/chapter-01/item6/>
<a href=/effective-java-3e/chapter-01/item6/>[아이템 6] 불피요한 객체를 생성을 피하라</a>
</li>
<li hugo-nav=/effective-java-3e/chapter-01/item7/>
<a href=/effective-java-3e/chapter-01/item7/>[아이템 7] 다 쓴 객체 참조를 해제하라</a>
</li>
<li hugo-nav=/effective-java-3e/chapter-01/item8/>
<a href=/effective-java-3e/chapter-01/item8/>[아이템 8] finalizer와 cleaner 사용을 피하라</a>
</li>
<li hugo-nav=/effective-java-3e/chapter-01/item9/>
<a href=/effective-java-3e/chapter-01/item9/>[아이템 9] try-finally보다는 try-with-resources를 사용하라</a>
</li>
</ol>
<div class=series-control>
<div class=toggle><svg class="lock" width="28" height="28" viewBox="0 0 512 512"><path d="M363.908 212.282v-90.978C363.908 54.434 309.509.0 242.606.0c-66.884.0-121.302 54.434-121.302 121.304v90.978c-33.498.0-60.653 27.158-60.653 60.648v151.629c0 33.5 27.155 60.653 60.653 60.653h242.604c33.491.0 60.653-27.153 60.653-60.653V272.93C424.562 239.439 397.399 212.282 363.908 212.282zM257.77 359.257v50.139c0 8.382-6.781 15.163-15.163 15.163s-15.164-6.781-15.164-15.163v-50.139c-8.9-5.269-15.161-14.57-15.161-25.673.0-16.765 13.579-30.327 30.324-30.327s30.326 13.562 30.326 30.327C272.933 344.687 266.665 353.989 257.77 359.257zm45.485-146.975h-121.3v-90.978c0-33.465 27.2-60.653 60.651-60.653 33.435.0 60.648 27.188 60.648 60.653v90.978z"/></svg><svg class="unlock" width="28" height="28" viewBox="0 0 512 512"><path d="M424.562 212.282h-60.653H242.607v-90.978C242.607 54.434 188.206.0 121.305.0 54.419.0.001 54.434.001 121.304v90.978h60.651v-90.978c0-33.465 27.205-60.653 60.653-60.653 33.435.0 60.651 27.188 60.651 60.653v90.978c-33.493.0-60.651 27.158-60.651 60.648v151.629c0 33.5 27.158 60.653 60.651 60.653h242.606c33.491.0 60.649-27.153 60.649-60.653V272.93C485.212 239.439 458.054 212.282 424.562 212.282zM318.424 359.257v50.139c0 8.382-6.786 15.163-15.168 15.163-8.377.0-15.158-6.781-15.158-15.163v-50.139c-8.887-5.269-15.164-14.57-15.164-25.673.0-16.765 13.562-30.327 30.322-30.327 16.765.0 30.331 13.562 30.331 30.327.0 11.103-6.28100000000001 20.405-15.163 25.673z"/></svg>
</div>
<div class=info>
<div class=series-number>
1 / 9
</div>
<div class=page-button>
<div class=left>
<a class="button disabled"><svg stroke="currentcolor" fill="currentcolor" stroke-width="0" viewBox="0 0 24 24" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M15.41 7.41 14 6l-6 6 6 6 1.41-1.41L10.83 12z"/></svg>
</a>
</div>
<div class=right>
<a class=button href=/effective-java-3e/chapter-01/item2/><svg stroke="currentcolor" fill="currentcolor" stroke-width="0" viewBox="0 0 24 24" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M10 6 8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"/></svg>
</a>
</div>
</div>
</div>
</div>
</div>
<script>const series_DOMReady=function(a){document.readyState==="interactive"||document.readyState==="complete"?a():document.addEventListener("DOMContentLoaded",a)};series_DOMReady(function(){const e=localStorage.getItem("lock-series-Effective Java 3E Chapter 1"),b=document.querySelector(".series-main .series-list"),a=document.querySelector(".series-main .series-control .toggle");if(localStorage.getItem("series-main-")==="true"){const a=document.querySelector(".series-main"),b=a.getBoundingClientRect();window.scrollTo(0,b.top),localStorage.removeItem("series-main-")}document.querySelector(".series-main .series-control .toggle").addEventListener("click",()=>{b.style.display==="none"||b.style.display===""?(localStorage.setItem("lock-series-Effective Java 3E Chapter 1",!1),a.querySelector(".lock").classList.add("hide"),a.querySelector(".unlock").classList.remove("hide"),b.style.display="block"):b.style.display==="block"&&(localStorage.setItem("lock-series-Effective Java 3E Chapter 1",!0),a.querySelector(".lock").classList.remove("hide"),a.querySelector(".unlock").classList.add("hide"),b.style.display="none")});const c=document.querySelector(".series-main-description");c&&c.addEventListener("click",a=>{a.target.classList.contains("abstracted")?(a.target.classList.remove("abstracted"),a.target.classList.add("zoom-out")):(a.target.classList.remove("zoom-out"),a.target.classList.add("abstracted"))}),e==="false"?(b.style.display="block",a.querySelector(".lock").classList.add("hide"),a.querySelector(".unlock").classList.remove("hide")):(b.style.display="none",a.querySelector(".lock").classList.remove("hide"),a.querySelector(".unlock").classList.add("hide"));const d=[...document.querySelectorAll(".chapter-control .page-button a:not(.disabled)"),...document.querySelectorAll(".series-main .series-list li a"),...document.querySelectorAll(".series-control .page-button a:not(.disabled)")];for(let a=0;a<d.length;a++)d[a].addEventListener("click",a=>{localStorage.setItem("series-main-",!0)})})</script>
<div class=toc data-animation=true>
<details>
<summary accesskey=c title="(Alt + C)">
<span class=details>목차</span>
</summary>
<div class=inner><ul>
<li>
<a href=#i-classuser-fa-action-done-all-aria-hiddentruei-%ec%9e%a5%ec%a0%90 aria-label=" 장점"><i class=user-fa-action-done-all aria-hidden=true></i> 장점</a><ul>
<li>
<a href=#%ec%b2%ab-%eb%b2%88%ec%a7%b8-%ec%9d%b4%eb%a6%84%ec%9d%84-%ea%b0%80%ec%a7%88-%ec%88%98-%ec%9e%88%eb%8b%a4 aria-label="첫 번째, 이름을 가질 수 있다.">첫 번째, 이름을 가질 수 있다.</a></li>
<li>
<a href=#%eb%91%90-%eb%b2%88%ec%a7%b8-%ed%98%b8%ec%b6%9c%eb%90%a0-%eb%95%8c%eb%a7%88%eb%8b%a4-%ec%9d%b8%ec%8a%a4%ed%84%b4%ec%8a%a4%eb%a5%bc-%ec%83%88%eb%a1%9c-%ec%83%9d%ec%84%b1%ed%95%98%ec%a7%80%eb%8a%94-%ec%95%8a%ec%95%84%eb%8f%84-%eb%90%9c%eb%8b%a4 aria-label="두 번째, 호출될 때마다 인스턴스를 새로 생성하지는 않아도 된다.">두 번째, 호출될 때마다 인스턴스를 새로 생성하지는 않아도 된다.</a></li>
<li>
<a href=#%ec%84%b8-%eb%b2%88%ec%a7%b8-%eb%b0%98%ed%99%98-%ed%83%80%ec%9e%85%ec%9d%98-%ed%95%98%ec%9c%84-%ed%83%80%ec%9e%85-%ea%b0%9d%ec%b2%b4%eb%a5%bc-%eb%b0%98%ed%99%98%ed%95%a0-%ec%88%98-%ec%9e%88%eb%8a%94-%eb%8a%a5%eb%a0%a5%ec%9d%b4-%ec%9e%88%eb%8b%a4 aria-label="세 번째, 반환 타입의 하위 타입 객체를 반환할 수 있는 능력이 있다.">세 번째, 반환 타입의 하위 타입 객체를 반환할 수 있는 능력이 있다.</a></li>
<li>
<a href=#%eb%84%a4-%eb%b2%88%ec%a7%b8-%ec%9e%85%eb%a0%a5-%eb%a7%a4%ea%b0%9c%eb%b3%80%ec%88%98%ec%97%90-%eb%94%b0%eb%9d%bc-%eb%a7%a4%eb%b2%88-%eb%8b%a4%eb%a5%b8-%ed%81%b4%eb%9e%98%ec%8a%a4%ec%9d%98-%ea%b0%9d%ec%b2%b4%eb%a5%bc-%eb%b0%98%ed%99%98%ed%95%a0-%ec%88%98-%ec%9e%88%eb%8b%a4 aria-label="네 번째, 입력 매개변수에 따라 매번 다른 클래스의 객체를 반환할 수 있다.">네 번째, 입력 매개변수에 따라 매번 다른 클래스의 객체를 반환할 수 있다.</a></li>
<li>
<a href=#%eb%8b%a4%ec%84%af-%eb%b2%88%ec%a7%b8-%ec%a0%95%ec%a0%81-%ed%8c%a9%ed%84%b0%eb%a6%ac-%eb%a9%94%ec%84%9c%eb%93%9c%eb%a5%bc-%ec%9e%91%ec%84%b1%ed%95%98%eb%8a%94-%ec%8b%9c%ec%a0%90%ec%97%90%eb%8a%94-%eb%b0%98%ed%99%98%ed%95%a0-%ea%b0%9d%ec%b2%b4%ec%9d%98-%ed%81%b4%eb%9e%98%ec%8a%a4%ea%b0%80-%ec%a1%b4%ec%9e%ac%ed%95%98%ec%a7%80-%ec%95%8a%ec%95%84%eb%8f%84-%eb%90%9c%eb%8b%a4 aria-label="다섯 번째, 정적 팩터리 메서드를 작성하는 시점에는 반환할 객체의 클래스가 존재하지 않아도 된다.">다섯 번째, 정적 팩터리 메서드를 작성하는 시점에는 반환할 객체의 클래스가 존재하지 않아도 된다.</a></li></ul>
</li>
<li>
<a href=#i-classuser-fa-action-done-all-aria-hiddentruei-%eb%8b%a8%ec%a0%90 aria-label=" 단점"><i class=user-fa-action-done-all aria-hidden=true></i> 단점</a><ul>
<li>
<a href=#%ec%b2%ab-%eb%b2%88%ec%a7%b8-%ec%83%81%ec%86%8d%ec%9d%84-%ed%95%98%eb%a0%a4%eb%a9%b4-public%ec%9d%b4%eb%82%98-protected-%ec%83%9d%ec%84%b1%ec%9e%90%ea%b0%80-%ed%95%84%ec%9a%94%ed%95%98%eb%8b%88-%ec%a0%95%ec%a0%81-%ed%8c%a9%ed%84%b0%eb%a6%ac-%eb%a9%94%ec%84%9c%eb%93%9c%eb%a7%8c-%ec%a0%9c%ea%b3%b5%ed%95%98%eb%a9%b4-%ed%95%98%ec%9c%84-%ed%81%b4%eb%9e%98%ec%8a%a4%eb%a5%bc-%eb%a7%8c%eb%93%a4-%ec%88%98-%ec%97%86%eb%8b%a4 aria-label="첫 번째, 상속을 하려면 public이나 protected 생성자가 필요하니 정적 팩터리 메서드만 제공하면 하위 클래스를 만들 수 없다.">첫 번째, 상속을 하려면 <code>public</code>이나 <code>protected</code> 생성자가 필요하니 정적 팩터리 메서드만 제공하면 하위 클래스를 만들 수 없다.</a></li>
<li>
<a href=#%eb%91%90-%eb%b2%88%ec%a7%b8-%ec%a0%95%ec%a0%81-%ed%8c%a9%ed%84%b0%eb%a6%ac-%eb%a9%94%ec%84%9c%eb%93%9c%eb%8a%94-%ed%94%84%eb%a1%9c%ea%b7%b8%eb%9e%98%eb%a8%b8%ea%b0%80-%ec%b0%be%ea%b8%b0-%ec%96%b4%eb%a0%b5%eb%8b%a4 aria-label="두 번째, 정적 팩터리 메서드는 프로그래머가 찾기 어렵다.">두 번째, 정적 팩터리 메서드는 프로그래머가 찾기 어렵다.</a></li></ul>
</li>
<li>
<a href=#i-classuser-fa-av-new-releases-aria-hiddentruei-%ed%95%b5%ec%8b%ac%ec%a0%95%eb%a6%ac aria-label=" 핵심정리"><i class=user-fa-av-new-releases aria-hidden=true></i> 핵심정리</a>
</li>
</ul>
</div>
</details>
</div>
<div class=toc-aside-wrapper data-animation=true>
<div class="toc-aside-summary hide" accesskey=a title="(Alt + A)" data-animation=true>
<span class=toggle><svg class="lock" width="20" height="20" viewBox="0 0 512 512"><path d="M363.908 212.282v-90.978C363.908 54.434 309.509.0 242.606.0c-66.884.0-121.302 54.434-121.302 121.304v90.978c-33.498.0-60.653 27.158-60.653 60.648v151.629c0 33.5 27.155 60.653 60.653 60.653h242.604c33.491.0 60.653-27.153 60.653-60.653V272.93C424.562 239.439 397.399 212.282 363.908 212.282zM257.77 359.257v50.139c0 8.382-6.781 15.163-15.163 15.163s-15.164-6.781-15.164-15.163v-50.139c-8.9-5.269-15.161-14.57-15.161-25.673.0-16.765 13.579-30.327 30.324-30.327s30.326 13.562 30.326 30.327C272.933 344.687 266.665 353.989 257.77 359.257zm45.485-146.975h-121.3v-90.978c0-33.465 27.2-60.653 60.651-60.653 33.435.0 60.648 27.188 60.648 60.653v90.978z"/></svg><svg class="unlock" width="20" height="20" viewBox="0 0 512 512"><path d="M424.562 212.282h-60.653H242.607v-90.978C242.607 54.434 188.206.0 121.305.0 54.419.0.001 54.434.001 121.304v90.978h60.651v-90.978c0-33.465 27.205-60.653 60.653-60.653 33.435.0 60.651 27.188 60.651 60.653v90.978c-33.493.0-60.651 27.158-60.651 60.648v151.629c0 33.5 27.158 60.653 60.651 60.653h242.606c33.491.0 60.649-27.153 60.649-60.653V272.93C485.212 239.439 458.054 212.282 424.562 212.282zM318.424 359.257v50.139c0 8.382-6.786 15.163-15.168 15.163-8.377.0-15.158-6.781-15.158-15.163v-50.139c-8.887-5.269-15.164-14.57-15.164-25.673.0-16.765 13.562-30.327 30.322-30.327 16.765.0 30.331 13.562 30.331 30.327.0 11.103-6.28100000000001 20.405-15.163 25.673z"/></svg>
</span>
<span class=details>목차</span>
</div>
<div class="toc-aside hide" data-animation=true>
<div class=inner-wrapper>
<div class=inner><ul>
<li>
<a href=#i-classuser-fa-action-done-all-aria-hiddentruei-%ec%9e%a5%ec%a0%90 aria-label=" 장점"><i class=user-fa-action-done-all aria-hidden=true></i> 장점</a><ul>
<li>
<a href=#%ec%b2%ab-%eb%b2%88%ec%a7%b8-%ec%9d%b4%eb%a6%84%ec%9d%84-%ea%b0%80%ec%a7%88-%ec%88%98-%ec%9e%88%eb%8b%a4 aria-label="첫 번째, 이름을 가질 수 있다.">첫 번째, 이름을 가질 수 있다.</a></li>
<li>
<a href=#%eb%91%90-%eb%b2%88%ec%a7%b8-%ed%98%b8%ec%b6%9c%eb%90%a0-%eb%95%8c%eb%a7%88%eb%8b%a4-%ec%9d%b8%ec%8a%a4%ed%84%b4%ec%8a%a4%eb%a5%bc-%ec%83%88%eb%a1%9c-%ec%83%9d%ec%84%b1%ed%95%98%ec%a7%80%eb%8a%94-%ec%95%8a%ec%95%84%eb%8f%84-%eb%90%9c%eb%8b%a4 aria-label="두 번째, 호출될 때마다 인스턴스를 새로 생성하지는 않아도 된다.">두 번째, 호출될 때마다 인스턴스를 새로 생성하지는 않아도 된다.</a></li>
<li>
<a href=#%ec%84%b8-%eb%b2%88%ec%a7%b8-%eb%b0%98%ed%99%98-%ed%83%80%ec%9e%85%ec%9d%98-%ed%95%98%ec%9c%84-%ed%83%80%ec%9e%85-%ea%b0%9d%ec%b2%b4%eb%a5%bc-%eb%b0%98%ed%99%98%ed%95%a0-%ec%88%98-%ec%9e%88%eb%8a%94-%eb%8a%a5%eb%a0%a5%ec%9d%b4-%ec%9e%88%eb%8b%a4 aria-label="세 번째, 반환 타입의 하위 타입 객체를 반환할 수 있는 능력이 있다.">세 번째, 반환 타입의 하위 타입 객체를 반환할 수 있는 능력이 있다.</a></li>
<li>
<a href=#%eb%84%a4-%eb%b2%88%ec%a7%b8-%ec%9e%85%eb%a0%a5-%eb%a7%a4%ea%b0%9c%eb%b3%80%ec%88%98%ec%97%90-%eb%94%b0%eb%9d%bc-%eb%a7%a4%eb%b2%88-%eb%8b%a4%eb%a5%b8-%ed%81%b4%eb%9e%98%ec%8a%a4%ec%9d%98-%ea%b0%9d%ec%b2%b4%eb%a5%bc-%eb%b0%98%ed%99%98%ed%95%a0-%ec%88%98-%ec%9e%88%eb%8b%a4 aria-label="네 번째, 입력 매개변수에 따라 매번 다른 클래스의 객체를 반환할 수 있다.">네 번째, 입력 매개변수에 따라 매번 다른 클래스의 객체를 반환할 수 있다.</a></li>
<li>
<a href=#%eb%8b%a4%ec%84%af-%eb%b2%88%ec%a7%b8-%ec%a0%95%ec%a0%81-%ed%8c%a9%ed%84%b0%eb%a6%ac-%eb%a9%94%ec%84%9c%eb%93%9c%eb%a5%bc-%ec%9e%91%ec%84%b1%ed%95%98%eb%8a%94-%ec%8b%9c%ec%a0%90%ec%97%90%eb%8a%94-%eb%b0%98%ed%99%98%ed%95%a0-%ea%b0%9d%ec%b2%b4%ec%9d%98-%ed%81%b4%eb%9e%98%ec%8a%a4%ea%b0%80-%ec%a1%b4%ec%9e%ac%ed%95%98%ec%a7%80-%ec%95%8a%ec%95%84%eb%8f%84-%eb%90%9c%eb%8b%a4 aria-label="다섯 번째, 정적 팩터리 메서드를 작성하는 시점에는 반환할 객체의 클래스가 존재하지 않아도 된다.">다섯 번째, 정적 팩터리 메서드를 작성하는 시점에는 반환할 객체의 클래스가 존재하지 않아도 된다.</a></li></ul>
</li>
<li>
<a href=#i-classuser-fa-action-done-all-aria-hiddentruei-%eb%8b%a8%ec%a0%90 aria-label=" 단점"><i class=user-fa-action-done-all aria-hidden=true></i> 단점</a><ul>
<li>
<a href=#%ec%b2%ab-%eb%b2%88%ec%a7%b8-%ec%83%81%ec%86%8d%ec%9d%84-%ed%95%98%eb%a0%a4%eb%a9%b4-public%ec%9d%b4%eb%82%98-protected-%ec%83%9d%ec%84%b1%ec%9e%90%ea%b0%80-%ed%95%84%ec%9a%94%ed%95%98%eb%8b%88-%ec%a0%95%ec%a0%81-%ed%8c%a9%ed%84%b0%eb%a6%ac-%eb%a9%94%ec%84%9c%eb%93%9c%eb%a7%8c-%ec%a0%9c%ea%b3%b5%ed%95%98%eb%a9%b4-%ed%95%98%ec%9c%84-%ed%81%b4%eb%9e%98%ec%8a%a4%eb%a5%bc-%eb%a7%8c%eb%93%a4-%ec%88%98-%ec%97%86%eb%8b%a4 aria-label="첫 번째, 상속을 하려면 public이나 protected 생성자가 필요하니 정적 팩터리 메서드만 제공하면 하위 클래스를 만들 수 없다.">첫 번째, 상속을 하려면 <code>public</code>이나 <code>protected</code> 생성자가 필요하니 정적 팩터리 메서드만 제공하면 하위 클래스를 만들 수 없다.</a></li>
<li>
<a href=#%eb%91%90-%eb%b2%88%ec%a7%b8-%ec%a0%95%ec%a0%81-%ed%8c%a9%ed%84%b0%eb%a6%ac-%eb%a9%94%ec%84%9c%eb%93%9c%eb%8a%94-%ed%94%84%eb%a1%9c%ea%b7%b8%eb%9e%98%eb%a8%b8%ea%b0%80-%ec%b0%be%ea%b8%b0-%ec%96%b4%eb%a0%b5%eb%8b%a4 aria-label="두 번째, 정적 팩터리 메서드는 프로그래머가 찾기 어렵다.">두 번째, 정적 팩터리 메서드는 프로그래머가 찾기 어렵다.</a></li></ul>
</li>
<li>
<a href=#i-classuser-fa-av-new-releases-aria-hiddentruei-%ed%95%b5%ec%8b%ac%ec%a0%95%eb%a6%ac aria-label=" 핵심정리"><i class=user-fa-av-new-releases aria-hidden=true></i> 핵심정리</a>
</li>
</ul>
</div>
</div>
</div>
</div>
<script>const tocAside_DOMReady=function(a){document.readyState==="interactive"||document.readyState==="complete"?a():document.addEventListener("DOMContentLoaded",a)};tocAside_DOMReady(function(){const g=[],k=document.querySelector(".main .post-single>.toc"),b=document.querySelector(".main .toc-aside"),i=document.querySelector(".post-header"),h=i.offsetHeight+i.offsetTop+i.offsetParent.offsetTop-1;let c=null,e=null,f=null,a=null;if(b){c=document.querySelector(".main .toc-aside-summary"),e=b.querySelector(".inner-wrapper"),f=c.querySelector(".toggle"),a=b.querySelectorAll(".inner-wrapper .inner ul>li"),localStorage.getItem("lock-aside-toc-"+window.location.pathname)==="true"?(c.dataset.isLock=!0,e.classList.add("close"),f.querySelector(".unlock").classList.add("hide")):(c.dataset.isLock=!1,e.classList.add("open"),f.querySelector(".lock").classList.add("hide"));for(let b=0;b<a.length;b++)g[b]=decodeURI(a[b].firstElementChild.hash.substring(1));h<window.pageYOffset?(b.classList.remove("hide"),b.classList.add("reveal"),c.classList.remove("hide")):h>=window.pageYOffset&&b.classList.add("hide"),c.addEventListener("click",()=>{c.dataset.isLock==="false"?(c.dataset.isLock=!0,localStorage.setItem("lock-aside-toc-"+window.location.pathname,!0),f.querySelector(".lock").classList.remove("hide"),f.querySelector(".unlock").classList.add("hide"),e.classList.add("close"),e.classList.remove("open")):(c.dataset.isLock=!1,localStorage.setItem("lock-aside-toc-"+window.location.pathname,!1),f.querySelector(".lock").classList.add("hide"),f.querySelector(".unlock").classList.remove("hide"),e.classList.add("open"),e.classList.remove("close"))})}let d=0,j=0;window.addEventListener("scroll",()=>{if(d=window.pageYOffset,b){const k=Math.ceil(d+window.innerHeight)>=document.body.scrollHeight;h<d&&b.classList.contains("hide")?(b.classList.remove("hide"),b.classList.add("reveal"),c.classList.remove("hide")):h>=d&&b.classList.contains("reveal")&&(b.scrollTop=0,b.classList.remove("reveal"),b.classList.add("hide"),c.classList.add("hide"));let f=null,i=null,e=null,l=null;if(g.map((c,b)=>{l=document.getElementById(c);const g=l.getBoundingClientRect(),h=g.top;d+h-1<=d&&(f=a[b],e=b)}),e!==null){if(k){for(let b=0;b<a.length;b++){if(!a[b].classList.contains("selected"))continue;a[b].classList.remove("selected")}a[g.length-1].classList.add("selected"),i=a[g.length-1]}else{if(f===i&&e>0){j=d;return}for(let b=0;b<a.length;b++){if(!a[b].classList.contains("selected"))continue;a[b].classList.remove("selected")}f.classList.add("selected"),i=f}e!==null&&b.scroll({behavior:'smooth',top:e*20})}else if(k)a[g.length-1].classList.add("selected"),i=a[g.length-1];else{if(b.querySelector(".selected")===null){j=d;return}for(let b=0;b<a.length;b++){if(!a[b].classList.contains("selected"))continue;a[b].classList.remove("selected")}}}j=d})})</script>
<div class=post-content data-animation=true><p>클라이언트가 클래스의 인스턴스를 얻는 전통적인 수단은 <code>public</code> 생성자다. 하지만 모든 프로그래머가 꼭 알아둬야 할 기법이 하나 더 있다. 클래스는 생성자와 별도로 정적 팩터리 메서드<code>static factory method</code>를 제공할 수 있다. 그 클래스의 인스턴스를 반환하는 단순한 정적 메서드 말이다. 다음 코드는 <code>boolean</code> 기본 타입의 박싱 클래스<code>boxed class</code>인 <code>Boolean</code>에서 발췌한 간단한 예다. 이 메서드는 기본 타입인 <code>boolean</code> 값을 받아 <code>Boolean</code> 객체 참조로 변환해준다.</p>
<div class=highlight><div class=chroma>
<table class=lntable><tr><td class=lntd>
<pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span></code></pre></td>
<td class=lntd>
<pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=kd>public</span> <span class=kd>static</span> <span class=n>Boolean</span> <span class=nf>valueOf</span><span class=o>(</span><span class=kt>boolean</span> <span class=n>b</span><span class=o>)</span> <span class=o>{</span>
    <span class=k>return</span> <span class=n>b</span> <span class=o>?</span> <span class=n>Boolean</span><span class=o>.</span><span class=na>TRUE</span> <span class=o>:</span> <span class=n>Booelan</span><span class=o>.</span><span class=na>FALSE</span><span class=o>;</span>
<span class=o>}</span>
</code></pre></td></tr></table>
</div>
</div><p><em>Boolean 클래스에서 발췌한 예제 코드</em></p>
<hr>
<p><i class=user-fa-action-info-outline aria-hidden=true></i> 지금 얘기하는 정적 팩터리 메서드는 <em><strong>팩토리 메서드 패턴[Gamma95] <sup id=fnref:1><a href=#fn:1 class=footnote-ref role=doc-noteref>1</a></sup></strong></em> 에서의 팩터리 메서드<code>Factory Method</code>와 다르다. 디자인 패턴 중에는 이와 일치하는 패턴은 없다.</p>
<hr>
<p>클래스는 클라이언트에 <code>public</code> 생성자 대신 (혹은 생성자와 함께) 정적 팩터리 메서드를 제공할 수 있다. 이 방식에는 장점과 단점이 모두 존재한다. 먼저 정적 팩터리 메서드가 생성자보다 좋은 장점 다섯 가지를 알아보자.<br>
<br></p>
<h2 id=i-classuser-fa-action-done-all-aria-hiddentruei-장점><i class=user-fa-action-done-all aria-hidden=true></i> 장점<a hidden class=anchor aria-hidden=true href=#i-classuser-fa-action-done-all-aria-hiddentruei-장점>#</a></h2>
<br>
<h3 id=첫-번째-이름을-가질-수-있다>첫 번째, 이름을 가질 수 있다.<a hidden class=anchor aria-hidden=true href=#첫-번째-이름을-가질-수-있다>#</a></h3>
<p>생성자에 넘기는 매겨변수와 생성자 자체만으로는 반환될 객체의 특성을 제대로 설명하지 못한다. 반면 정적 팩터리는 이름만 잘 지으면 반환될 객체의 특성을 쉽게 묘사할 수 있다. 예컨대 생성자인 <code>BigInteger(int, int, Random)</code>과 정적 팩터리 메서드인 <code>BigInteger.probablePrime</code>중 어느 쪽이 <em>&lsquo;값이 소수인 BigInteger를 반환한다&rsquo;</em> 는 의미를 더 잘 설명할 것 같은지 생각해 보라.<br>
<i class=user-fa-action-info-outline aria-hidden=true></i> <code>BigInteger.probablePrime</code>은 <code>JAVA 4</code> 에서 추가됐다.</p>
<p>하나의 시그니처로는 생성자를 하나만 만들 수 있다. 입력 매개변수들의 순서를 다르게 한 생성자를 새로 추가하는 식으로 이 제한을 피해볼 수도 있지만, 좋지 않은 발상이다. 그런 API를 사용하는 개발자는 각 생성자가 어떤 역할을 하는지 정확히 기억하기 어려워 엉뚱한 것을 호출하는 실수를 할 수 있다. 코드를 읽는 사람도 클래스 설명 문서를 찾아보지 않고는 의미를 알지 못할 것이다.</p>
<p>이름을 가질 수 있는 정적 팩터리 메서드에는 이런 제약이 없다. 한 클래스에 시그니처가 같은 생성자가 여러 개 필요할 것 같으면, 생성자를 정적 택터리 메서드로 바꾸고 각각의 차이를 잘 드러내는 이름을 지어주자.<br>
<br></p>
<h3 id=두-번째-호출될-때마다-인스턴스를-새로-생성하지는-않아도-된다>두 번째, 호출될 때마다 인스턴스를 새로 생성하지는 않아도 된다.<a hidden class=anchor aria-hidden=true href=#두-번째-호출될-때마다-인스턴스를-새로-생성하지는-않아도-된다>#</a></h3>
<p>이 덕분에 불변 클래스<code>immutable class</code>; <a href=/effective-java-3e/chapter-03/item17/><code>아이템 17</code></a>는 인스턴스를 미리 만들어 놓거나 새로 생성한 인스턴스를 캐싱하여 재활용하는 식으로 불필요한 객체 생성을 피할 수 있다. 대표적 예인 <code>Boolean.valueOf(boolean)</code> 메서드는 객체를 아예 생성하지 않는다. 따라서 (특히 생성 비용이 큰) 같은 객체가 자주 요청되는 상황이라면 성능을 상당히 끌어올려 준다.<br>
<em><strong>플라이웨이트 패턴 [Gamma95] <sup id=fnref:2><a href=#fn:2 class=footnote-ref role=doc-noteref>2</a></sup></strong></em> 도 이와 비슷한 기법이라 할 수 있다.</p>
<p>반복되는 요청에 같은 객체를 반환하는 식으로 정적 팩터리 방식의 클래스는 언제 어느 인스턴스를 살아 있게 할지를 철저히 통제할 수 있다. 이런 클래스를 인스턴스 통제<code>instance-controlled</code> 클래스라 한다. 그렇다면 인스턴스를 통제하는 이유는 무엇일까? 인스턴스를 통제하면 클래스를 싱글턴<code>singleton</code>; <a href=/effective-java-3e/chapter-01/item3/><code>아이템 3</code></a>으로 만들 수도, 인스턴스화 불가<code>noninstantiable</code>; <a href=/effective-java-3e/chapter-01/item4/><code>아이템 4</code></a>로 만들 수도 있다. 또한 불변 값 클래스<a href=/effective-java-3e/chapter-03/item17/><code>아이템 17</code></a>에서 동치인 인스턴스가 단 하나뿐임을 보장할 수 있다.</p>
<p>　<strong>a == b일 때만 a.equals(b)가 성립</strong></p>
<p>인스턴스 통제는 <em><strong>플라이웨이트 패턴[Gamma95] <sup id=fnref:2><a href=#fn:2 class=footnote-ref role=doc-noteref>2</a></sup></strong></em> 의 근간이 되며, 열거 타입<a href=/effective-java-3e/chapter-05/item34/><code>아이템 34</code></a>은 인스턴스가 하나만 만들어짐을 보장한다.<br>
<br></p>
<h3 id=세-번째-반환-타입의-하위-타입-객체를-반환할-수-있는-능력이-있다>세 번째, 반환 타입의 하위 타입 객체를 반환할 수 있는 능력이 있다.<a hidden class=anchor aria-hidden=true href=#세-번째-반환-타입의-하위-타입-객체를-반환할-수-있는-능력이-있다>#</a></h3>
<p>이 능력은 반환할 객체의 클래스를 자유롭게 선택할 수 있게 하는 <strong>&lsquo;엄청난 유연성&rsquo;</strong> 을 선물한다. API를 만들 때 이 유연성을 응용하면 구현 클래스를 공개하지 않고도 그 객체를 반환할 수 있어 API를 작게 유지할 수 있다. 이는 인터페이스를 정적 팩터리 메서드의 반환 타입으로 사용하는 인터페이스 기반 프레임워크<a href=/effective-java-3e/chapter-03/item20/><code>아이템 20</code></a>를 만드는 핵심 기술이기도 하다.</p>
<p><code>JAVA 8</code> 전에는 인터페이스에 정적 메서드를 선언할 수 없었다. 그렇기 때문에 이름이 &ldquo;Type&rdquo; 인 인터페이스를 반환하는 정적 메서드가 필요하면, &ldquo;Types"라는 (인스턴스화 불가인) 동반 클래스<code>companion class</code>를 만들어 그 안에 정의하는 것이 관례였다. 예컨대 자바 컬렉션 프레임워크는 핵심 인터페이스들에 수정 불가나 동시화 등의 기능을 덧붙인 총 45개의 유틸리티 구현체를 제공하는데, 이 구현체 대부분을 단 하나의 인스턴스화 불가 클래스인 <code>java.util.collections</code>에서 정적 팩터리 메서드를 통해 얻도록 했다.</p>
<p>컬렉션 프레임워크는 이 45개 클래스를 공개하지 않기 때문에 API 외견을 훨씬 작게 만들 수 있었다. API가 작아진 것은 물론 개념적인 무게, 즉 프로그래머가 API를 사용하기 위해 익혀야 하는 개념의 수와 난이도도 낮췄다. 프로그래머는 명시한 인터페이스대로 동작하는 객체를 얻을 것임을 알기에 굳이 별도 문서를 찾아가며 실제 구현 클래스가 무엇인지 알아보지 않아도 된다. 나아가 정적 팩터리 메서드를 사용하는 클라이언트는 얻은 객체를 (그 구현 클래스가 아닌) 인터페이스만으로 다루게 된다.<a href=/effective-java-3e/chapter-08/item64/><code>아이템 64</code></a> 물론 이는 일반적으로 좋은 습관이다.</p>
<p><code>JAVA 8</code>부터는 인터페이스가 정적 메서드를 가질 수 없다는 제한이 풀렸기 때문에 인스턴스화 불가 동반 클래스를 둘 이유가 별로 없다. 동반 클래스에 두었던 <code>public</code> 정적 멤버들 상당수를 그냥 인터페이스 자체에 두면 되는 것이다. 하지만 정적 메서드들을 구현하기 위한 코드 중 많은 부분은 여전히 별도의 <code>package-private</code> 클래스에 두어야 할 수 있다. <code>JAVA 8</code>에서도 인터페이스에는 <code>public</code> 정적 멤버만 허용하기 때문이다. <code>JAVA 9</code>에서는 <code>private</code> 정적 메서드까지 허락하지만 정적 필드와 정적 멤버 클래스는 여전히 <code>public</code>이어야 한다.<br>
<br></p>
<h3 id=네-번째-입력-매개변수에-따라-매번-다른-클래스의-객체를-반환할-수-있다>네 번째, 입력 매개변수에 따라 매번 다른 클래스의 객체를 반환할 수 있다.<a hidden class=anchor aria-hidden=true href=#네-번째-입력-매개변수에-따라-매번-다른-클래스의-객체를-반환할-수-있다>#</a></h3>
<p>반환 타입의 하위 타입이기만 하면 어떤 클래스의 객체를 반환하든 상관없다. 심지어 다음 릴리스에서는 또 다른 클래스의 객체를 반환해도 된다. 가령 <code>EnumSet</code> 클래스<a href=/effective-java-3e/chapter-05/item36/><code>아이템 36</code></a>는 <code>public</code> 생성자 없이 오직 정적 팩터리만 제공하는데, <code>OpenJDK</code>에서는 원소의 수에 따라 두 가지 하위 클래스 중 하나의 인스턴스를 반환한다. (대다수에 해당하는) 원소가 64개 이하면 원소들을 <code>long</code>변수 하나로 관리하는 <code>RegularEnumSet</code>의 인스턴스를, 65개 이상이면 <code>long</code>배열로 관리하는 <code>JumboEnumSet</code>의 인스턴스를 반환한다.</p>
<div class=highlight><div class=chroma>
<table class=lntable><tr><td class=lntd>
<pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span></code></pre></td>
<td class=lntd>
<pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=kd>public</span> <span class=kd>static</span> <span class=o>&lt;</span><span class=n>E</span> <span class=kd>extends</span> <span class=n>Enum</span><span class=o>&lt;</span><span class=n>E</span><span class=o>&gt;&gt;</span> <span class=n>EnumSet</span><span class=o>&lt;</span><span class=n>E</span><span class=o>&gt;</span> <span class=nf>noneOf</span><span class=o>(</span><span class=n>Class</span><span class=o>&lt;</span><span class=n>E</span><span class=o>&gt;</span> <span class=n>elementType</span><span class=o>)</span> <span class=o>{</span>
    <span class=n>Enum</span><span class=o>&lt;?&gt;[]</span> <span class=n>universe</span> <span class=o>=</span> <span class=n>getUniverse</span><span class=o>(</span><span class=n>elementType</span><span class=o>);</span>
    <span class=k>if</span> <span class=o>(</span><span class=n>universe</span> <span class=o>==</span> <span class=kc>null</span><span class=o>)</span>
        <span class=k>throw</span> <span class=k>new</span> <span class=n>ClassCastException</span><span class=o>(</span><span class=n>elementType</span> <span class=o>+</span> <span class=s>&#34; not an enum&#34;</span><span class=o>);</span>

    <span class=k>if</span> <span class=o>(</span><span class=n>universe</span><span class=o>.</span><span class=na>length</span> <span class=o>&lt;=</span> <span class=n>64</span><span class=o>)</span>
        <span class=k>return</span> <span class=k>new</span> <span class=n>RegularEnumSet</span><span class=o>&lt;&gt;(</span><span class=n>elementType</span><span class=o>,</span> <span class=n>universe</span><span class=o>);</span>
    <span class=k>else</span>
        <span class=k>return</span> <span class=k>new</span> <span class=n>JumboEnumSet</span><span class=o>&lt;&gt;(</span><span class=n>elementType</span><span class=o>,</span> <span class=n>universe</span><span class=o>);</span>
<span class=o>}</span>
</code></pre></td></tr></table>
</div>
</div><p>클라이언트는 이 두 클래스의 존재를 모른다. 만약 원소가 적을 때 <code>RegularEnumSet</code>을 사용할 이점이 없어진다면 다음 릴리스 때는 이를 삭제해도 아무 문제가 없다. 비슷하게, 성능을 더 개선한 세 번때, 네 번째 클래스를 다음 릴리스에 추가할 수도 있다. 클라이언트는 팩터리가 건네주는 객체가 어느 클래스의 인스턴스인지 알 수도 없고 알 필요도 없다. <code>EnumSet</code>의 하위 클래스이기만 하면 되는 것이다.<br>
<br></p>
<h3 id=다섯-번째-정적-팩터리-메서드를-작성하는-시점에는-반환할-객체의-클래스가-존재하지-않아도-된다>다섯 번째, 정적 팩터리 메서드를 작성하는 시점에는 반환할 객체의 클래스가 존재하지 않아도 된다.<a hidden class=anchor aria-hidden=true href=#다섯-번째-정적-팩터리-메서드를-작성하는-시점에는-반환할-객체의-클래스가-존재하지-않아도-된다>#</a></h3>
<p>이런 유연함은 서비스 제공자 프레임워크<code>service provider framework</code>를 만드는 근간이 된다. 대표적인 서비스 제공자 프레임워크로는 <code>JDBC</code><sup id=fnref:3><a href=#fn:3 class=footnote-ref role=doc-noteref>3</a></sup> 가 있다. 서비스 제공자 프레임워크에서의 제공자<code>provider</code>는 서비스의 구현체다. 그리고 이 구현체들을 클라이언트에 제공하는 역할을 프레임워크가 통제하여, 클라이언트를 구현체로부터 분리해준다.</p>
<p>서비스 제공자 프레임워크는 3개의 핵심 컴포넌트로 이뤄진다. 구현체의 동작을 정의하는 서비스 인터페이스<code>service interface</code>, 제공자가 구현체를 등록할 때 사용하는 제공자 등록 API<code>provider registration API</code>, 클라이언트가 서비스의 인스턴스를 얻을 때 사용하는 서비스 접근 API<code>service access API</code>가 그 주인공이다. 클라이언트는 서비스 접근 API를 사용할 때 원하는 구현체의 조건을 명시할 수 있다. 조건을 명시하지 않으면 기본 구현체를 반환하거나 지원하는 구현체들을 하나씩 돌아가며 반환한다. 이 서비스 접근 API가 바로 서비스 제공자 프레임워크의 근간이라고 한 &lsquo;유연한 정적 팩터리&rsquo;의 실체다.</p>
<p>3개의 핵심 컴포넌트와 더불어 종종 서비스 제공자 인터페이스<code>service provider interface</code>라는 네 번째 컴포넌트가 쓰이기도 한다. 이 컴포넌트는 서비스 인터페이스의 인스턴스를 생성하는 팩터리 객체를 설명해준다. 서비스 제공자 인터페이스가 없다면 각 구현체를 인스턴스로 만들 때 리플렉션<a href=/effective-java-3e/chapter-08/item65/><code>아이템 65</code></a>을 사용해야 한다. <code>JDBC</code><sup id=fnref:3><a href=#fn:3 class=footnote-ref role=doc-noteref>3</a></sup> 에서는 <code>Connection</code>이 서비스 인터페이스 역할을, <code>DriverManager.registerDriver</code>가 제공자 등록 API 역할을, <code>DriverManager.getConnection</code>이 서비스 접근 API 역할을, <code>Driver</code>가 서비스 제공자 인터페이스 역할을 수행한다.</p>
<p>서비스 제공자 프레임워크 패턴에는 여러 변형이 있다. 예컨대 서비스 접근 API는 공급자가 제공하는 것보다 더 풍부한 서비스 인터페이스를 클라이언트에 반환할 수 있다. <em><strong>브리지 패턴[Gamma95] <sup id=fnref:4><a href=#fn:4 class=footnote-ref role=doc-noteref>4</a></sup></strong></em> 이라 알려진 것이다. 의존 객체 주입<code>dependency injection</code> 프레임워크<a href=/effective-java-3e/chapter-01/item5/><code>아이템 5</code></a>도 강력한 서비스 제공자라고 생각할 수 있다. <code>JAVA 6</code>부터는 <code>java.util.ServiceLoader</code>라는 범용 서비스 제공자 프레임워크가 제공되어 프레임워크를 직접 만들 필요가 거의 없어졌다.<a href=/effective-java-3e/chapter-08/item59/><code>아이템 59</code></a> 한편, <code>JDBC</code><sup id=fnref:3><a href=#fn:3 class=footnote-ref role=doc-noteref>3</a></sup>는 <code>JAVA 6</code> 전에 등장한 개념이라 <code>ServiceLoader</code>를 사용하지 않는다.</p>
<br>
이제 단점을 알아볼 차례다.
<h2 id=i-classuser-fa-action-done-all-aria-hiddentruei-단점><i class=user-fa-action-done-all aria-hidden=true></i> 단점<a hidden class=anchor aria-hidden=true href=#i-classuser-fa-action-done-all-aria-hiddentruei-단점>#</a></h2>
<br>
<h3 id=첫-번째-상속을-하려면-public이나-protected-생성자가-필요하니-정적-팩터리-메서드만-제공하면-하위-클래스를-만들-수-없다>첫 번째, 상속을 하려면 <code>public</code>이나 <code>protected</code> 생성자가 필요하니 정적 팩터리 메서드만 제공하면 하위 클래스를 만들 수 없다.<a hidden class=anchor aria-hidden=true href=#첫-번째-상속을-하려면-public이나-protected-생성자가-필요하니-정적-팩터리-메서드만-제공하면-하위-클래스를-만들-수-없다>#</a></h3>
<p>앞서 이야기한 컬렉션 프레임워크의 유틸리티 구현 클래스들은 상속할 수 없다는 이야기다. 어찌 보면 이 제약은 상속<code>is-a</code>보다 컴포지션<code>has-a</code>을 사용<a href=/effective-java-3e/chapter-03/item18/><code>아이템 18</code></a>하도록 유도하고 불변 타입<a href=/effective-java-3e/chapter-03/item17/><code>아이템 17</code></a>으로 만들려면 이 제약을 지켜야 한다는 점에서 오히려 장점으로 받아들일 수도 있다.<br>
<br></p>
<h3 id=두-번째-정적-팩터리-메서드는-프로그래머가-찾기-어렵다>두 번째, 정적 팩터리 메서드는 프로그래머가 찾기 어렵다.<a hidden class=anchor aria-hidden=true href=#두-번째-정적-팩터리-메서드는-프로그래머가-찾기-어렵다>#</a></h3>
<p>생성자처럼 API 설명에 명확히 드러나지 않으니 사용자는 정적 팩터리 메서드 방식 클래스를 인스턴스화할 방법을 알아내야 한다. 이 일을 언젠가 자바독이 알아서 처리해 줬으면 좋겠으나, 그날이 오기까지는 API 문서를 잘 써놓고 메서드 이름도 널리 알려진 규약을 따라 짓는 식으로 문제를 완화해줘야 한다.</p>
<p>다음은 정적 팩터리 메서드에 흔히 사용하는 명명 방식들이다.</p>
<ul>
<li><code>from</code> <i class=user-fa-navigation-arrow-forward aria-hidden=true></i> 매개변수를 하나 받아서 해당 타입의 인스턴스를 반환하는 형변환 매서드<br>
<i class=user-fa-action-done aria-hidden=true></i> Date d = Date.from(instant);<br>
<br></li>
<li><code>of</code> <i class=user-fa-navigation-arrow-forward aria-hidden=true></i> 여러 매개변수를 받아 적합한 타입의 인스턴스를 반환하는 집계 메서드<br>
<i class=user-fa-action-done aria-hidden=true></i> Set<rank> faceCards = EnumSet.of(JACK, QUEEN, KING);<br>
<br></li>
<li><code>valueOf</code> <i class=user-fa-navigation-arrow-forward aria-hidden=true></i> <em><code>from</code></em> 과 <em><code>of</code></em> 의 더 자세한 버전<br>
<i class=user-fa-action-done aria-hidden=true></i> BigInteger prime = BigInteger.valueOf(Integer.MAX_VALUE);<br>
<br></li>
<li><code>instance</code> 혹은 <code>getInstance</code> <i class=user-fa-navigation-arrow-forward aria-hidden=true></i> (매개변수를 받는다면) 매개변수로 명시한 인스턴스를 반환하지만, 같은 인스턴스임을 보장하지 않는다.<br>
<i class=user-fa-action-done aria-hidden=true></i> StackWalker luke = StackWalker.getInstance(options);<br>
<br></li>
<li><code>create</code> 혹은 <code>newInstance</code> <i class=user-fa-navigation-arrow-forward aria-hidden=true></i> <em><code>instance</code></em> 혹은 <em><code>getInstance</code></em> 와 같지만, 매번 새로운 인스턴스를 생성해 반환함을 보장한다.<br>
<i class=user-fa-action-done aria-hidden=true></i> Object newArray = Array.newInstance(classObject, arrayLen);<br>
<br></li>
<li><code>getType</code> <i class=user-fa-navigation-arrow-forward aria-hidden=true></i> <em><code>getInstance</code></em> 와 같으나, 생성할 클래스가 아닌 다른 클래스에 팩터리 메서드를 정의할 때 쓴다. <em>&ldquo;Type&rdquo;</em> 은 팩터리 메서드가 반환할 객체의 타입이다.<br>
<i class=user-fa-action-done aria-hidden=true></i> FileStore fs = Files.getFileStore(path);<br>
<br></li>
<li><code>newType</code> <i class=user-fa-navigation-arrow-forward aria-hidden=true></i> <em><code>newInstance</code></em> 와 같으나, 생성할 클래스가 아닌 다른 클래스에 팩터리 메서드를 정의할 때 쓴다. <em>&ldquo;Type&rdquo;</em> 은 팩터리 메서드가 반환할 객체의 타입이다.<br>
<i class=user-fa-action-done aria-hidden=true></i> BufferedReader br = Files.newBufferedReader(path);<br>
<br></li>
<li><code>type</code> <i class=user-fa-navigation-arrow-forward aria-hidden=true></i> <em><code>getType</code></em> 과 <em><code>newType</code></em> 의 간결한 버전<br>
<i class=user-fa-action-done aria-hidden=true></i> List<complaint> litany = Collections.list(legacyLitany);<br>
<br><br>
<br></li>
</ul>
<h2 id=i-classuser-fa-av-new-releases-aria-hiddentruei-핵심정리><i class=user-fa-av-new-releases aria-hidden=true></i> 핵심정리<a hidden class=anchor aria-hidden=true href=#i-classuser-fa-av-new-releases-aria-hiddentruei-핵심정리>#</a></h2>
<p>정적 팩터리 메서드와 <code>public</code> 생성자는 각자의 쓰임새가 있으니 상대적인 장단점을 이해하고 사용하는 것이 좋다. 그렇다고 하더라도 정적 팩터리를 사용하는 게 유리한 경우가 더 많으므로 무작정 <code>public</code> 생성자를 제공하던 습관이 있다면 고치자.</p>
<section class=footnotes role=doc-endnotes>
<hr>
<ol>
<li id=fn:1 role=doc-endnote>
<p><a href=https://ko.wikipedia.org/wiki/%ED%8C%A9%ED%86%A0%EB%A6%AC_%EB%A9%94%EC%84%9C%EB%93%9C_%ED%8C%A8%ED%84%B4>Factory method pattern</a> in <a href=https://ko.wikipedia.org/wiki/%EB%94%94%EC%9E%90%EC%9D%B8_%ED%8C%A8%ED%84%B4_(%EC%B1%85)>[GoF] Design Patterns</a>&#160;<a href=#fnref:1 class=footnote-backref role=doc-backlink>&#8617;&#xfe0e;</a></p>
</li>
<li id=fn:2 role=doc-endnote>
<p><a href=https://ko.wikipedia.org/wiki/%ED%94%8C%EB%9D%BC%EC%9D%B4%EC%9B%A8%EC%9D%B4%ED%8A%B8_%ED%8C%A8%ED%84%B4>Flyweight pattern</a> in <a href=https://ko.wikipedia.org/wiki/%EB%94%94%EC%9E%90%EC%9D%B8_%ED%8C%A8%ED%84%B4_(%EC%B1%85)>[GoF] Design Patterns</a>&#160;<a href=#fnref:2 class=footnote-backref role=doc-backlink>&#8617;&#xfe0e;</a></p>
</li>
<li id=fn:3 role=doc-endnote>
<p><a href=https://ko.wikipedia.org/wiki/JDBC>Java Database Connectivity</a>&#160;<a href=#fnref:3 class=footnote-backref role=doc-backlink>&#8617;&#xfe0e;</a></p>
</li>
<li id=fn:4 role=doc-endnote>
<p><a href=https://ko.wikipedia.org/wiki/%EB%B8%8C%EB%A6%AC%EC%A7%80_%ED%8C%A8%ED%84%B4>Bridge pattern</a> in <a href=https://ko.wikipedia.org/wiki/%EB%94%94%EC%9E%90%EC%9D%B8_%ED%8C%A8%ED%84%B4_(%EC%B1%85)>[GoF] Design Patterns</a>&#160;<a href=#fnref:4 class=footnote-backref role=doc-backlink>&#8617;&#xfe0e;</a></p>
</li>
</ol>
</section>
</div>
<footer class=post-footer data-animation=true><div class=post-license-info>
<a class=button rel=license href=https://creativecommons.org/licenses/by-sa/4.0/deed.ko target=_blank>
<img alt="Attribution-ShareAlike 4.0 International" src=https://i.creativecommons.org/l/by-sa/4.0/88x31.png>
</a>
<div class=license-descript>
이 저작물은 <a rel=license href=https://creativecommons.org/licenses/by-sa/4.0/deed.ko target=_blank>크리에이티브 커먼즈 저작자표시-동일조건변경허락 4.0 국제 라이선스</a>에 따라 이용할 수 있습니다.
</div>
</div>
<ul class=post-tags>
<li><a class=button href=https://qutrits.github.io/tags/java/>Java</a></li>
<li><a class=button href=https://qutrits.github.io/tags/effective-java-3e/>Effective Java 3E</a></li>
</ul>
<nav class=paginav>
<a class="prev button" href=https://qutrits.github.io/effective-java-3e/chapter-05/item34/>
<span class=title><svg style="vertical-align:-2px" stroke="currentcolor" fill="currentcolor" stroke-width="0" viewBox="0 0 24 24" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M15.41 7.41 14 6l-6 6 6 6 1.41-1.41L10.83 12z"/></svg><svg style="margin-left:-10px;vertical-align:-2px" stroke="currentcolor" fill="currentcolor" stroke-width="0" viewBox="0 0 24 24" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M15.41 7.41 14 6l-6 6 6 6 1.41-1.41L10.83 12z"/></svg>
이전 페이지
</span>
<br>
<span></span>
</a>
<a class="next button" href=https://qutrits.github.io/effective-java-3e/chapter-01/item2/>
<span class=title>
다음 페이지<svg style="margin-right:-10px;vertical-align:-2px" stroke="currentcolor" fill="currentcolor" stroke-width="0" viewBox="0 0 24 24" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M10 6 8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"/></svg><svg style="vertical-align:-2px" stroke="currentcolor" fill="currentcolor" stroke-width="0" viewBox="0 0 24 24" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M10 6 8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"/></svg>
</span>
<br>
<span>[아이템 2] 생성자에 매개변수가 많다면 빌더를 고려하라</span>
</a>
</nav>
<div class=share-buttons>
<a target=_blank rel="noopener noreferrer" class=twitter aria-label="share [아이템 1] 생성자 대신 정적 팩토리 메서드를 고려하라 on twitter" href="https://twitter.com/intent/tweet/?text=%5b%ec%95%84%ec%9d%b4%ed%85%9c%201%5d%20%ec%83%9d%ec%84%b1%ec%9e%90%20%eb%8c%80%ec%8b%a0%20%ec%a0%95%ec%a0%81%20%ed%8c%a9%ed%86%a0%eb%a6%ac%20%eb%a9%94%ec%84%9c%eb%93%9c%eb%a5%bc%20%ea%b3%a0%eb%a0%a4%ed%95%98%eb%9d%bc&url=https%3a%2f%2fqutrits.github.io%2feffective-java-3e%2fchapter-01%2fitem1%2f&hashtags=Java%2cEffectiveJava3E"><svg viewBox="0 0 512 512"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zM195.519 424.544c135.939.0 210.268-112.643 210.268-210.268.0-3.218.0-6.437-.153-9.502 14.406-10.421 26.973-23.448 36.935-38.314-13.18 5.824-27.433 9.809-42.452 11.648 15.326-9.196 26.973-23.602 32.49-40.92-14.252 8.429-30.038 14.56-46.896 17.931-13.487-14.406-32.644-23.295-53.946-23.295-40.767.0-73.87 33.104-73.87 73.87.0 5.824.613 11.494 1.992 16.858-61.456-3.065-115.862-32.49-152.337-77.241-6.284 10.881-9.962 23.601-9.962 37.088.0 25.594 13.027 48.276 32.95 61.456-12.107-.307-23.448-3.678-33.41-9.196v.92c0 35.862 25.441 65.594 59.311 72.49-6.13 1.686-12.72 2.606-19.464 2.606-4.751.0-9.348-.46-13.946-1.38 9.349 29.426 36.628 50.728 68.965 51.341-25.287 19.771-57.164 31.571-91.8 31.571-5.977.0-11.801-.306-17.625-1.073 32.337 21.15 71.264 33.41 112.95 33.41z"/></svg>
</a>
<a target=_blank rel="noopener noreferrer" class=linkedin aria-label="share [아이템 1] 생성자 대신 정적 팩토리 메서드를 고려하라 on linkedin" href="https://www.linkedin.com/shareArticle?mini=true&url=https%3a%2f%2fqutrits.github.io%2feffective-java-3e%2fchapter-01%2fitem1%2f&title=%5b%ec%95%84%ec%9d%b4%ed%85%9c%201%5d%20%ec%83%9d%ec%84%b1%ec%9e%90%20%eb%8c%80%ec%8b%a0%20%ec%a0%95%ec%a0%81%20%ed%8c%a9%ed%86%a0%eb%a6%ac%20%eb%a9%94%ec%84%9c%eb%93%9c%eb%a5%bc%20%ea%b3%a0%eb%a0%a4%ed%95%98%eb%9d%bc&summary=%5b%ec%95%84%ec%9d%b4%ed%85%9c%201%5d%20%ec%83%9d%ec%84%b1%ec%9e%90%20%eb%8c%80%ec%8b%a0%20%ec%a0%95%ec%a0%81%20%ed%8c%a9%ed%86%a0%eb%a6%ac%20%eb%a9%94%ec%84%9c%eb%93%9c%eb%a5%bc%20%ea%b3%a0%eb%a0%a4%ed%95%98%eb%9d%bc&source=https%3a%2f%2fqutrits.github.io%2feffective-java-3e%2fchapter-01%2fitem1%2f"><svg viewBox="0 0 512 512"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zM160.461 423.278V197.561h-75.04v225.717h75.04zm270.539.0V293.839c0-69.333-37.018-101.586-86.381-101.586-39.804.0-57.634 21.891-67.617 37.266v-31.958h-75.021c.995 21.181.0 225.717.0 225.717h75.02V297.222c0-6.748.486-13.492 2.474-18.315 5.414-13.475 17.767-27.434 38.494-27.434 27.135.0 38.007 20.707 38.007 51.037v120.768H431zM123.448 88.722C97.774 88.722 81 105.601 81 127.724c0 21.658 16.264 39.002 41.455 39.002h.484c26.165.0 42.452-17.344 42.452-39.002-.485-22.092-16.241-38.954-41.943-39.002z"/></svg>
</a>
<a target=_blank rel="noopener noreferrer" class=reddit aria-label="share [아이템 1] 생성자 대신 정적 팩토리 메서드를 고려하라 on reddit" href="https://reddit.com/submit?url=https%3a%2f%2fqutrits.github.io%2feffective-java-3e%2fchapter-01%2fitem1%2f&title=%5b%ec%95%84%ec%9d%b4%ed%85%9c%201%5d%20%ec%83%9d%ec%84%b1%ec%9e%90%20%eb%8c%80%ec%8b%a0%20%ec%a0%95%ec%a0%81%20%ed%8c%a9%ed%86%a0%eb%a6%ac%20%eb%a9%94%ec%84%9c%eb%93%9c%eb%a5%bc%20%ea%b3%a0%eb%a0%a4%ed%95%98%eb%9d%bc"><svg viewBox="0 0 512 512"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zM446 265.638c0-22.964-18.616-41.58-41.58-41.58-11.211.0-21.361 4.457-28.841 11.666-28.424-20.508-67.586-33.757-111.204-35.278l18.941-89.121 61.884 13.157c.756 15.734 13.642 28.29 29.56 28.29 16.407.0 29.706-13.299 29.706-29.701.0-16.403-13.299-29.702-29.706-29.702-11.666.0-21.657 6.792-26.515 16.578l-69.105-14.69c-1.922-.418-3.939-.042-5.585 1.036-1.658 1.073-2.811 2.761-3.224 4.686l-21.152 99.438c-44.258 1.228-84.046 14.494-112.837 35.232-7.468-7.164-17.589-11.591-28.757-11.591-22.965.0-41.585 18.616-41.585 41.58.0 16.896 10.095 31.41 24.568 37.918-.639 4.135-.99 8.328-.99 12.576.0 63.977 74.469 115.836 166.33 115.836s166.334-51.859 166.334-115.836c0-4.218-.347-8.387-.977-12.493 14.564-6.47 24.735-21.034 24.735-38.001zM326.526 373.831c-20.27 20.241-59.115 21.816-70.534 21.816-11.428.0-50.277-1.575-70.522-21.82-3.007-3.008-3.007-7.882.0-10.889 3.003-2.999 7.882-3.003 10.885.0 12.777 12.781 40.11 17.317 59.637 17.317 19.522.0 46.86-4.536 59.657-17.321 3.016-2.999 7.886-2.995 10.885.008 3.008 3.011 3.003 7.882-.008 10.889zm-5.23-48.781c-16.373.0-29.701-13.324-29.701-29.698.0-16.381 13.328-29.714 29.701-29.714 16.378.0 29.706 13.333 29.706 29.714.0 16.374-13.328 29.698-29.706 29.698zM160.91 295.348c0-16.381 13.328-29.71 29.714-29.71 16.369.0 29.689 13.329 29.689 29.71.0 16.373-13.32 29.693-29.689 29.693-16.386.0-29.714-13.32-29.714-29.693z"/></svg>
</a>
<a target=_blank rel="noopener noreferrer" class=facebook aria-label="share [아이템 1] 생성자 대신 정적 팩토리 메서드를 고려하라 on facebook" href="https://facebook.com/sharer/sharer.php?u=https%3a%2f%2fqutrits.github.io%2feffective-java-3e%2fchapter-01%2fitem1%2f"><svg viewBox="0 0 512 512"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H342.978V319.085h66.6l12.672-82.621h-79.272v-53.617c0-22.603 11.073-44.636 46.58-44.636H425.6v-70.34s-32.71-5.582-63.982-5.582c-65.288.0-107.96 39.569-107.96 111.204v62.971h-72.573v82.621h72.573V512h-191.104c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892z"/></svg>
</a>
<a target=_blank rel="noopener noreferrer" class=whatsapp aria-label="share [아이템 1] 생성자 대신 정적 팩토리 메서드를 고려하라 on whatsapp" href="https://api.whatsapp.com/send?text=%5b%ec%95%84%ec%9d%b4%ed%85%9c%201%5d%20%ec%83%9d%ec%84%b1%ec%9e%90%20%eb%8c%80%ec%8b%a0%20%ec%a0%95%ec%a0%81%20%ed%8c%a9%ed%86%a0%eb%a6%ac%20%eb%a9%94%ec%84%9c%eb%93%9c%eb%a5%bc%20%ea%b3%a0%eb%a0%a4%ed%95%98%eb%9d%bc%20-%20https%3a%2f%2fqutrits.github.io%2feffective-java-3e%2fchapter-01%2fitem1%2f"><svg viewBox="0 0 512 512"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zm-58.673 127.703c-33.842-33.881-78.847-52.548-126.798-52.568-98.799.0-179.21 80.405-179.249 179.234-.013 31.593 8.241 62.428 23.927 89.612l-25.429 92.884 95.021-24.925c26.181 14.28 55.659 21.807 85.658 21.816h.074c98.789.0 179.206-80.413 179.247-179.243.018-47.895-18.61-92.93-52.451-126.81zM263.976 403.485h-.06c-26.734-.01-52.954-7.193-75.828-20.767l-5.441-3.229-56.386 14.792 15.05-54.977-3.542-5.637c-14.913-23.72-22.791-51.136-22.779-79.287.033-82.142 66.867-148.971 149.046-148.971 39.793.014 77.199 15.531 105.329 43.692 28.128 28.16 43.609 65.592 43.594 105.4-.034 82.149-66.866 148.983-148.983 148.984zm81.721-111.581c-4.479-2.242-26.499-13.075-30.604-14.571-4.105-1.495-7.091-2.241-10.077 2.241-2.986 4.483-11.569 14.572-14.182 17.562-2.612 2.988-5.225 3.364-9.703 1.12-4.479-2.241-18.91-6.97-36.017-22.23C231.8 264.15 222.81 249.484 220.198 245s-.279-6.908 1.963-9.14c2.016-2.007 4.48-5.232 6.719-7.847 2.24-2.615 2.986-4.484 4.479-7.472 1.493-2.99.747-5.604-.374-7.846-1.119-2.241-10.077-24.288-13.809-33.256-3.635-8.733-7.327-7.55-10.077-7.688-2.609-.13-5.598-.158-8.583-.158-2.986.0-7.839 1.121-11.944 5.604-4.105 4.484-15.675 15.32-15.675 37.364.0 22.046 16.048 43.342 18.287 46.332 2.24 2.99 31.582 48.227 76.511 67.627 10.685 4.615 19.028 7.371 25.533 9.434 10.728 3.41 20.492 2.929 28.209 1.775 8.605-1.285 26.499-10.833 30.231-21.295 3.732-10.464 3.732-19.431 2.612-21.298-1.119-1.869-4.105-2.99-8.583-5.232z"/></svg>
</a>
<a target=_blank rel="noopener noreferrer" class=telegram aria-label="share [아이템 1] 생성자 대신 정적 팩토리 메서드를 고려하라 on telegram" href="https://telegram.me/share/url?text=%5b%ec%95%84%ec%9d%b4%ed%85%9c%201%5d%20%ec%83%9d%ec%84%b1%ec%9e%90%20%eb%8c%80%ec%8b%a0%20%ec%a0%95%ec%a0%81%20%ed%8c%a9%ed%86%a0%eb%a6%ac%20%eb%a9%94%ec%84%9c%eb%93%9c%eb%a5%bc%20%ea%b3%a0%eb%a0%a4%ed%95%98%eb%9d%bc&url=https%3a%2f%2fqutrits.github.io%2feffective-java-3e%2fchapter-01%2fitem1%2f"><svg viewBox="2 2 28 28"><path d="M26.49 29.86H5.5a3.37 3.37.0 01-2.47-1 3.35 3.35.0 01-1-2.47V5.48A3.36 3.36.0 013 3 3.37 3.37.0 015.5 2h21A3.38 3.38.0 0129 3a3.36 3.36.0 011 2.46V26.37a3.35 3.35.0 01-1 2.47 3.38 3.38.0 01-2.51 1.02zm-5.38-6.71a.79.79.0 00.85-.66L24.73 9.24a.55.55.0 00-.18-.46.62.62.0 00-.41-.17q-.08.0-16.53 6.11a.59.59.0 00-.41.59.57.57.0 00.43.52l4 1.24 1.61 4.83a.62.62.0 00.63.43.56.56.0 00.4-.17L16.54 20l4.09 3A.9.9.0 0021.11 23.15zM13.8 20.71l-1.21-4q8.72-5.55 8.78-5.55c.15.0.23.0.23.16a.18.18.0 010 .06s-2.51 2.3-7.52 6.8z"/></svg>
</a>
</div>
</footer><div class=comments-button-wrapper id=comments-button data-animation=true>
<div class="comments-button button">댓글 보기</div>
</div>
<script>const comments_DOMReady=function(a){document.readyState==="interactive"||document.readyState==="complete"?a():document.addEventListener("DOMContentLoaded",a)};comments_DOMReady(function(){const a=document.querySelector(".main .post-single .post-content"),b=document.querySelector(".main .post-single .post-footer"),c=document.querySelector(".main .post-single #comments-button"),e=a.offsetHeight+a.offsetTop+a.offsetParent.offsetTop;let d=!1;window.addEventListener("scroll",()=>{d||window.pageYOffset+window.innerHeight>e&&(d=!0,c.parentNode.removeChild(c),loding_indicator(!0,b),f(b,loding_indicator))});function f(c,d){let b="preferred-color-scheme";localStorage.getItem("pref-theme")===null?window.matchMedia('(prefers-color-scheme: dark)').matches?b="github-dark":b="github-light":localStorage.getItem("pref-theme")==="dark"?b="github-dark":b="github-light";const e='qutrits/blog-comments',f='pathname',a=document.createElement('script');a.setAttribute("src","https://utteranc.es/client.js"),a.setAttribute("repo",e),a.setAttribute("issue-term",f),a.setAttribute("theme",b),a.setAttribute("crossorigin","anonymous"),a.onload=d,c.parentNode.insertBefore(a,c.nextSibling)}})</script>
</article>
<script>const single_DOMReady=function(a){document.readyState==="interactive"||document.readyState==="complete"?a():document.addEventListener("DOMContentLoaded",a)};single_DOMReady(function(){let c=0,f=0;const b=document.querySelector("header.header"),d="header-bottom",e=-100;let a=0;window.pageYOffset>b.offsetHeight&&(a=e),window.addEventListener("scroll",()=>{c=window.pageYOffset,c<=0?(b.style.transform="translateY(0%)",b.classList.contains(d)&&b.classList.remove(d)):(c>f?e<a&&(a-=10,a<e&&(a=e)):0>a&&(a+=10,a>0&&(a=0)),b.style.transform=`translateY(${a}%)`,b.classList.contains(d)||b.classList.add(d)),f=c}),window.onload=function(){const a=document.querySelectorAll(".post-content .highlight td:nth-child(2) pre code.hljs");for(let b=0;b<a.length;b++)a[b].style.width="100%"}})</script>
</main>
<footer class=footer>
<span>&copy; 2021 <a href=https://qutrits.github.io/>&lt;Qutrits/></a></span>
<span>
Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
    <a href=https://git.io/hugopapermod rel=noopener target=_blank>PaperMod</a>
</span>
<span>
· Source code on
<a href=https://github.com/qutrits/qutrits.github.io rel="noopener noreferrer" target=_blank>GitHub</a>
</span>
</footer>
<div class=aside-font-size-button id=aside-font-size-button style=visibility:hidden>
<span class=aside-display-font-size-info>100%</span>
<a id=aside-font-size-increase aria-label="Increase Font size" title="Go to Top (Alt + G)" accesskey=e><svg class="button increase" width="24" height="24" viewBox="0 0 24 24"><path d="M5.12 14 7.5 7.67 9.87 14M6.5 5 1 19H3.25l1.12-3h6.25l1.13 3H14L8.5 5h-2M18 7l-5 5.07 1.41 1.43L17 10.9V17h2V10.9l2.59 2.6L23 12.07 18 7z"/></svg>
</a>
<a id=aside-font-size-decrease aria-label="Decrease Font size" title="Go to Top (Alt + G)" accesskey=d><svg class="button decrease" width="24" height="24" viewBox="0 0 24 24"><path d="M5.12 14 7.5 7.67 9.87 14M6.5 5 1 19H3.25l1.12-3h6.25l1.13 3H14L8.5 5h-2M18 17l5-5.07-1.41-1.43L19 13.1V7H17v6.1l-2.59-2.6L13 11.93 18 17z"/></svg>
</a>
<a id=aside-font-size-default aria-label="Reset Font size" title="Go to Top (Alt + G)" accesskey=f><svg class="button default" width="24" height="24" viewBox="0 0 24 24"><path d="M7.20711 2.54289c.39052.39053.39052 1.02369.0 1.41422L5.41421 5.75H13.25c4.4183.0 8 3.58172 8 8 0 4.4183-3.5817 8-8 8-4.41828.0-8-3.5817-8-8 0-.552300000000001.44772-1 1-1s1 .447699999999999 1 1c0 3.3137 2.68629 6 6 6 3.3137.0 6-2.6863 6-6s-2.6863-6-6-6H5.41421l1.7929 1.79289c.39052.39053.39052 1.02371.0 1.41421C6.81658 11.3476 6.18342 11.3476 5.79289 10.9571l-3.5-3.49999c-.39052-.39053-.39052-1.02369.0-1.41422l3.5-3.5c.39053-.39052 1.02369-.39052 1.41422.0z" fill="#212121"/></svg>
</a>
</div>
<a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class="top-link button" id=top-link accesskey=g style=visibility:hidden><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" fill="currentcolor"><path d="M414 321.94 274.22 158.82a24 24 0 00-36.44.0L98 321.94c-13.34 15.57-2.28 39.62 18.22 39.62h279.6c20.5.0 31.56-24.05 18.18-39.62z"/></svg>
</a>
<script>let menu=document.getElementById('menu');menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(a=>{a.addEventListener("click",function(b){b.preventDefault();const a=this.getAttribute("href").substr(1);window.matchMedia('(prefers-reduced-motion: reduce)').matches?document.querySelector(`[id='${decodeURIComponent(a)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(a)}']`).scrollIntoView({behavior:"auto"}),a==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${a}`)})})</script>
<script>const postContent=document.querySelector(".main .post-single .post-content");if(postContent){const a=document.getElementById("aside-font-size-button"),g=a.querySelector("#aside-font-size-increase"),e=a.querySelector("#aside-font-size-decrease"),f=a.querySelector("#aside-font-size-default"),b=document.querySelector(".display-font-size-info"),c=a.querySelector(".aside-display-font-size-info"),i=document.querySelector(".post-single .post-header .post-meta .post-footer"),d=document.querySelector(".post-header"),h=d.offsetHeight+d.offsetTop+d.offsetParent.offsetTop-1;window.addEventListener("scroll",()=>{const b=Math.ceil(window.pageYOffset+window.innerHeight)>=document.body.scrollHeight;h<window.pageYOffset?b&&window.innerWidth<769?(a.style.visibility="hidden",a.style.opacity="0"):(a.style.visibility="visible",a.style.opacity="1"):(a.style.visibility="hidden",a.style.opacity="0")}),g.addEventListener("click",function(){if(localStorage.getItem("post-content-font-size")){let a=parseInt(localStorage.getItem("post-content-font-size"));if(a+5>200)return;postContent.style.fontSize=a+10+"%",b.innerText=a+10+"%",c.innerText=a+10+"%",localStorage.setItem("post-content-font-size",a+10)}else postContent.style.fontSize="110%",b.innerText="110%",c.innerText="110%",localStorage.setItem("post-content-font-size",110)}),e.addEventListener("click",function(){if(localStorage.getItem("post-content-font-size")){let a=parseInt(localStorage.getItem("post-content-font-size"));if(a-5<50)return;postContent.style.fontSize=a-10+"%",b.innerText=a-10+"%",c.innerText=a-10+"%",localStorage.setItem("post-content-font-size",a-10)}else postContent.style.fontSize="90%",b.innerText="90%",c.innerText="90%",localStorage.setItem("post-content-font-size",90)}),f.addEventListener("click",function(){postContent.style.fontSize="100%",b.innerText="100%",c.innerText="100%",localStorage.setItem("post-content-font-size",100)})}</script>
<script>const postContentEl=document.querySelector(".post-content"),topLinkButton=document.getElementById("top-link");window.onscroll=function(){if(postContentEl){const a=postContentEl.getBoundingClientRect(),b=a.top;0>=b?(topLinkButton.style.visibility="visible",topLinkButton.style.opacity="1"):(topLinkButton.style.visibility="hidden",topLinkButton.style.opacity="0")}else window.pageYOffset>300?(topLinkButton.style.visibility="visible",topLinkButton.style.opacity="1"):(topLinkButton.style.visibility="hidden",topLinkButton.style.opacity="0")}</script>
<script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove('dark'),localStorage.setItem("pref-theme",'light')):(document.body.classList.add('dark'),localStorage.setItem("pref-theme",'dark'))})</script>
<script>document.querySelectorAll('pre > code').forEach(b=>{const c=b.parentNode.parentNode,a=document.createElement('button');a.classList.add('copy-code'),a.innerHTML='\u003cspan class=\u0022octicon\u0022\u003e\u003csvg aria-hidden=\u0022true\u0022 height=\u002216\u0022 viewBox=\u00220 0 16 16\u0022 version=\u00221.1\u0022 width=\u002216\u0022 data-view-component=\u0022true\u0022 class=\u0022octicon-copy\u0022\u003e\u003cpath fill-rule=\u0022evenodd\u0022 d=\u0022M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z\u0022\u003e\u003c/path\u003e\u003cpath fill-rule=\u0022evenodd\u0022 d=\u0022M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z\u0022\u003e\u003c/path\u003e\u003c/svg\u003e\u003c/span\u003e';function d(){a.classList.add('done'),a.innerHTML='\u003cdiv class=\u0022tooltip\u0022\u003eCopied!\u003c/div\u003e\u003cspan class=\u0022octicon done\u0022 style=\u0022color:#3fb950;\u0022\u003e\u003csvg aria-hidden=\u0022true\u0022 height=\u002216\u0022 viewBox=\u00220 0 16 16\u0022 version=\u00221.1\u0022 width=\u002216\u0022 data-view-component=\u0022true\u0022 class=\u0022octicon-check\u0022\u003e\u003cpath fill-rule=\u0022evenodd\u0022 d=\u0022M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z\u0022\u003e\u003c/path\u003e\u003c/svg\u003e\u003c/span\u003e',setTimeout(()=>{a.classList.remove('done'),a.innerHTML='\u003cspan class=\u0022octicon\u0022\u003e\u003csvg aria-hidden=\u0022true\u0022 height=\u002216\u0022 viewBox=\u00220 0 16 16\u0022 version=\u00221.1\u0022 width=\u002216\u0022 data-view-component=\u0022true\u0022 class=\u0022octicon-copy\u0022\u003e\u003cpath fill-rule=\u0022evenodd\u0022 d=\u0022M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z\u0022\u003e\u003c/path\u003e\u003cpath fill-rule=\u0022evenodd\u0022 d=\u0022M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z\u0022\u003e\u003c/path\u003e\u003c/svg\u003e\u003c/span\u003e'},2e3)}a.addEventListener('click',e=>{if('clipboard'in navigator){navigator.clipboard.writeText(b.textContent),d();return}const a=document.createRange();a.selectNodeContents(b);const c=window.getSelection();c.removeAllRanges(),c.addRange(a);try{document.execCommand('copy'),d()}catch(a){}c.removeRange(a)}),c.classList.contains("highlight")?c.appendChild(a):c.parentNode.firstChild==c||(b.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?b.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(a):b.parentNode.appendChild(a))})</script></body>
</html>