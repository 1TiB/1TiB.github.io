<!doctype html><html lang=ko dir=auto>
<head><meta charset=utf-8>
<meta http-equiv=x-ua-compatible content="IE=edge">
<meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no">
<meta name=robots content="index, follow">
<title>[아이템 23] 태그 달린 클래스보다는 클래스 계층구조를 활용하자 | &lt;Qutrits/></title>
<meta name=keywords content="Java,Effective Java 3E">
<meta name=description content="[아이템 23] 태그 달린 클래스보다는 클래스 계층구조를 활용하자. 때때로 두 가지 이상의 의미를 표현하고 인스턴스의 특징을 알려주는 태그 필드로 나타내는 클래스를 본 적이 있을겁니다.
안 좋은 예시 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36  public class Figure { enum Shape { RECTANGLE, CIRCLE }; // 태그 필드 - 현재 모양을 나타냅니다.">
<meta name=author content="Kyungchul Shin">
<link rel=canonical href=https://qutrits.github.io/posts/effective-java-3e/chapter-03/item23/>
<link crossorigin=anonymous href=/assets/css/stylesheet.min.85c31de0541de305fb71050876ae8a5d512aea2d5c0615d2bdf568429af5de82.css integrity="sha256-hcMd4FQd4wX7cQUIdq6KXVEq6i1cBhXSvfVoQpr13oI=" rel="preload stylesheet" as=style>
<link rel=preload href=/icon/home.webp as=image>
<script defer crossorigin=anonymous src=/assets/js/highlight.min.7680afc38aa6b15ddf158a4f3780b7b1f7dde7e91d26f073e6229bb7a0793c92.js integrity="sha256-doCvw4qmsV3fFYpPN4C3sffd5+kdJvBz5iKbt6B5PJI=" onload=hljs.initHighlightingOnLoad()></script>
<link rel=icon href=https://qutrits.github.io/icon/favicon-64.png>
<link rel=icon type=image/png sizes=16x16 href=https://qutrits.github.io/icon/favicon-16.png>
<link rel=icon type=image/png sizes=32x32 href=https://qutrits.github.io/icon/favicon-32.png>
<link rel=apple-touch-icon href=https://qutrits.github.io/apple-touch-icon.png>
<link rel=mask-icon href=https://qutrits.github.io/safari-pinned-tab.svg>
<meta name=theme-color content="#2e2e33">
<meta name=msapplication-TileColor content="#2e2e33">
<meta name=generator content="Hugo 0.89.4">
<noscript>
<style>#theme-toggle,.top-link{display:none}</style>
<style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--hljs-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style>
</noscript>
<script type=application/javascript>var doNotTrack=!1;doNotTrack||(function(a,e,f,g,b,c,d){a.GoogleAnalyticsObject=b,a[b]=a[b]||function(){(a[b].q=a[b].q||[]).push(arguments)},a[b].l=1*new Date,c=e.createElement(f),d=e.getElementsByTagName(f)[0],c.async=1,c.src=g,d.parentNode.insertBefore(c,d)}(window,document,'script','https://www.google-analytics.com/analytics.js','ga'),ga('create','UA-215417930-1','auto'),ga('send','pageview'))</script>
<script type=application/javascript>var doNotTrack=!1;doNotTrack||(function(a,e,f,g,b,c,d){a.GoogleAnalyticsObject=b,a[b]=a[b]||function(){(a[b].q=a[b].q||[]).push(arguments)},a[b].l=1*new Date,c=e.createElement(f),d=e.getElementsByTagName(f)[0],c.async=1,c.src=g,d.parentNode.insertBefore(c,d)}(window,document,'script','https://www.google-analytics.com/analytics.js','ga'),ga('create','UA-215417930-1','auto'),ga('send','pageview'))</script><meta property="og:title" content="[아이템 23] 태그 달린 클래스보다는 클래스 계층구조를 활용하자">
<meta property="og:description" content="[아이템 23] 태그 달린 클래스보다는 클래스 계층구조를 활용하자. 때때로 두 가지 이상의 의미를 표현하고 인스턴스의 특징을 알려주는 태그 필드로 나타내는 클래스를 본 적이 있을겁니다.
안 좋은 예시 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36  public class Figure { enum Shape { RECTANGLE, CIRCLE }; // 태그 필드 - 현재 모양을 나타냅니다.">
<meta property="og:type" content="article">
<meta property="og:url" content="https://qutrits.github.io/posts/effective-java-3e/chapter-03/item23/"><meta property="article:section" content="posts">
<meta property="article:published_time" content="2020-07-04T15:46:26+09:00">
<meta property="article:modified_time" content="2020-07-04T15:46:26+09:00">
<meta property="og:see_also" content="https://qutrits.github.io/posts/effective-java-3e/chapter-01/item1/"><meta property="og:see_also" content="https://qutrits.github.io/posts/effective-java-3e/chapter-01/item2/"><meta property="og:see_also" content="https://qutrits.github.io/posts/effective-java-3e/chapter-01/item3/"><meta property="og:see_also" content="https://qutrits.github.io/posts/effective-java-3e/chapter-01/item4/"><meta property="og:see_also" content="https://qutrits.github.io/posts/effective-java-3e/chapter-01/item5/"><meta property="og:see_also" content="https://qutrits.github.io/posts/effective-java-3e/chapter-01/item6/">
<meta name=twitter:card content="summary">
<meta name=twitter:title content="[아이템 23] 태그 달린 클래스보다는 클래스 계층구조를 활용하자">
<meta name=twitter:description content="[아이템 23] 태그 달린 클래스보다는 클래스 계층구조를 활용하자. 때때로 두 가지 이상의 의미를 표현하고 인스턴스의 특징을 알려주는 태그 필드로 나타내는 클래스를 본 적이 있을겁니다.
안 좋은 예시 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36  public class Figure { enum Shape { RECTANGLE, CIRCLE }; // 태그 필드 - 현재 모양을 나타냅니다.">
<script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"https://qutrits.github.io/posts/"},{"@type":"ListItem","position":2,"name":"[아이템 23] 태그 달린 클래스보다는 클래스 계층구조를 활용하자","item":"https://qutrits.github.io/posts/effective-java-3e/chapter-03/item23/"}]}</script>
<script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"[아이템 23] 태그 달린 클래스보다는 클래스 계층구조를 활용하자","name":"[아이템 23] 태그 달린 클래스보다는 클래스 계층구조를 활용하자","description":"[아이템 23] 태그 달린 클래스보다는 클래스 계층구조를 활용하자. 때때로 두 가지 이상의 의미를 표현하고 인스턴스의 특징을 알려주는 태그 필드로 나타내는 클래스를 본 적이 있을겁니다.\n안 좋은 예시 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36  public class Figure { enum Shape { RECTANGLE, CIRCLE }; // 태그 필드 - 현재 모양을 나타냅니다.","keywords":["Java","Effective Java 3E"],"articleBody":"[아이템 23] 태그 달린 클래스보다는 클래스 계층구조를 활용하자. 때때로 두 가지 이상의 의미를 표현하고 인스턴스의 특징을 알려주는 태그 필드로 나타내는 클래스를 본 적이 있을겁니다.\n안 좋은 예시 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36  public class Figure { enum Shape { RECTANGLE, CIRCLE }; // 태그 필드 - 현재 모양을 나타냅니다.  final Shape shape; // 모양이 사각형(RECTANGLE)일 때만 쓰입니다.  double length; double width; // 다음 필드 모양이 원(CIRCLE)일 때만 쓰입니다.  double radius; // 원 생성  Figure(double radius) { shape = Shape.CIRCLE; this.radius = radius; } Figure(double length, double width) { shape = Shape.RECTANGLE; this.length = length; this.width = width; } double area() { switch (shape) { case RECTANGLE: return length * width; case CIRCLE: return Math.PI * (radius * radius); default: throw new AssertionError(); } } }   태그 달린 클래스에는 단점이 많습니다. 열거 타입 선언, 태그 필드, switch문 등 잡다한 코드가 너무 많습니다. 여러 구현이 한 클래스에 있어서 구현도 나쁩니다. 인스턴스가 다른 특징에 속하는 관련없는 필드로 인해 메모리도 많이 사용하게 됩니다.\n또 다른 의미를 추가하려면 switch문을 찾아 새 의미를 처리하는 코드를 추가해야하는 데 하나라도 빠뜨리면 문제가 될 수도 있습니다. 마지막으로, 인스턴스의 타입만으로는 현재 나타내는 의미를 알 길이 없습니다.\n태그 달린 클래스는 장황하고, 오류를 내기 쉽고, 비효율적입니다.\n클래스 계층구조를 활용하는 서브타이핑을 이용해서 타입 하나로 다양한 의미의 객체를 표현할 수 있습니다. 태그 달린 클래스는 클래스 계층구조를 어설프게 흉내낸 아류일뿐입니다.\n태그달린 클래스를 클래스 계층 구조로 바꾸는 방법  계층구조의 루트가 될 추상 클래스를 정의하고, 태그 값에 따라 동작이 달라지는 메서드들을 루트 클래스의 추상 메서드로 선언합니다. 태그 값에 상관없이 동작이 일정한 메서드들을 루트 클래승 일반 메서드로 추가합니다. 모든 하위 클래스에서 공통으로 사용하는 데이터 필드들도 전부 루트 클래스로 올립니다. 루트 클래스를 확장한 구체 클래스를 의미별로 하나씩 정의합니다.  Figure 클래스에서는 태그 값과 상관없는 메서드가 하나도 없고, 모든 하위 클래스에서 사용하는 공통 데이터 필드가 없습니다. 그 결과 루트 클래스에는 추상메서드 area하나만 남게 됩니다.\n다음은 Figure 클래스를 계층구조 방식으로 구현한 코드입니다.\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19  abstract class Figure { abstract double area; } public class Circle extends Figure{ final double radius; public Circle(double radius) { this.radius = radius; } @Override double area() { return Math.PI * (radius * radius); } } // Rentangle 클래스 위와 같은 방식으로 구현하면 됩니다.   태그 달린 클래스에 비교하면 쓸데 없는 코드들은 모두 제거했고, 각 의미를 독립된 클래스에 담아 관련 없던 데이터 필드를 모두 제거했습니다.\n살아 남은필드들은 모두 final이며 각 클래스의 생성자가 모든 필드를 남김없이 초기화하고 추상 메서드를 구현했는지 컴파일러가 확인해줍니다.\n정리  태그 달린 클래스를 써야 하는 상황은 거의 없습니다. 새로운 클래스를 작성할 때 태그 필드가 등자했다면 계층 구조롤 대체하는 방법을 고려해보자. 기존 클래스가 필드를 사용하고 있다면 계층구조로 리팩터링 하는 걸 고려민해보자.  ","wordCount":"461","inLanguage":"ko","datePublished":"2020-07-04T15:46:26+09:00","dateModified":"2020-07-04T15:46:26+09:00","author":[{"@type":"Person","name":"Kyungchul Shin"}],"mainEntityOfPage":{"@type":"WebPage","@id":"https://qutrits.github.io/posts/effective-java-3e/chapter-03/item23/"},"publisher":{"@type":"Organization","name":"\u003cQutrits/\u003e","logo":{"@type":"ImageObject","url":"https://qutrits.github.io/icon/favicon-64.png"}}}</script>
</head>
<body id=top>
<script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add('dark'):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove('dark'):window.matchMedia('(prefers-color-scheme: dark)').matches&&document.body.classList.add('dark')</script>
<script>function loding_indicator(b,a){if(b===!0){const b=document.createElement("div");b.id="loading-indicator",b.innerHTML='<div class="spinner"></div>',a.parentNode.insertBefore(b,a.nextSibling)}else{const a=document.getElementById("loading-indicator");a.parentNode.removeChild(a)}}</script>
<header class="header scroll-up">
<nav class=nav>
<div class=logo>
<a href=https://qutrits.github.io/ accesskey=h title="<Qutrits/> (Alt + H)">
<img src=/icon/home.webp alt=logo aria-label=logo height=25>&lt;Qutrits/></a>
<span class=logo-switches>
<button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg>
</button>
</span>
</div>
<button id=menu-trigger aria-haspopup=menu aria-label="Menu Button"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-menu"><line x1="3" y1="12" x2="21" y2="12"/><line x1="3" y1="6" x2="21" y2="6"/><line x1="3" y1="18" x2="21" y2="18"/></svg>
</button>
<ul id=menu class="main-menu hidden">
<li>
<a href=https://qutrits.github.io/series-list/ title=시리즈>
<span>시리즈</span>
</a>
</li>
<li>
<a href=https://qutrits.github.io/collection/ title=모아보기>
<span>모아보기</span>
</a>
</li>
<li>
<a href=https://qutrits.github.io/archives/ title="기록 보관소">
<span>기록 보관소</span>
</a>
</li>
<li>
<a href=https://qutrits.github.io/search/ title="검색 (Alt + /)" accesskey=/>
<span>검색</span>
</a>
</li>
<li>
<a href=https://qutrits.github.io/tags/ title=태그>
<span>태그</span>
</a>
</li>
</ul>
</nav>
</header>
<script>let b=document.querySelector("#menu-trigger"),m=document.querySelector("#menu");b.addEventListener("click",function(){m.classList.toggle("hidden")}),document.body.addEventListener("click",function(a){b.contains(a.target)||m.classList.add("hidden")})</script>
<script>function updateScrollProgressBar(){let a=_root.scrollHeight-heightInViewport(_progressbar)-window.innerHeight,b=currentScroll,c=b/a*100;_progressbar.style.width=c+"%"}function heightInViewport(a){var e=a.offsetHeight,b=document.body.offsetHeight,c=a.getBoundingClientRect(),d=c.top,f=c.bottom;return Math.max(0,d>0?Math.min(e,b-d):Math.min(f,b))}const _root=document.querySelector("html"),_body=document.querySelector("body"),progressEl=document.createElement("div");progressEl.classList.add("progress-bar-container__progress"),_body.prepend(progressEl);const _progressbar=document.querySelector(".progress-bar-container__progress"),_config={childList:!0,subtree:!0,characterData:!0,attributes:!0};new MutationObserver(updateScrollProgressBar).observe(_progressbar,_config),window.addEventListener("scroll",()=>{updateScrollProgressBar()})</script><main class=main>
<article class=post-single>
<header class=post-header>
<div class=breadcrumbs data-animation=true><a href=https://qutrits.github.io/>Home</a>&nbsp;»&nbsp;<a href=https://qutrits.github.io/posts/>Posts</a></div>
<h1 class=post-title data-animation=true>
[아이템 23] 태그 달린 클래스보다는 클래스 계층구조를 활용하자
</h1>
<div class=post-meta data-animation=true><span title="2020-07-04 15:46:26 +0900 KST">2020년 7월 4일</span>&nbsp;&nbsp;·&nbsp;&nbsp;<span><svg class="svg--time" aria-hidden="true" focusable="false" data-prefix="far" data-icon="clock" role="img" xmlns="http://www.w3.org/2000/svg" width="13.19" height="13.19" viewBox="0 0 512 512"><path fill="currentcolor" d="M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm0 448c-110.5.0-2e2-89.5-2e2-2e2S145.5 56 256 56s2e2 89.5 2e2 2e2-89.5 2e2-2e2 2e2zm61.8-104.4-84.9-61.7c-3.1-2.3-4.9-5.9-4.9-9.7V116c0-6.6 5.4-12 12-12h32c6.6.0 12 5.4 12 12v141.7l66.8 48.6c5.4 3.9 6.5 11.4 2.6 16.8L334.6 349c-3.9 5.3-11.4 6.5-16.8 2.6z"/></svg> 3 분 소요</span>&nbsp;&nbsp;·&nbsp;&nbsp;Kyungchul Shin&nbsp;&nbsp;|&nbsp;&nbsp;<a class=edit-post href=https://github.com/qutrits/qutrits.github.io/blob/main/content/posts/effective-java-3e/chapter-03/Item23.md rel="noopener noreferrer" target=_blank>수정사항 제안</a>
&nbsp;&nbsp;|&nbsp;&nbsp;<span class=font-size-button>
<a id=font-size-default aria-label="Increase Font size" title="Go to Top (Alt + G)" accesskey=e><svg class="button default" width="21" height="21" viewBox="0 0 24 24"><path d="M7.20711 2.54289c.39052.39053.39052 1.02369.0 1.41422L5.41421 5.75H13.25c4.4183.0 8 3.58172 8 8 0 4.4183-3.5817 8-8 8-4.41828.0-8-3.5817-8-8 0-.552300000000001.44772-1 1-1s1 .447699999999999 1 1c0 3.3137 2.68629 6 6 6 3.3137.0 6-2.6863 6-6s-2.6863-6-6-6H5.41421l1.7929 1.79289c.39052.39053.39052 1.02371.0 1.41421C6.81658 11.3476 6.18342 11.3476 5.79289 10.9571l-3.5-3.49999c-.39052-.39053-.39052-1.02369.0-1.41422l3.5-3.5c.39053-.39052 1.02369-.39052 1.41422.0z" fill="#212121"/></svg>
</a>
&nbsp;
<a id=font-size-increase aria-label="Decrease Font size" title="Go to Top (Alt + G)" accesskey=d><svg class="button increase" width="21" height="21" viewBox="0 0 24 24"><path d="M5.12 14 7.5 7.67 9.87 14M6.5 5 1 19H3.25l1.12-3h6.25l1.13 3H14L8.5 5h-2M18 7l-5 5.07 1.41 1.43L17 10.9V17h2V10.9l2.59 2.6L23 12.07 18 7z"/></svg>
</a>
&nbsp;
<a id=font-size-decrease aria-label="Reset Font size" title="Go to Top (Alt + G)" accesskey=f><svg class="button decrease" width="21" height="21" viewBox="0 0 24 24"><path d="M5.12 14 7.5 7.67 9.87 14M6.5 5 1 19H3.25l1.12-3h6.25l1.13 3H14L8.5 5h-2M18 17l5-5.07-1.41-1.43L19 13.1V7H17v6.1l-2.59-2.6L13 11.93 18 17z"/></svg>
</a>
</span>
<span class=display-font-size-info>100%</span>
<script>localStorage.setItem("post-content-font-size",100),document.getElementById("font-size-increase").addEventListener("click",a=>{if(localStorage.getItem("post-content-font-size")){let a=parseInt(localStorage.getItem("post-content-font-size"));if(a+5>200)return;document.querySelector(".post-single .post-content").style.fontSize=a+10+"%",document.querySelector(".display-font-size-info").innerText=a+10+"%",document.querySelector(".aside-display-font-size-info").innerText=a+10+"%",localStorage.setItem("post-content-font-size",a+10)}else document.querySelector(".post-single .post-content").style.fontSize="105%",document.querySelector(".display-font-size-info").innerText="105%",document.querySelector(".aside-display-font-size-info").innerText="105%",localStorage.setItem("post-content-font-size",105)}),document.getElementById("font-size-decrease").addEventListener("click",a=>{if(localStorage.getItem("post-content-font-size")){let a=parseInt(localStorage.getItem("post-content-font-size"));if(a-5<50)return;document.querySelector(".post-single .post-content").style.fontSize=a-10+"%",document.querySelector(".display-font-size-info").innerText=a-10+"%",document.querySelector(".aside-display-font-size-info").innerText=a-10+"%",localStorage.setItem("post-content-font-size",a-10)}else document.querySelector(".post-single .post-content").style.fontSize="95%",document.querySelector(".display-font-size-info").innerText="95%",document.querySelector(".aside-display-font-size-info").innerText="95%",localStorage.setItem("post-content-font-size",95)}),document.getElementById("font-size-default").addEventListener("click",a=>{document.querySelector(".post-single .post-content").style.fontSize="100%",document.querySelector(".display-font-size-info").innerText="100%",document.querySelector(".aside-display-font-size-info").innerText="100%",localStorage.setItem("post-content-font-size",100)})</script>
<ul class=post-tags>
<li><a class=button href=https://qutrits.github.io/tags/java/>Java</a></li>
<li><a class=button href=https://qutrits.github.io/tags/effective-java-3e/>Effective Java 3E</a></li>
</ul></div>
</header>
<div class=series-main data-animation=true>
<div class=chapter-control>
<div class=info>
<div class=chapter-number>3 / 4</div>
<div class=page-button>
<div class=left>
<a class=button href=/posts/effective-java-3e/chapter-02/item14/><svg stroke="currentcolor" fill="currentcolor" stroke-width="0" viewBox="0 0 24 24" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M15.41 7.41 14 6l-6 6 6 6 1.41-1.41L10.83 12z"/></svg><svg style="margin-left:-12px" stroke="currentcolor" fill="currentcolor" stroke-width="0" viewBox="0 0 24 24" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M15.41 7.41 14 6l-6 6 6 6 1.41-1.41L10.83 12z"/></svg>
2 장
</a>
</div>
<div class=right>
<a class=button href=/posts/effective-java-3e/chapter-04/item26/>
4 장<svg style="margin-right:-12px" stroke="currentcolor" fill="currentcolor" stroke-width="0" viewBox="0 0 24 24" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M10 6 8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"/></svg><svg stroke="currentcolor" fill="currentcolor" stroke-width="0" viewBox="0 0 24 24" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M10 6 8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"/></svg>
</a>
</div>
</div>
</div>
</div>
<h2><a href=/chapter/effective-java-3e-chapter-3/>Effective Java 3E - 3장 클래스와 인터페이스</a></h2><svg width="32" height="48" fill="none" viewBox="0 0 32 48" class="series-corner-image"><path fill="#12b886" d="M32 0H0v48h.163l16-16L32 47.836V0z"/></svg>
<ol class=series-list>
<li hugo-nav=/posts/effective-java-3e/chapter-03/item15/>
<a href=/posts/effective-java-3e/chapter-03/item15/>[아이템 15] 클래스와 멤버의 접근 권한을 최소화하라</a>
</li>
<li hugo-nav=/posts/effective-java-3e/chapter-03/item16/>
<a href=/posts/effective-java-3e/chapter-03/item16/>[아이템 16] public 클래스에서는 public 필드가 아닌 접근 메서드를 사용하라</a>
</li>
<li hugo-nav=/posts/effective-java-3e/chapter-03/item17/>
<a href=/posts/effective-java-3e/chapter-03/item17/>[아이템 17] 변경 가능성을 최소화하라</a>
</li>
<li hugo-nav=/posts/effective-java-3e/chapter-03/item18/>
<a href=/posts/effective-java-3e/chapter-03/item18/>[아이템 18] 상속보다는 컴포지션을 사용하라</a>
</li>
<li hugo-nav=/posts/effective-java-3e/chapter-03/item19/>
<a href=/posts/effective-java-3e/chapter-03/item19/>[아이템 19] 상속을 고려해 설계하고 문서화하라. 그렇지 않았다면 상속을 금지하라</a>
</li>
<li hugo-nav=/posts/effective-java-3e/chapter-03/item20/>
<a href=/posts/effective-java-3e/chapter-03/item20/>[아이템 20] 추상 클래스보다는 인터페이스를 우선하라</a>
</li>
<li hugo-nav=/posts/effective-java-3e/chapter-03/item21/>
<a href=/posts/effective-java-3e/chapter-03/item21/>[아이템 21] 인터페이스는 구현하는 쪽을 생각해 설계하라</a>
</li>
<li hugo-nav=/posts/effective-java-3e/chapter-03/item22/>
<a href=/posts/effective-java-3e/chapter-03/item22/>[아이템 22] 인터페이스는 타입을 정의하는 용도로만 사용하라</a>
</li>
<li hugo-nav=/posts/effective-java-3e/chapter-03/item23/>
<a href=/posts/effective-java-3e/chapter-03/item23/ class=current>[아이템 23] 태그 달린 클래스보다는 클래스 계층구조를 활용하자</a>
</li>
<li hugo-nav=/posts/effective-java-3e/chapter-03/item24/>
<a href=/posts/effective-java-3e/chapter-03/item24/>[아이템 24] 멤버 클래스는 되도록 static으로 만들어라</a>
</li>
<li hugo-nav=/posts/effective-java-3e/chapter-03/item25/>
<a href=/posts/effective-java-3e/chapter-03/item25/>[아이템 25] 톱레벨 클래스는 한 파일에만 담으라</a>
</li>
</ol>
<div class=series-control>
<div class=toggle><svg class="lock" width="28" height="28" viewBox="0 0 512 512"><path d="M363.908 212.282v-90.978C363.908 54.434 309.509.0 242.606.0c-66.884.0-121.302 54.434-121.302 121.304v90.978c-33.498.0-60.653 27.158-60.653 60.648v151.629c0 33.5 27.155 60.653 60.653 60.653h242.604c33.491.0 60.653-27.153 60.653-60.653V272.93C424.562 239.439 397.399 212.282 363.908 212.282zM257.77 359.257v50.139c0 8.382-6.781 15.163-15.163 15.163s-15.164-6.781-15.164-15.163v-50.139c-8.9-5.269-15.161-14.57-15.161-25.673.0-16.765 13.579-30.327 30.324-30.327s30.326 13.562 30.326 30.327C272.933 344.687 266.665 353.989 257.77 359.257zm45.485-146.975h-121.3v-90.978c0-33.465 27.2-60.653 60.651-60.653 33.435.0 60.648 27.188 60.648 60.653v90.978z"/></svg><svg class="unlock" width="28" height="28" viewBox="0 0 512 512"><path d="M424.562 212.282h-60.653H242.607v-90.978C242.607 54.434 188.206.0 121.305.0 54.419.0.001 54.434.001 121.304v90.978h60.651v-90.978c0-33.465 27.205-60.653 60.653-60.653 33.435.0 60.651 27.188 60.651 60.653v90.978c-33.493.0-60.651 27.158-60.651 60.648v151.629c0 33.5 27.158 60.653 60.651 60.653h242.606c33.491.0 60.649-27.153 60.649-60.653V272.93C485.212 239.439 458.054 212.282 424.562 212.282zM318.424 359.257v50.139c0 8.382-6.786 15.163-15.168 15.163-8.377.0-15.158-6.781-15.158-15.163v-50.139c-8.887-5.269-15.164-14.57-15.164-25.673.0-16.765 13.562-30.327 30.322-30.327 16.765.0 30.331 13.562 30.331 30.327.0 11.103-6.28100000000001 20.405-15.163 25.673z"/></svg>
</div>
<div class=info>
<div class=series-number>
9 / 11
</div>
<div class=page-button>
<div class=left>
<a class=button href=/posts/effective-java-3e/chapter-03/item22/><svg stroke="currentcolor" fill="currentcolor" stroke-width="0" viewBox="0 0 24 24" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M15.41 7.41 14 6l-6 6 6 6 1.41-1.41L10.83 12z"/></svg>
</a>
</div>
<div class=right>
<a class=button href=/posts/effective-java-3e/chapter-03/item24/><svg stroke="currentcolor" fill="currentcolor" stroke-width="0" viewBox="0 0 24 24" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M10 6 8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"/></svg>
</a>
</div>
</div>
</div>
</div>
</div>
<script>const seriesLock=localStorage.getItem("lock-series-Effective Java 3E Chapter 3"),seriesList=document.querySelector(".series-main .series-list"),seriesToggleButton=document.querySelector(".series-main .series-control .toggle");window.addEventListener('DOMContentLoaded',function(){if(localStorage.getItem("series-main-")==="true"){const a=document.querySelector(".series-main");window.scrollTo(0,a.offsetTop+a.offsetParent.offsetTop-10),localStorage.removeItem("series-main-")}}),document.querySelector(".series-main .series-control .toggle").addEventListener("click",()=>{seriesList.style.display==="none"||seriesList.style.display===""?(localStorage.setItem("lock-series-Effective Java 3E Chapter 3",!1),seriesToggleButton.querySelector(".lock").classList.add("hide"),seriesToggleButton.querySelector(".unlock").classList.remove("hide"),seriesList.style.display="block"):seriesList.style.display==="block"&&(localStorage.setItem("lock-series-Effective Java 3E Chapter 3",!0),seriesToggleButton.querySelector(".lock").classList.remove("hide"),seriesToggleButton.querySelector(".unlock").classList.add("hide"),seriesList.style.display="none")}),seriesLock==="false"?(seriesList.style.display="block",seriesToggleButton.querySelector(".lock").classList.add("hide"),seriesToggleButton.querySelector(".unlock").classList.remove("hide")):(seriesList.style.display="none",seriesToggleButton.querySelector(".lock").classList.remove("hide"),seriesToggleButton.querySelector(".unlock").classList.add("hide"));const seriesAnchor=[...document.querySelectorAll(".chapter-control .page-button a:not(.disabled)"),...document.querySelectorAll(".series-main .series-list li a"),...document.querySelectorAll(".series-control .page-button a:not(.disabled)")];for(let a=0;a<seriesAnchor.length;a++)seriesAnchor[a].addEventListener("click",a=>{localStorage.setItem("series-main-",!0)})</script>
<div class=toc data-animation=true>
<details>
<summary accesskey=c title="(Alt + C)">
<span class=details>목차</span>
</summary>
<div class=inner><ul>
<li>
<a href=#%ec%95%84%ec%9d%b4%ed%85%9c-23-%ed%83%9c%ea%b7%b8-%eb%8b%ac%eb%a6%b0-%ed%81%b4%eb%9e%98%ec%8a%a4%eb%b3%b4%eb%8b%a4%eb%8a%94-%ed%81%b4%eb%9e%98%ec%8a%a4-%ea%b3%84%ec%b8%b5%ea%b5%ac%ec%a1%b0%eb%a5%bc-%ed%99%9c%ec%9a%a9%ed%95%98%ec%9e%90 aria-label="[아이템 23] 태그 달린 클래스보다는 클래스 계층구조를 활용하자.">[아이템 23] 태그 달린 클래스보다는 클래스 계층구조를 활용하자.</a><ul>
<li>
<a href=#%ec%95%88-%ec%a2%8b%ec%9d%80-%ec%98%88%ec%8b%9c aria-label="안 좋은 예시">안 좋은 예시</a></li>
<li>
<a href=#%ed%83%9c%ea%b7%b8%eb%8b%ac%eb%a6%b0-%ed%81%b4%eb%9e%98%ec%8a%a4%eb%a5%bc-%ed%81%b4%eb%9e%98%ec%8a%a4-%ea%b3%84%ec%b8%b5-%ea%b5%ac%ec%a1%b0%eb%a1%9c-%eb%b0%94%ea%be%b8%eb%8a%94-%eb%b0%a9%eb%b2%95 aria-label="태그달린 클래스를 클래스 계층 구조로 바꾸는 방법">태그달린 클래스를 클래스 계층 구조로 바꾸는 방법</a></li></ul>
</li>
<li>
<a href=#%ec%a0%95%eb%a6%ac aria-label=정리>정리</a>
</li>
</ul>
</div>
</details>
</div>
<div class=toc-aside-wrapper data-animation=true>
<div class="toc-aside-summary hide" accesskey=a title="(Alt + A)" data-animation=true>
<span class=toggle><svg class="lock" width="20" height="20" viewBox="0 0 512 512"><path d="M363.908 212.282v-90.978C363.908 54.434 309.509.0 242.606.0c-66.884.0-121.302 54.434-121.302 121.304v90.978c-33.498.0-60.653 27.158-60.653 60.648v151.629c0 33.5 27.155 60.653 60.653 60.653h242.604c33.491.0 60.653-27.153 60.653-60.653V272.93C424.562 239.439 397.399 212.282 363.908 212.282zM257.77 359.257v50.139c0 8.382-6.781 15.163-15.163 15.163s-15.164-6.781-15.164-15.163v-50.139c-8.9-5.269-15.161-14.57-15.161-25.673.0-16.765 13.579-30.327 30.324-30.327s30.326 13.562 30.326 30.327C272.933 344.687 266.665 353.989 257.77 359.257zm45.485-146.975h-121.3v-90.978c0-33.465 27.2-60.653 60.651-60.653 33.435.0 60.648 27.188 60.648 60.653v90.978z"/></svg><svg class="unlock" width="20" height="20" viewBox="0 0 512 512"><path d="M424.562 212.282h-60.653H242.607v-90.978C242.607 54.434 188.206.0 121.305.0 54.419.0.001 54.434.001 121.304v90.978h60.651v-90.978c0-33.465 27.205-60.653 60.653-60.653 33.435.0 60.651 27.188 60.651 60.653v90.978c-33.493.0-60.651 27.158-60.651 60.648v151.629c0 33.5 27.158 60.653 60.651 60.653h242.606c33.491.0 60.649-27.153 60.649-60.653V272.93C485.212 239.439 458.054 212.282 424.562 212.282zM318.424 359.257v50.139c0 8.382-6.786 15.163-15.168 15.163-8.377.0-15.158-6.781-15.158-15.163v-50.139c-8.887-5.269-15.164-14.57-15.164-25.673.0-16.765 13.562-30.327 30.322-30.327 16.765.0 30.331 13.562 30.331 30.327.0 11.103-6.28100000000001 20.405-15.163 25.673z"/></svg>
</span>
<span class=details>목차</span>
</div>
<div class="toc-aside hide" data-animation=true>
<div class=inner-wrapper>
<div class=inner><ul>
<li>
<a href=#%ec%95%84%ec%9d%b4%ed%85%9c-23-%ed%83%9c%ea%b7%b8-%eb%8b%ac%eb%a6%b0-%ed%81%b4%eb%9e%98%ec%8a%a4%eb%b3%b4%eb%8b%a4%eb%8a%94-%ed%81%b4%eb%9e%98%ec%8a%a4-%ea%b3%84%ec%b8%b5%ea%b5%ac%ec%a1%b0%eb%a5%bc-%ed%99%9c%ec%9a%a9%ed%95%98%ec%9e%90 aria-label="[아이템 23] 태그 달린 클래스보다는 클래스 계층구조를 활용하자.">[아이템 23] 태그 달린 클래스보다는 클래스 계층구조를 활용하자.</a><ul>
<li>
<a href=#%ec%95%88-%ec%a2%8b%ec%9d%80-%ec%98%88%ec%8b%9c aria-label="안 좋은 예시">안 좋은 예시</a></li>
<li>
<a href=#%ed%83%9c%ea%b7%b8%eb%8b%ac%eb%a6%b0-%ed%81%b4%eb%9e%98%ec%8a%a4%eb%a5%bc-%ed%81%b4%eb%9e%98%ec%8a%a4-%ea%b3%84%ec%b8%b5-%ea%b5%ac%ec%a1%b0%eb%a1%9c-%eb%b0%94%ea%be%b8%eb%8a%94-%eb%b0%a9%eb%b2%95 aria-label="태그달린 클래스를 클래스 계층 구조로 바꾸는 방법">태그달린 클래스를 클래스 계층 구조로 바꾸는 방법</a></li></ul>
</li>
<li>
<a href=#%ec%a0%95%eb%a6%ac aria-label=정리>정리</a>
</li>
</ul>
</div>
</div>
</div>
</div>
<script>const tocIdList=[],mainToc=document.querySelector(".main .post-single>.toc"),mainTocTop=mainToc?mainToc.offsetTop+mainToc.offsetParent.offsetTop-1:0,asideToc=document.querySelector(".main .toc-aside"),postHeaderEl=document.querySelector(".post-header");let asideTocSummay=null,asideTocWrapper=null,asideTocToggle=null,asideTocList=null;if(asideToc){asideTocSummay=document.querySelector(".main .toc-aside-summary"),asideTocWrapper=asideToc.querySelector(".inner-wrapper"),asideTocToggle=asideTocSummay.querySelector(".toggle"),asideTocList=asideToc.querySelectorAll(".inner-wrapper .inner ul>li"),localStorage.getItem("lock-aside-toc-"+window.location.pathname)==="true"?(asideTocSummay.dataset.isLock=!0,asideTocWrapper.classList.add("close"),asideTocToggle.querySelector(".unlock").classList.add("hide")):(asideTocSummay.dataset.isLock=!1,asideTocWrapper.classList.add("open"),asideTocToggle.querySelector(".lock").classList.add("hide"));for(let a=0;a<asideTocList.length;a++)tocIdList[a]=decodeURI(asideTocList[a].firstElementChild.hash.substring(1));mainTocTop===0&&(mainTocTop=postHeaderEl.offsetHeight+postHeaderEl.offsetTop+postHeaderEl.offsetParent.offsetTop-1),mainTocTop<window.pageYOffset?(asideToc.classList.remove("hide"),asideToc.classList.add("reveal"),asideTocSummay.classList.remove("hide")):mainTocTop>=window.pageYOffset&&asideToc.classList.add("hide"),asideTocSummay.addEventListener("click",()=>{asideTocSummay.dataset.isLock==="false"?(asideTocSummay.dataset.isLock=!0,localStorage.setItem("lock-aside-toc-"+window.location.pathname,!0),asideTocToggle.querySelector(".lock").classList.remove("hide"),asideTocToggle.querySelector(".unlock").classList.add("hide"),asideTocWrapper.classList.add("close"),asideTocWrapper.classList.remove("open")):(asideTocSummay.dataset.isLock=!1,localStorage.setItem("lock-aside-toc-"+window.location.pathname,!1),asideTocToggle.querySelector(".lock").classList.add("hide"),asideTocToggle.querySelector(".unlock").classList.remove("hide"),asideTocWrapper.classList.add("open"),asideTocWrapper.classList.remove("close"))})}let currentScroll=0,lastScroll=0;window.addEventListener("scroll",()=>{if(currentScroll=window.pageYOffset,asideToc){const d=Math.ceil(currentScroll+window.innerHeight)>=document.body.scrollHeight;mainTocTop<currentScroll&&asideToc.classList.contains("hide")?(asideToc.classList.remove("hide"),asideToc.classList.add("reveal"),asideTocSummay.classList.remove("hide")):mainTocTop>=currentScroll&&asideToc.classList.contains("reveal")&&(asideToc.scrollTop=0,asideToc.classList.remove("reveal"),asideToc.classList.add("hide"),asideTocSummay.classList.add("hide"));let b=null,c=null,a=null,e=null;if(tocIdList.map((d,c)=>{e=document.getElementById(d);const f=e.getBoundingClientRect(),g=f.top;currentScroll+g-1<=currentScroll&&(b=asideTocList[c],a=c)}),a!==null){if(d){for(let a=0;a<asideTocList.length;a++){if(!asideTocList[a].classList.contains("selected"))continue;asideTocList[a].classList.remove("selected")}asideTocList[tocIdList.length-1].classList.add("selected"),c=asideTocList[tocIdList.length-1]}else{if(b===c&&a>0){lastScroll=currentScroll;return}for(let a=0;a<asideTocList.length;a++){if(!asideTocList[a].classList.contains("selected"))continue;asideTocList[a].classList.remove("selected")}b.classList.add("selected"),c=b}a!==null&&asideToc.scroll({behavior:'smooth',top:a*20})}else if(d)asideTocList[tocIdList.length-1].classList.add("selected"),c=asideTocList[tocIdList.length-1];else{if(asideToc.querySelector(".selected")===null){lastScroll=currentScroll;return}for(let a=0;a<asideTocList.length;a++){if(!asideTocList[a].classList.contains("selected"))continue;asideTocList[a].classList.remove("selected")}}}lastScroll=currentScroll}),window.onload=function(){const a=document.querySelectorAll(".post-content .highlight td:nth-child(2) pre code.hljs");for(let b=0;b<a.length;b++)a[b].style.width="100%"}</script>
<div class=post-content data-animation=true><h2 id=아이템-23-태그-달린-클래스보다는-클래스-계층구조를-활용하자>[아이템 23] 태그 달린 클래스보다는 클래스 계층구조를 활용하자.<a hidden class=anchor aria-hidden=true href=#아이템-23-태그-달린-클래스보다는-클래스-계층구조를-활용하자>#</a></h2>
<p>때때로 두 가지 이상의 의미를 표현하고 인스턴스의 특징을 알려주는 태그 필드로 나타내는 클래스를 본 적이 있을겁니다.</p>
<h3 id=안-좋은-예시>안 좋은 예시<a hidden class=anchor aria-hidden=true href=#안-좋은-예시>#</a></h3>
<div class=highlight><div class=chroma>
<table class=lntable><tr><td class=lntd>
<pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span><span class=lnt>31
</span><span class=lnt>32
</span><span class=lnt>33
</span><span class=lnt>34
</span><span class=lnt>35
</span><span class=lnt>36
</span></code></pre></td>
<td class=lntd>
<pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=kd>public</span> <span class=kd>class</span> <span class=nc>Figure</span> <span class=o>{</span>
    <span class=kd>enum</span> <span class=n>Shape</span> <span class=o>{</span> <span class=n>RECTANGLE</span><span class=o>,</span> <span class=n>CIRCLE</span> <span class=o>};</span>

    <span class=c1>// 태그 필드 - 현재 모양을 나타냅니다.
</span><span class=c1></span>    <span class=kd>final</span> <span class=n>Shape</span> <span class=n>shape</span><span class=o>;</span>

    <span class=c1>// 모양이 사각형(RECTANGLE)일 때만 쓰입니다.
</span><span class=c1></span>    <span class=kt>double</span> <span class=n>length</span><span class=o>;</span>
    <span class=kt>double</span> <span class=n>width</span><span class=o>;</span>

    <span class=c1>// 다음 필드 모양이 원(CIRCLE)일 때만 쓰입니다.
</span><span class=c1></span>    <span class=kt>double</span> <span class=n>radius</span><span class=o>;</span>

    <span class=c1>// 원 생성
</span><span class=c1></span>    <span class=n>Figure</span><span class=o>(</span><span class=kt>double</span> <span class=n>radius</span><span class=o>)</span> <span class=o>{</span>
        <span class=n>shape</span> <span class=o>=</span> <span class=n>Shape</span><span class=o>.</span><span class=na>CIRCLE</span><span class=o>;</span>
        <span class=k>this</span><span class=o>.</span><span class=na>radius</span> <span class=o>=</span> <span class=n>radius</span><span class=o>;</span>
    <span class=o>}</span>

    <span class=n>Figure</span><span class=o>(</span><span class=kt>double</span> <span class=n>length</span><span class=o>,</span> <span class=kt>double</span> <span class=n>width</span><span class=o>)</span> <span class=o>{</span>
        <span class=n>shape</span> <span class=o>=</span> <span class=n>Shape</span><span class=o>.</span><span class=na>RECTANGLE</span><span class=o>;</span>
        <span class=k>this</span><span class=o>.</span><span class=na>length</span> <span class=o>=</span> <span class=n>length</span><span class=o>;</span>
        <span class=k>this</span><span class=o>.</span><span class=na>width</span> <span class=o>=</span> <span class=n>width</span><span class=o>;</span>
    <span class=o>}</span>

    <span class=kt>double</span> <span class=nf>area</span><span class=o>()</span> <span class=o>{</span>
        <span class=k>switch</span> <span class=o>(</span><span class=n>shape</span><span class=o>)</span> <span class=o>{</span>
            <span class=k>case</span> <span class=n>RECTANGLE</span><span class=o>:</span>
                <span class=k>return</span> <span class=n>length</span> <span class=o>*</span> <span class=n>width</span><span class=o>;</span>
            <span class=k>case</span> <span class=n>CIRCLE</span><span class=o>:</span>
                <span class=k>return</span> <span class=n>Math</span><span class=o>.</span><span class=na>PI</span> <span class=o>*</span> <span class=o>(</span><span class=n>radius</span> <span class=o>*</span> <span class=n>radius</span><span class=o>);</span>
            <span class=k>default</span><span class=o>:</span>
                <span class=k>throw</span> <span class=k>new</span> <span class=n>AssertionError</span><span class=o>();</span>
        <span class=o>}</span>
    <span class=o>}</span>
<span class=o>}</span>
</code></pre></td></tr></table>
</div>
</div><p>태그 달린 클래스에는 단점이 많습니다. 열거 타입 선언, 태그 필드, switch문 등 잡다한 코드가 너무 많습니다. 여러 구현이 한 클래스에 있어서 구현도 나쁩니다. 인스턴스가 다른 특징에 속하는 관련없는 필드로 인해 메모리도 많이 사용하게 됩니다.<br>
또 다른 의미를 추가하려면 switch문을 찾아 새 의미를 처리하는 코드를 추가해야하는 데 하나라도 빠뜨리면 문제가 될 수도 있습니다. 마지막으로, 인스턴스의 타입만으로는 현재 나타내는 의미를 알 길이 없습니다.</p>
<p><em><strong>태그 달린 클래스는 장황하고, 오류를 내기 쉽고, 비효율적입니다.</strong></em></p>
<p>클래스 계층구조를 활용하는 <code>서브타이핑</code>을 이용해서 타입 하나로 다양한 의미의 객체를 표현할 수 있습니다. 태그 달린 클래스는 클래스 계층구조를 어설프게 흉내낸 아류일뿐입니다.</p>
<h3 id=태그달린-클래스를-클래스-계층-구조로-바꾸는-방법>태그달린 클래스를 클래스 계층 구조로 바꾸는 방법<a hidden class=anchor aria-hidden=true href=#태그달린-클래스를-클래스-계층-구조로-바꾸는-방법>#</a></h3>
<ol>
<li>계층구조의 루트가 될 추상 클래스를 정의하고, 태그 값에 따라 동작이 달라지는 메서드들을 루트 클래스의 추상 메서드로 선언합니다.</li>
<li>태그 값에 상관없이 동작이 일정한 메서드들을 루트 클래승 일반 메서드로 추가합니다.</li>
<li>모든 하위 클래스에서 공통으로 사용하는 데이터 필드들도 전부 루트 클래스로 올립니다.</li>
<li>루트 클래스를 확장한 구체 클래스를 의미별로 하나씩 정의합니다.</li>
</ol>
<p><code>Figure</code> 클래스에서는 태그 값과 상관없는 메서드가 하나도 없고, 모든 하위 클래스에서 사용하는 공통 데이터 필드가 없습니다. 그 결과 루트 클래스에는 추상메서드 <code>area</code>하나만 남게 됩니다.</p>
<p>다음은 <code>Figure</code> 클래스를 계층구조 방식으로 구현한 코드입니다.</p>
<div class=highlight><div class=chroma>
<table class=lntable><tr><td class=lntd>
<pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span></code></pre></td>
<td class=lntd>
<pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=kd>abstract</span> <span class=kd>class</span> <span class=nc>Figure</span> <span class=o>{</span>
  <span class=kd>abstract</span> <span class=kt>double</span> <span class=n>area</span><span class=o>;</span>
<span class=o>}</span>

<span class=kd>public</span> <span class=kd>class</span> <span class=nc>Circle</span> <span class=kd>extends</span> <span class=n>Figure</span><span class=o>{</span>
  <span class=kd>final</span> <span class=kt>double</span> <span class=n>radius</span><span class=o>;</span>

  <span class=kd>public</span> <span class=nf>Circle</span><span class=o>(</span><span class=kt>double</span> <span class=n>radius</span><span class=o>)</span> <span class=o>{</span>
    <span class=k>this</span><span class=o>.</span><span class=na>radius</span> <span class=o>=</span> <span class=n>radius</span><span class=o>;</span>
  <span class=o>}</span>

  <span class=nd>@Override</span>
  <span class=kt>double</span> <span class=nf>area</span><span class=o>()</span> <span class=o>{</span>
    <span class=k>return</span> <span class=n>Math</span><span class=o>.</span><span class=na>PI</span> <span class=o>*</span> <span class=o>(</span><span class=n>radius</span> <span class=o>*</span> <span class=n>radius</span><span class=o>);</span>
  <span class=o>}</span>

<span class=o>}</span>

<span class=c1>// Rentangle 클래스 위와 같은 방식으로 구현하면 됩니다.
</span></code></pre></td></tr></table>
</div>
</div><p>태그 달린 클래스에 비교하면 쓸데 없는 코드들은 모두 제거했고, 각 의미를 독립된 클래스에 담아 관련 없던 데이터 필드를 모두 제거했습니다.</p>
<p>살아 남은필드들은 모두 final이며 각 클래스의 생성자가 모든 필드를 남김없이 초기화하고 추상 메서드를 구현했는지 컴파일러가 확인해줍니다.</p>
<h2 id=정리>정리<a hidden class=anchor aria-hidden=true href=#정리>#</a></h2>
<ul>
<li>태그 달린 클래스를 써야 하는 상황은 거의 없습니다.</li>
<li>새로운 클래스를 작성할 때 태그 필드가 등자했다면 계층 구조롤 대체하는 방법을 고려해보자.</li>
<li>기존 클래스가 필드를 사용하고 있다면 계층구조로 리팩터링 하는 걸 고려민해보자.</li>
</ul>
</div>
<footer class=post-footer data-animation=true><div class=post-license-info>
<a rel=license href=https://creativecommons.org/licenses/by-sa/4.0/deed.ko target=_blank>
<img alt="Attribution-ShareAlike 4.0 International" src=https://i.creativecommons.org/l/by-sa/4.0/88x31.png>
</a>
<div class=license-descript>
이 저작물은 <a rel=license href=https://creativecommons.org/licenses/by-sa/4.0/deed.ko target=_blank>크리에이티브 커먼즈 저작자표시-동일조건변경허락 4.0 국제 라이선스</a>에 따라 이용할 수 있습니다.
</div>
</div>
<ul class=post-tags>
<li><a class=button href=https://qutrits.github.io/tags/java/>Java</a></li>
<li><a class=button href=https://qutrits.github.io/tags/effective-java-3e/>Effective Java 3E</a></li>
</ul>
<div class=share-buttons>
<a target=_blank rel="noopener noreferrer" class=twitter aria-label="share [아이템 23] 태그 달린 클래스보다는 클래스 계층구조를 활용하자 on twitter" href="https://twitter.com/intent/tweet/?text=%5b%ec%95%84%ec%9d%b4%ed%85%9c%2023%5d%20%ed%83%9c%ea%b7%b8%20%eb%8b%ac%eb%a6%b0%20%ed%81%b4%eb%9e%98%ec%8a%a4%eb%b3%b4%eb%8b%a4%eb%8a%94%20%ed%81%b4%eb%9e%98%ec%8a%a4%20%ea%b3%84%ec%b8%b5%ea%b5%ac%ec%a1%b0%eb%a5%bc%20%ed%99%9c%ec%9a%a9%ed%95%98%ec%9e%90&url=https%3a%2f%2fqutrits.github.io%2fposts%2feffective-java-3e%2fchapter-03%2fitem23%2f&hashtags=Java%2cEffectiveJava3E"><svg viewBox="0 0 512 512"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zM195.519 424.544c135.939.0 210.268-112.643 210.268-210.268.0-3.218.0-6.437-.153-9.502 14.406-10.421 26.973-23.448 36.935-38.314-13.18 5.824-27.433 9.809-42.452 11.648 15.326-9.196 26.973-23.602 32.49-40.92-14.252 8.429-30.038 14.56-46.896 17.931-13.487-14.406-32.644-23.295-53.946-23.295-40.767.0-73.87 33.104-73.87 73.87.0 5.824.613 11.494 1.992 16.858-61.456-3.065-115.862-32.49-152.337-77.241-6.284 10.881-9.962 23.601-9.962 37.088.0 25.594 13.027 48.276 32.95 61.456-12.107-.307-23.448-3.678-33.41-9.196v.92c0 35.862 25.441 65.594 59.311 72.49-6.13 1.686-12.72 2.606-19.464 2.606-4.751.0-9.348-.46-13.946-1.38 9.349 29.426 36.628 50.728 68.965 51.341-25.287 19.771-57.164 31.571-91.8 31.571-5.977.0-11.801-.306-17.625-1.073 32.337 21.15 71.264 33.41 112.95 33.41z"/></svg>
</a>
<a target=_blank rel="noopener noreferrer" class=linkedin aria-label="share [아이템 23] 태그 달린 클래스보다는 클래스 계층구조를 활용하자 on linkedin" href="https://www.linkedin.com/shareArticle?mini=true&url=https%3a%2f%2fqutrits.github.io%2fposts%2feffective-java-3e%2fchapter-03%2fitem23%2f&title=%5b%ec%95%84%ec%9d%b4%ed%85%9c%2023%5d%20%ed%83%9c%ea%b7%b8%20%eb%8b%ac%eb%a6%b0%20%ed%81%b4%eb%9e%98%ec%8a%a4%eb%b3%b4%eb%8b%a4%eb%8a%94%20%ed%81%b4%eb%9e%98%ec%8a%a4%20%ea%b3%84%ec%b8%b5%ea%b5%ac%ec%a1%b0%eb%a5%bc%20%ed%99%9c%ec%9a%a9%ed%95%98%ec%9e%90&summary=%5b%ec%95%84%ec%9d%b4%ed%85%9c%2023%5d%20%ed%83%9c%ea%b7%b8%20%eb%8b%ac%eb%a6%b0%20%ed%81%b4%eb%9e%98%ec%8a%a4%eb%b3%b4%eb%8b%a4%eb%8a%94%20%ed%81%b4%eb%9e%98%ec%8a%a4%20%ea%b3%84%ec%b8%b5%ea%b5%ac%ec%a1%b0%eb%a5%bc%20%ed%99%9c%ec%9a%a9%ed%95%98%ec%9e%90&source=https%3a%2f%2fqutrits.github.io%2fposts%2feffective-java-3e%2fchapter-03%2fitem23%2f"><svg viewBox="0 0 512 512"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zM160.461 423.278V197.561h-75.04v225.717h75.04zm270.539.0V293.839c0-69.333-37.018-101.586-86.381-101.586-39.804.0-57.634 21.891-67.617 37.266v-31.958h-75.021c.995 21.181.0 225.717.0 225.717h75.02V297.222c0-6.748.486-13.492 2.474-18.315 5.414-13.475 17.767-27.434 38.494-27.434 27.135.0 38.007 20.707 38.007 51.037v120.768H431zM123.448 88.722C97.774 88.722 81 105.601 81 127.724c0 21.658 16.264 39.002 41.455 39.002h.484c26.165.0 42.452-17.344 42.452-39.002-.485-22.092-16.241-38.954-41.943-39.002z"/></svg>
</a>
<a target=_blank rel="noopener noreferrer" class=reddit aria-label="share [아이템 23] 태그 달린 클래스보다는 클래스 계층구조를 활용하자 on reddit" href="https://reddit.com/submit?url=https%3a%2f%2fqutrits.github.io%2fposts%2feffective-java-3e%2fchapter-03%2fitem23%2f&title=%5b%ec%95%84%ec%9d%b4%ed%85%9c%2023%5d%20%ed%83%9c%ea%b7%b8%20%eb%8b%ac%eb%a6%b0%20%ed%81%b4%eb%9e%98%ec%8a%a4%eb%b3%b4%eb%8b%a4%eb%8a%94%20%ed%81%b4%eb%9e%98%ec%8a%a4%20%ea%b3%84%ec%b8%b5%ea%b5%ac%ec%a1%b0%eb%a5%bc%20%ed%99%9c%ec%9a%a9%ed%95%98%ec%9e%90"><svg viewBox="0 0 512 512"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zM446 265.638c0-22.964-18.616-41.58-41.58-41.58-11.211.0-21.361 4.457-28.841 11.666-28.424-20.508-67.586-33.757-111.204-35.278l18.941-89.121 61.884 13.157c.756 15.734 13.642 28.29 29.56 28.29 16.407.0 29.706-13.299 29.706-29.701.0-16.403-13.299-29.702-29.706-29.702-11.666.0-21.657 6.792-26.515 16.578l-69.105-14.69c-1.922-.418-3.939-.042-5.585 1.036-1.658 1.073-2.811 2.761-3.224 4.686l-21.152 99.438c-44.258 1.228-84.046 14.494-112.837 35.232-7.468-7.164-17.589-11.591-28.757-11.591-22.965.0-41.585 18.616-41.585 41.58.0 16.896 10.095 31.41 24.568 37.918-.639 4.135-.99 8.328-.99 12.576.0 63.977 74.469 115.836 166.33 115.836s166.334-51.859 166.334-115.836c0-4.218-.347-8.387-.977-12.493 14.564-6.47 24.735-21.034 24.735-38.001zM326.526 373.831c-20.27 20.241-59.115 21.816-70.534 21.816-11.428.0-50.277-1.575-70.522-21.82-3.007-3.008-3.007-7.882.0-10.889 3.003-2.999 7.882-3.003 10.885.0 12.777 12.781 40.11 17.317 59.637 17.317 19.522.0 46.86-4.536 59.657-17.321 3.016-2.999 7.886-2.995 10.885.008 3.008 3.011 3.003 7.882-.008 10.889zm-5.23-48.781c-16.373.0-29.701-13.324-29.701-29.698.0-16.381 13.328-29.714 29.701-29.714 16.378.0 29.706 13.333 29.706 29.714.0 16.374-13.328 29.698-29.706 29.698zM160.91 295.348c0-16.381 13.328-29.71 29.714-29.71 16.369.0 29.689 13.329 29.689 29.71.0 16.373-13.32 29.693-29.689 29.693-16.386.0-29.714-13.32-29.714-29.693z"/></svg>
</a>
<a target=_blank rel="noopener noreferrer" class=facebook aria-label="share [아이템 23] 태그 달린 클래스보다는 클래스 계층구조를 활용하자 on facebook" href="https://facebook.com/sharer/sharer.php?u=https%3a%2f%2fqutrits.github.io%2fposts%2feffective-java-3e%2fchapter-03%2fitem23%2f"><svg viewBox="0 0 512 512"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H342.978V319.085h66.6l12.672-82.621h-79.272v-53.617c0-22.603 11.073-44.636 46.58-44.636H425.6v-70.34s-32.71-5.582-63.982-5.582c-65.288.0-107.96 39.569-107.96 111.204v62.971h-72.573v82.621h72.573V512h-191.104c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892z"/></svg>
</a>
<a target=_blank rel="noopener noreferrer" class=whatsapp aria-label="share [아이템 23] 태그 달린 클래스보다는 클래스 계층구조를 활용하자 on whatsapp" href="https://api.whatsapp.com/send?text=%5b%ec%95%84%ec%9d%b4%ed%85%9c%2023%5d%20%ed%83%9c%ea%b7%b8%20%eb%8b%ac%eb%a6%b0%20%ed%81%b4%eb%9e%98%ec%8a%a4%eb%b3%b4%eb%8b%a4%eb%8a%94%20%ed%81%b4%eb%9e%98%ec%8a%a4%20%ea%b3%84%ec%b8%b5%ea%b5%ac%ec%a1%b0%eb%a5%bc%20%ed%99%9c%ec%9a%a9%ed%95%98%ec%9e%90%20-%20https%3a%2f%2fqutrits.github.io%2fposts%2feffective-java-3e%2fchapter-03%2fitem23%2f"><svg viewBox="0 0 512 512"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zm-58.673 127.703c-33.842-33.881-78.847-52.548-126.798-52.568-98.799.0-179.21 80.405-179.249 179.234-.013 31.593 8.241 62.428 23.927 89.612l-25.429 92.884 95.021-24.925c26.181 14.28 55.659 21.807 85.658 21.816h.074c98.789.0 179.206-80.413 179.247-179.243.018-47.895-18.61-92.93-52.451-126.81zM263.976 403.485h-.06c-26.734-.01-52.954-7.193-75.828-20.767l-5.441-3.229-56.386 14.792 15.05-54.977-3.542-5.637c-14.913-23.72-22.791-51.136-22.779-79.287.033-82.142 66.867-148.971 149.046-148.971 39.793.014 77.199 15.531 105.329 43.692 28.128 28.16 43.609 65.592 43.594 105.4-.034 82.149-66.866 148.983-148.983 148.984zm81.721-111.581c-4.479-2.242-26.499-13.075-30.604-14.571-4.105-1.495-7.091-2.241-10.077 2.241-2.986 4.483-11.569 14.572-14.182 17.562-2.612 2.988-5.225 3.364-9.703 1.12-4.479-2.241-18.91-6.97-36.017-22.23C231.8 264.15 222.81 249.484 220.198 245s-.279-6.908 1.963-9.14c2.016-2.007 4.48-5.232 6.719-7.847 2.24-2.615 2.986-4.484 4.479-7.472 1.493-2.99.747-5.604-.374-7.846-1.119-2.241-10.077-24.288-13.809-33.256-3.635-8.733-7.327-7.55-10.077-7.688-2.609-.13-5.598-.158-8.583-.158-2.986.0-7.839 1.121-11.944 5.604-4.105 4.484-15.675 15.32-15.675 37.364.0 22.046 16.048 43.342 18.287 46.332 2.24 2.99 31.582 48.227 76.511 67.627 10.685 4.615 19.028 7.371 25.533 9.434 10.728 3.41 20.492 2.929 28.209 1.775 8.605-1.285 26.499-10.833 30.231-21.295 3.732-10.464 3.732-19.431 2.612-21.298-1.119-1.869-4.105-2.99-8.583-5.232z"/></svg>
</a>
<a target=_blank rel="noopener noreferrer" class=telegram aria-label="share [아이템 23] 태그 달린 클래스보다는 클래스 계층구조를 활용하자 on telegram" href="https://telegram.me/share/url?text=%5b%ec%95%84%ec%9d%b4%ed%85%9c%2023%5d%20%ed%83%9c%ea%b7%b8%20%eb%8b%ac%eb%a6%b0%20%ed%81%b4%eb%9e%98%ec%8a%a4%eb%b3%b4%eb%8b%a4%eb%8a%94%20%ed%81%b4%eb%9e%98%ec%8a%a4%20%ea%b3%84%ec%b8%b5%ea%b5%ac%ec%a1%b0%eb%a5%bc%20%ed%99%9c%ec%9a%a9%ed%95%98%ec%9e%90&url=https%3a%2f%2fqutrits.github.io%2fposts%2feffective-java-3e%2fchapter-03%2fitem23%2f"><svg viewBox="2 2 28 28"><path d="M26.49 29.86H5.5a3.37 3.37.0 01-2.47-1 3.35 3.35.0 01-1-2.47V5.48A3.36 3.36.0 013 3 3.37 3.37.0 015.5 2h21A3.38 3.38.0 0129 3a3.36 3.36.0 011 2.46V26.37a3.35 3.35.0 01-1 2.47 3.38 3.38.0 01-2.51 1.02zm-5.38-6.71a.79.79.0 00.85-.66L24.73 9.24a.55.55.0 00-.18-.46.62.62.0 00-.41-.17q-.08.0-16.53 6.11a.59.59.0 00-.41.59.57.57.0 00.43.52l4 1.24 1.61 4.83a.62.62.0 00.63.43.56.56.0 00.4-.17L16.54 20l4.09 3A.9.9.0 0021.11 23.15zM13.8 20.71l-1.21-4q8.72-5.55 8.78-5.55c.15.0.23.0.23.16a.18.18.0 010 .06s-2.51 2.3-7.52 6.8z"/></svg>
</a>
</div>
</footer><div class=button id=comments data-animation=true>댓글 보기</div>
<script>function load_comments(c,d){let b="preferred-color-scheme";localStorage.getItem("pref-theme")===null?window.matchMedia('(prefers-color-scheme: dark)').matches?b="github-dark":b="github-light":localStorage.getItem("pref-theme")==="dark"?b="github-dark":b="github-light";const e='qutrits/blog-comments',f='pathname',a=document.createElement('script');a.setAttribute("src","https://utteranc.es/client.js"),a.setAttribute("repo",e),a.setAttribute("issue-term",f),a.setAttribute("theme",b),a.setAttribute("crossorigin","anonymous"),a.onload=d,c.parentNode.insertBefore(a,c.nextSibling)}const commentButton=document.querySelector(".main .post-single #comments");commentButton.addEventListener("click",b=>{const a=document.querySelector(".main .post-single .post-footer");commentButton.parentNode.removeChild(commentButton),loding_indicator(!0,a),load_comments(a,loding_indicator)})</script>
</article>
<script>const DOMReady=function(a){document.readyState==="interactive"||document.readyState==="complete"?a():document.addEventListener("DOMContentLoaded",a)};DOMReady(function(){let b=0;const a=document.querySelector("header.header"),f=document.querySelector(".post-header"),c="scroll-up",d="scroll-down",e="header-bottom";let g=0;window.addEventListener("scroll",()=>{if(b=window.pageYOffset,b<=0)(!a.classList.contains(c)||a.classList.contains(e))&&(a.classList.remove(e),a.classList.remove(d),a.classList.add(c));else{a.classList.contains(e)||a.classList.add(e);const h=f.offsetHeight+f.offsetTop+f.offsetParent.offsetTop-1;b>h&&(b>g?a.classList.contains(c)&&(a.classList.remove(c),a.classList.add(d)):b<g&&a.classList.contains(d)&&(a.classList.remove(d),a.classList.add(c)))}g=b})})</script>
</main>
<footer class=footer>
<span>&copy; 2021 <a href=https://qutrits.github.io/>&lt;Qutrits/></a></span>
<span>
Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
    <a href=https://git.io/hugopapermod rel=noopener target=_blank>PaperMod</a>
</span>
<span>
· Source code on
<a href=https://github.com/qutrits/qutrits.github.io rel="noopener noreferrer" target=_blank>GitHub</a>
</span>
</footer>
<div class=aside-font-size-button id=aside-font-size-button style=visibility:hidden>
<span class=aside-display-font-size-info>100%</span>
<a id=aside-font-size-increase aria-label="Increase Font size" title="Go to Top (Alt + G)" accesskey=e><svg class="button increase" width="24" height="24" viewBox="0 0 24 24"><path d="M5.12 14 7.5 7.67 9.87 14M6.5 5 1 19H3.25l1.12-3h6.25l1.13 3H14L8.5 5h-2M18 7l-5 5.07 1.41 1.43L17 10.9V17h2V10.9l2.59 2.6L23 12.07 18 7z"/></svg>
</a>
<a id=aside-font-size-decrease aria-label="Decrease Font size" title="Go to Top (Alt + G)" accesskey=d><svg class="button decrease" width="24" height="24" viewBox="0 0 24 24"><path d="M5.12 14 7.5 7.67 9.87 14M6.5 5 1 19H3.25l1.12-3h6.25l1.13 3H14L8.5 5h-2M18 17l5-5.07-1.41-1.43L19 13.1V7H17v6.1l-2.59-2.6L13 11.93 18 17z"/></svg>
</a>
<a id=aside-font-size-default aria-label="Reset Font size" title="Go to Top (Alt + G)" accesskey=f><svg class="button default" width="24" height="24" viewBox="0 0 24 24"><path d="M7.20711 2.54289c.39052.39053.39052 1.02369.0 1.41422L5.41421 5.75H13.25c4.4183.0 8 3.58172 8 8 0 4.4183-3.5817 8-8 8-4.41828.0-8-3.5817-8-8 0-.552300000000001.44772-1 1-1s1 .447699999999999 1 1c0 3.3137 2.68629 6 6 6 3.3137.0 6-2.6863 6-6s-2.6863-6-6-6H5.41421l1.7929 1.79289c.39052.39053.39052 1.02371.0 1.41421C6.81658 11.3476 6.18342 11.3476 5.79289 10.9571l-3.5-3.49999c-.39052-.39053-.39052-1.02369.0-1.41422l3.5-3.5c.39053-.39052 1.02369-.39052 1.41422.0z" fill="#212121"/></svg>
</a>
</div>
<a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class="top-link button" id=top-link accesskey=g style=visibility:hidden><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" fill="currentcolor"><path d="M414 321.94 274.22 158.82a24 24 0 00-36.44.0L98 321.94c-13.34 15.57-2.28 39.62 18.22 39.62h279.6c20.5.0 31.56-24.05 18.18-39.62z"/></svg>
</a>
<script>let menu=document.getElementById('menu');menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(a=>{a.addEventListener("click",function(b){b.preventDefault();var a=this.getAttribute("href").substr(1);window.matchMedia('(prefers-reduced-motion: reduce)').matches?document.querySelector(`[id='${decodeURIComponent(a)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(a)}']`).scrollIntoView({behavior:"auto"}),a==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${a}`)})})</script>
<script>localStorage.setItem("post-content-font-size",100);const asideIncreaseFont=document.getElementById("aside-font-size-increase"),asideDecreaseFont=document.getElementById("aside-font-size-decrease"),asideDefaultFont=document.getElementById("aside-font-size-default"),displayFontSizeInfo=document.querySelector(".display-font-size-info"),asideDisplayFontSizeInfo=document.querySelector(".aside-display-font-size-info"),postContent=document.querySelector(".post-content"),adiseFontsizeButtonWrapper=document.getElementById("aside-font-size-button"),postFooter=document.querySelector(".post-footer");window.addEventListener("scroll",()=>{const a=postContent.getBoundingClientRect(),b=a.top,c=a.height,d=Math.ceil(window.pageYOffset+window.innerHeight)>=document.body.scrollHeight;0>=b?0>=b+c||d&&window.innerWidth<769?(adiseFontsizeButtonWrapper.style.visibility="hidden",adiseFontsizeButtonWrapper.style.opacity="1"):(adiseFontsizeButtonWrapper.style.visibility="visible",adiseFontsizeButtonWrapper.style.opacity="1"):(adiseFontsizeButtonWrapper.style.visibility="hidden",adiseFontsizeButtonWrapper.style.opacity="1")}),asideIncreaseFont.addEventListener("click",function(){if(localStorage.getItem("post-content-font-size")){let a=parseInt(localStorage.getItem("post-content-font-size"));if(a+5>200)return;postContent.style.fontSize=a+10+"%",displayFontSizeInfo.innerText=a+10+"%",asideDisplayFontSizeInfo.innerText=a+10+"%",localStorage.setItem("post-content-font-size",a+10)}else postContent.style.fontSize="110%",displayFontSizeInfo.innerText="110%",asideDisplayFontSizeInfo.innerText="110%",localStorage.setItem("post-content-font-size",110)}),asideDecreaseFont.addEventListener("click",function(){if(localStorage.getItem("post-content-font-size")){let a=parseInt(localStorage.getItem("post-content-font-size"));if(a-5<50)return;postContent.style.fontSize=a-10+"%",displayFontSizeInfo.innerText=a-10+"%",asideDisplayFontSizeInfo.innerText=a-10+"%",localStorage.setItem("post-content-font-size",a-10)}else postContent.style.fontSize="90%",displayFontSizeInfo.innerText="90%",asideDisplayFontSizeInfo.innerText="90%",localStorage.setItem("post-content-font-size",90)}),asideDefaultFont.addEventListener("click",function(){postContent.style.fontSize="100%",displayFontSizeInfo.innerText="100%",asideDisplayFontSizeInfo.innerText="100%",localStorage.setItem("post-content-font-size",100)})</script>
<script>const postContentEl=document.querySelector(".post-content"),topLinkButton=document.getElementById("top-link");window.onscroll=function(){const a=postContentEl.getBoundingClientRect(),b=a.top;0>=b?(topLinkButton.style.visibility="visible",topLinkButton.style.opacity="1"):(topLinkButton.style.visibility="hidden",topLinkButton.style.opacity="0")}</script>
<script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove('dark'),localStorage.setItem("pref-theme",'light')):(document.body.classList.add('dark'),localStorage.setItem("pref-theme",'dark'))})</script>
<script>document.querySelectorAll('pre > code').forEach(b=>{const c=b.parentNode.parentNode,a=document.createElement('button');a.classList.add('copy-code'),a.innerHTML='\u003cspan class=\u0022octicon\u0022\u003e\u003csvg aria-hidden=\u0022true\u0022 height=\u002216\u0022 viewBox=\u00220 0 16 16\u0022 version=\u00221.1\u0022 width=\u002216\u0022 data-view-component=\u0022true\u0022 class=\u0022octicon-copy\u0022\u003e\u003cpath fill-rule=\u0022evenodd\u0022 d=\u0022M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z\u0022\u003e\u003c/path\u003e\u003cpath fill-rule=\u0022evenodd\u0022 d=\u0022M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z\u0022\u003e\u003c/path\u003e\u003c/svg\u003e\u003c/span\u003e';function d(){a.classList.add('done'),a.innerHTML='\u003cdiv class=\u0022tooltip\u0022\u003eCopied!\u003c/div\u003e\u003cspan class=\u0022octicon done\u0022 style=\u0022color:#3fb950;\u0022\u003e\u003csvg aria-hidden=\u0022true\u0022 height=\u002216\u0022 viewBox=\u00220 0 16 16\u0022 version=\u00221.1\u0022 width=\u002216\u0022 data-view-component=\u0022true\u0022 class=\u0022octicon-check\u0022\u003e\u003cpath fill-rule=\u0022evenodd\u0022 d=\u0022M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z\u0022\u003e\u003c/path\u003e\u003c/svg\u003e\u003c/span\u003e',setTimeout(()=>{a.classList.remove('done'),a.innerHTML='\u003cspan class=\u0022octicon\u0022\u003e\u003csvg aria-hidden=\u0022true\u0022 height=\u002216\u0022 viewBox=\u00220 0 16 16\u0022 version=\u00221.1\u0022 width=\u002216\u0022 data-view-component=\u0022true\u0022 class=\u0022octicon-copy\u0022\u003e\u003cpath fill-rule=\u0022evenodd\u0022 d=\u0022M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z\u0022\u003e\u003c/path\u003e\u003cpath fill-rule=\u0022evenodd\u0022 d=\u0022M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z\u0022\u003e\u003c/path\u003e\u003c/svg\u003e\u003c/span\u003e'},2e3)}a.addEventListener('click',e=>{if('clipboard'in navigator){navigator.clipboard.writeText(b.textContent),d();return}const a=document.createRange();a.selectNodeContents(b);const c=window.getSelection();c.removeAllRanges(),c.addRange(a);try{document.execCommand('copy'),d()}catch(a){}c.removeRange(a)}),c.classList.contains("highlight")?c.appendChild(a):c.parentNode.firstChild==c||(b.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?b.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(a):b.parentNode.appendChild(a))})</script></body>
</html>