function sleep(a){return new Promise(b=>setTimeout(b,a))}if(window.innerWidth<769?document.getElementById("menu").classList.contains("hidden")||(document.getElementById("menu").classList.add("hidden"),document.getElementById("menu").classList.remove("reveal")):document.getElementById("menu").classList.contains("hidden")&&(document.getElementById("menu").classList.add("reveal"),document.getElementById("menu").classList.remove("hidden")),window.addEventListener('resize',function(){window.innerWidth<769?document.getElementById("menu").classList.contains("hidden")||(document.getElementById("menu").classList.add("hidden"),document.getElementById("menu").classList.remove("reveal")):document.getElementById("menu").classList.contains("hidden")&&(document.getElementById("menu").classList.add("reveal"),document.getElementById("menu").classList.remove("hidden"))},!0),document.getElementById("menu-trigger").addEventListener("click",()=>{window.innerWidth<769&&(document.getElementById("menu").classList.contains("hidden")?(document.getElementById("menu").classList.add("reveal"),document.getElementById("menu").classList.remove("hidden")):(document.getElementById("menu").classList.add("hidden"),document.getElementById("menu").classList.remove("reveal")))}),window.location.pathname.match(/^\/posts\/.+/)){const a=window.location.pathname.match(/^(\/posts\/)([^/]+)/);if(a[2]!=="page"){const a=function(a){document.readyState==="interactive"||document.readyState==="complete"?a():document.addEventListener("DOMContentLoaded",a)};a(function(){document.querySelector(".post-title")&&sleep(200).then(()=>{document.querySelector(".post-title").style.opacity="1",document.querySelector(".post-title").style.transform="translateY(0%)"}),document.querySelector(".series-main")&&sleep(200).then(()=>{document.querySelector(".series-main").style.opacity="1",document.querySelector(".series-main").style.transform="translateY(0%)"}),document.querySelector(".post-content")&&sleep(600).then(()=>{document.querySelector(".post-content").style.opacity="1",document.querySelector(".post-content").style.transform="translateX(0%)"}),document.querySelector("header.header").style.borderBottom="none";const k="scroll-up",m="scroll-down",n="header-bottom";let o=null,q=null,j=0,c=0;const d=document.querySelector("header.header"),p=document.querySelector(".main .post-single>.toc"),i=p?p.offsetTop+p.offsetParent.offsetTop-1:0,f=document.querySelector(".post-header"),l=[];function t(){let a=w.scrollHeight-x(r)-window.innerHeight,b=c,d=b/a*100;r.style.width=d+"%"}function x(a){var e=a.offsetHeight,b=document.body.offsetHeight,c=a.getBoundingClientRect(),d=c.top,f=c.bottom;return Math.max(0,d>0?Math.min(e,b-d):Math.min(f,b))}const w=document.querySelector("html"),v=document.querySelector("body"),s=document.createElement("div");s.classList.add("progress-bar-container__progress"),v.prepend(s);const r=document.querySelector(".progress-bar-container__progress"),u={childList:!0,subtree:!0,characterData:!0,attributes:!0};new MutationObserver(t).observe(r,u);const a=document.querySelector(".main .toc-aside"),e=document.querySelector(".main .toc-aside-summary"),h=a.querySelector(".inner-wrapper"),g=e.querySelector(".toggle"),b=a.querySelectorAll(".inner-wrapper .inner ul>li");if(a){localStorage.getItem("lock-aside-toc-"+window.location.pathname)==="true"?(e.dataset.isLock=!0,h.classList.add("close"),g.querySelector(".unlock").classList.add("hide")):(e.dataset.isLock=!1,h.classList.add("open"),g.querySelector(".lock").classList.add("hide"));for(let a=0;a<b.length;a++)l[a]=decodeURI(b[a].firstElementChild.hash.substring(1));i===0&&(i=f.offsetHeight+f.offsetTop+f.offsetParent.offsetTop-1),i<window.pageYOffset?(a.classList.remove("hide"),a.classList.add("reveal"),e.classList.remove("hide")):i>=window.pageYOffset&&a.classList.add("hide"),e.addEventListener("click",()=>{e.dataset.isLock==="false"?(e.dataset.isLock=!0,localStorage.setItem("lock-aside-toc-"+window.location.pathname,!0),g.querySelector(".lock").classList.remove("hide"),g.querySelector(".unlock").classList.add("hide"),h.classList.add("close"),h.classList.remove("open")):(e.dataset.isLock=!1,localStorage.setItem("lock-aside-toc-"+window.location.pathname,!1),g.querySelector(".lock").classList.add("hide"),g.querySelector(".unlock").classList.remove("hide"),h.classList.add("open"),h.classList.remove("close"))})}window.addEventListener("scroll",()=>{if(c=window.pageYOffset,t(),c<=0){if(!d.classList.contains(k)||d.classList.contains(n)){d.classList.remove(n),d.classList.remove(m),d.classList.add(k);return}}else d.classList.contains(n)||d.classList.add(n);const g=f.offsetHeight+f.offsetTop+f.offsetParent.offsetTop-1;if(c>g&&(c>j?d.classList.contains(k)&&(d.classList.remove(k),d.classList.add(m),document.getElementById("menu").classList.contains("reveal")&&(document.getElementById("menu").classList.remove("reveal"),document.getElementById("menu").classList.add("hidden"))):c<j&&d.classList.contains(m)&&(d.classList.remove(m),d.classList.add(k))),a){i<c&&a.classList.contains("hide")?(a.classList.remove("hide"),a.classList.add("reveal"),e.classList.remove("hide")):i>=c&&a.classList.contains("reveal")&&(a.scrollTop=0,a.classList.remove("reveal"),a.classList.add("hide"),e.classList.add("hide"));let d=null,f=null;if(l.map((e,a)=>{f=document.getElementById(e),f.offsetTop+f.offsetParent.offsetTop-1<=c&&(o=b[a],d=a)}),d!==null){let e=Math.ceil(c+window.innerHeight)>=document.body.scrollHeight;if(e){for(let a=0;a<b.length;a++){if(!b[a].classList.contains("selected"))continue;b[a].classList.remove("selected")}b[l.length-1].classList.add("selected"),q=b[l.length-1]}else{if(o===q&&d>0){j=c;return}for(let a=0;a<b.length;a++){if(!b[a].classList.contains("selected"))continue;b[a].classList.remove("selected")}o.classList.add("selected"),q=o}d!==null&&a.scroll({behavior:'smooth',top:d*20})}else{if(a.querySelector(".selected")===null){j=c;return}for(let a=0;a<b.length;a++){if(!b[a].classList.contains("selected"))continue;b[a].classList.remove("selected")}}}j=c})}),window.onload=function(){const a=document.querySelectorAll(".post-content .highlight td:nth-child(2) pre code.hljs");for(let b=0;b<a.length;b++)a[b].style.width="100%"}}else{const b=document.querySelector(".page-header");b&&sleep(200).then(()=>{b.style.opacity="1",b.style.transform="translateY(0%)"});const a=document.querySelectorAll(".post-entry");a&&sleep(300).then(()=>{for(let b=0;b<a.length;b++)sleep((b+1)*100).then(()=>{a[b].style.opacity="1",a[b].style.transform="translateX(0%)"})})}}else if(window.location.pathname.match(/^\/archives\/$/)){{const a=document.querySelectorAll(".archive-year .archive-month"),b=document.querySelectorAll(".archive-year .archive-year-header"),c=document.querySelectorAll(".main .archive-year .archive-month .archive-month-header .toggle");if(b&&sleep(300).then(()=>{for(let a=0;a<b.length;a++)sleep((a+1)*100).then(()=>{b[a].style.opacity="1",b[a].style.transform="translateY(0%)"})}),a){for(let b=0;b<a.length;b++)localStorage.getItem("lock-archives-"+a[b].dataset.key)==="false"?(a[b].querySelector(".archive-month-header .toggle").dataset.isLock=!1,a[b].querySelector(".archive-month-header .toggle .lock").classList.add("hide")):(a[b].querySelector(".archive-month-header .toggle").dataset.isLock=!0,a[b].querySelector(".archive-month-header .toggle .unlock").classList.add("hide"));sleep(700).then(()=>{for(let b=0;b<a.length;b++)sleep((b+1)*50).then(()=>{a[b].children[0].style.opacity="1",a[b].children[0].style.transform="translateY(0%)",a[b].children[1].style.opacity="1",a[b].children[1].style.transform="translateX(0%)"})})}if(c)for(let a=0;a<c.length;a++)c[a].addEventListener("click",b=>{let c=null,a=null;b.target.parentNode.dataset.key?(c=b.target.parentNode.dataset.key,a=b.target.parentNode):b.target.parentNode.parentNode.dataset.key?(c=b.target.parentNode.parentNode.dataset.key,a=b.target.parentNode.parentNode):b.target.parentNode.parentNode.parentNode.dataset.key&&(c=b.target.parentNode.parentNode.parentNode.dataset.key,a=b.target.parentNode.parentNode.parentNode),console.log(c),a.querySelector(".toggle").dataset.isLock==="false"?(localStorage.setItem("lock-archives-"+c,!0),a.querySelector(".toggle").dataset.isLock=!0,a.querySelector(".toggle .unlock").classList.add("hide"),a.querySelector(".toggle .lock").classList.remove("hide"),document.getElementById(c).style.display="none"):(localStorage.setItem("lock-archives-"+c,!1),a.querySelector(".toggle").dataset.isLock=!1,a.querySelector(".toggle .lock").classList.add("hide"),a.querySelector(".toggle .unlock").classList.remove("hide"),document.getElementById(c).style.display="block")})}}else if(window.location.pathname.match(/^\/tags\/$/)){{const a=document.querySelectorAll(".terms-tags li");if(a){let b=[];for(i=0;i<a.length;i++)randomNum=Math.floor(Math.random()*a.length),b.indexOf(randomNum)===-1?b.push(randomNum):i--;sleep(300).then(()=>{for(let c=0;c<b.length;c++)sleep((c+1)*20).then(()=>{a[b[c]].children[0].style.opacity="1",a[b[c]].children[0].style.transform="translateY(0%)"})})}}}else if(window.location.pathname.match(/^\/search\/$/)){const a=document.querySelector("#searchInput");a&&(a.style.width="100%")}else window.location.pathname.match(/^\/series-list\/$/)||window.location.pathname.match(/^\/collection\/$/)||window.location.pathname.match(/^\/posts\/$/)||window.location.pathname.match(/^\/tags\/.+/)||window.location.pathname.match(/^\/categories\/.+/)||window.location.pathname.match(/^\/series\/.+/)||window.location.pathname.match(/^\/chapter\/.+/)||window.location.pathname==="/"?(document.querySelector(".page-header")&&sleep(200).then(()=>{const a=document.querySelector(".page-header");a.style.opacity="1",a.style.transform="translateY(0%)"}),document.querySelector(".post-entry")&&sleep(300).then(()=>{const a=document.querySelectorAll(".post-entry");for(let b=0;b<a.length;b++)sleep((b+1)*100).then(()=>{a[b].style.opacity="1",a[b].style.transform="translateX(0%)"})})):window.location.pathname.match(/^\/links\/$/)&&(document.querySelector(".link-header")&&sleep(300).then(()=>{const a=document.querySelector(".link-header");a.style.opacity="1",a.style.transform="translateY(0%)"}),document.querySelectorAll(".links .button")&&sleep(700).then(()=>{const a=document.querySelectorAll(".links .button");for(let b=0;b<a.length;b++)sleep((b+1)*100).then(()=>{a[b].style.opacity="1",a[b].style.transform="translateX(0%)"})}))