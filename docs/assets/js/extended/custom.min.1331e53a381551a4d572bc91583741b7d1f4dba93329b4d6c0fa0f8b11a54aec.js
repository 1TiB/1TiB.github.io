function sleep(a){return new Promise(b=>setTimeout(b,a))}function elementDelayAnimation(a,c,b,d,e,f,g,h){a&&(a.style.opacity=f,a.style.transition=c,a.style.transform=`translate${b.toUpperCase()}(${d})`,sleep(h).then(()=>{a.style.opacity=g,a.style.transform=`translate${b.toUpperCase()}(${e})`}))}window.innerWidth<769?document.getElementById("menu").classList.contains("hidden")||(document.getElementById("menu").classList.add("hidden"),document.getElementById("menu").classList.remove("reveal")):document.getElementById("menu").classList.contains("hidden")&&(document.getElementById("menu").classList.add("reveal"),document.getElementById("menu").classList.remove("hidden")),window.addEventListener('resize',function(){window.innerWidth<769?document.getElementById("menu").classList.contains("hidden")||(document.getElementById("menu").classList.add("hidden"),document.getElementById("menu").classList.remove("reveal")):document.getElementById("menu").classList.contains("hidden")&&(document.getElementById("menu").classList.add("reveal"),document.getElementById("menu").classList.remove("hidden"))},!0),document.getElementById("menu-trigger").addEventListener("click",()=>{window.innerWidth<769&&(document.getElementById("menu").classList.contains("hidden")?(document.getElementById("menu").classList.add("reveal"),document.getElementById("menu").classList.remove("hidden")):(document.getElementById("menu").classList.add("hidden"),document.getElementById("menu").classList.remove("reveal")))});let urlPathName="";if(window.location.pathname.startsWith("/en/")?urlPathName=window.location.pathname.match(/^\/en(\/.*)$/)[1]:urlPathName=window.location.pathname,urlPathName.match(/^\/posts\/.+/)){const a=urlPathName.match(/^(\/posts\/)([^/]+)/);if(a[2]!=="page"){const a=function(a){document.readyState==="interactive"||document.readyState==="complete"?a():document.addEventListener("DOMContentLoaded",a)};a(function(){const C=document.querySelector(".main .post-single .post-header .post-title");elementDelayAnimation(C,"all 0.4s ease-in-out 0s","Y","-20%","0%","0","1",200);const B=document.querySelector(".main .post-single .post-header .post-description");elementDelayAnimation(B,"all 0.4s ease-in-out 0s","Y","-20%","0%","0","1",235);const A=document.querySelector(".main .post-single .post-header .post-meta");elementDelayAnimation(A,"all 0.4s ease-in-out 0s","Y","-20%","0%","0","1",270);const z=document.querySelector(".main .post-single .series-main");elementDelayAnimation(z,"all 0.4s ease-in-out 0s","Y","-2%","0%","0","1",300);const y=document.querySelector(".main .post-single .toc");elementDelayAnimation(y,"all 0.4s ease-in-out 0s","Y","-1%","0%","0","1",400);const x=document.querySelector(".main .post-single .post-content");elementDelayAnimation(x,"all 0.4s ease-in-out 0s","X","-1%","0%","0","1",700);const v=document.querySelector(".main .post-single .post-footer");elementDelayAnimation(v,"all 0.4s ease-in-out 0s","Y","3%","0%","0","1",700);const k="scroll-up",n="scroll-down",m="header-bottom";let d=0;const c=document.querySelector("header.header"),o=document.querySelector(".main .post-single>.toc"),j=o?o.offsetTop+o.offsetParent.offsetTop-1:0,i=document.querySelector(".post-header"),h=[];c.style.borderBottom="none";function q(){let a=s.scrollHeight-u(p)-window.innerHeight,b=d,c=b/a*100;p.style.width=c+"%"}function u(a){var e=a.offsetHeight,b=document.body.offsetHeight,c=a.getBoundingClientRect(),d=c.top,f=c.bottom;return Math.max(0,d>0?Math.min(e,b-d):Math.min(f,b))}const s=document.querySelector("html"),t=document.querySelector("body"),r=document.createElement("div");r.classList.add("progress-bar-container__progress"),t.prepend(r);const p=document.querySelector(".progress-bar-container__progress"),w={childList:!0,subtree:!0,characterData:!0,attributes:!0};new MutationObserver(q).observe(p,w);const b=document.querySelector(".main .toc-aside");let e=null,g=null,f=null,a=null;if(b){e=document.querySelector(".main .toc-aside-summary"),g=b.querySelector(".inner-wrapper"),f=e.querySelector(".toggle"),a=b.querySelectorAll(".inner-wrapper .inner ul>li"),localStorage.getItem("lock-aside-toc-"+urlPathName)==="true"?(e.dataset.isLock=!0,g.classList.add("close"),f.querySelector(".unlock").classList.add("hide")):(e.dataset.isLock=!1,g.classList.add("open"),f.querySelector(".lock").classList.add("hide"));for(let b=0;b<a.length;b++)h[b]=decodeURI(a[b].firstElementChild.hash.substring(1));j===0&&(j=i.offsetHeight+i.offsetTop+i.offsetParent.offsetTop-1),j<window.pageYOffset?(b.classList.remove("hide"),b.classList.add("reveal"),e.classList.remove("hide")):j>=window.pageYOffset&&b.classList.add("hide"),e.addEventListener("click",()=>{e.dataset.isLock==="false"?(e.dataset.isLock=!0,localStorage.setItem("lock-aside-toc-"+urlPathName,!0),f.querySelector(".lock").classList.remove("hide"),f.querySelector(".unlock").classList.add("hide"),g.classList.add("close"),g.classList.remove("open")):(e.dataset.isLock=!1,localStorage.setItem("lock-aside-toc-"+urlPathName,!1),f.querySelector(".lock").classList.add("hide"),f.querySelector(".unlock").classList.remove("hide"),g.classList.add("open"),g.classList.remove("close"))})}let l=0;window.addEventListener("scroll",()=>{d=window.pageYOffset,q(),d<=0?(!c.classList.contains(k)||c.classList.contains(m))&&(c.classList.remove(m),c.classList.remove(n),c.classList.add(k)):c.classList.contains(m)||c.classList.add(m);const f=i.offsetHeight+i.offsetTop+i.offsetParent.offsetTop-1;if(d>f&&(d>l?c.classList.contains(k)&&(c.classList.remove(k),c.classList.add(n),document.getElementById("menu").classList.contains("reveal")&&(document.getElementById("menu").classList.remove("reveal"),document.getElementById("menu").classList.add("hidden"))):d<l&&c.classList.contains(n)&&(c.classList.remove(n),c.classList.add(k))),b){const k=Math.ceil(d+window.innerHeight)>=document.body.scrollHeight;j<d&&b.classList.contains("hide")?(b.classList.remove("hide"),b.classList.add("reveal"),e.classList.remove("hide")):j>=d&&b.classList.contains("reveal")&&(b.scrollTop=0,b.classList.remove("reveal"),b.classList.add("hide"),e.classList.add("hide"));let f=null,g=null,c=null,i=null;if(h.map((e,b)=>{i=document.getElementById(e),i.offsetTop+i.offsetParent.offsetTop-1<=d&&(f=a[b],c=b)}),c!==null){if(k){for(let b=0;b<a.length;b++){if(!a[b].classList.contains("selected"))continue;a[b].classList.remove("selected")}a[h.length-1].classList.add("selected"),g=a[h.length-1]}else{if(f===g&&c>0){l=d;return}for(let b=0;b<a.length;b++){if(!a[b].classList.contains("selected"))continue;a[b].classList.remove("selected")}f.classList.add("selected"),g=f}c!==null&&b.scroll({behavior:'smooth',top:c*20})}else if(k)a[h.length-1].classList.add("selected"),g=a[h.length-1];else{if(b.querySelector(".selected")===null){l=d;return}for(let b=0;b<a.length;b++){if(!a[b].classList.contains("selected"))continue;a[b].classList.remove("selected")}}}l=d})}),window.onload=function(){const a=document.querySelectorAll(".post-content .highlight td:nth-child(2) pre code.hljs");for(let b=0;b<a.length;b++)a[b].style.width="100%"}}else{const b=document.querySelector(".page-header");elementDelayAnimation(b,"all 0.2s ease-out 0s","Y","-30%","0%","0","1",80);const a=document.querySelectorAll(".post-entry");a&&sleep(120).then(()=>{for(let b=0;b<a.length;b++)elementDelayAnimation(a[b],"all 0.2s ease-out 0s","X","-4%","0%","0","1",(b+1)*50)})}}else if(urlPathName.match(/^\/archives\/$/)){{const d=document.querySelector(".main .page-header"),a=document.querySelectorAll(".archive-year .archive-month"),b=document.querySelectorAll(".archive-year .archive-year-header"),c=document.querySelectorAll(".main .archive-year .archive-month .archive-month-header .toggle");if(elementDelayAnimation(d,"all 0.3s ease-in-out 0s","Y","0%","0%","0","1",0),b&&sleep(300).then(()=>{for(let a=0;a<b.length;a++)elementDelayAnimation(b[a],"all 0.3s ease-in-out 0s","Y","-70%","0%","0","1",(a+1)*100)}),a){for(let b=0;b<a.length;b++)localStorage.getItem("lock-archives-"+a[b].dataset.key)==="false"?(a[b].querySelector(".archive-month-header .toggle").dataset.isLock=!1,a[b].querySelector(".archive-month-header .toggle .lock").classList.add("hide")):(a[b].querySelector(".archive-month-header .toggle").dataset.isLock=!0,a[b].querySelector(".archive-month-header .toggle .unlock").classList.add("hide"));sleep(700).then(()=>{for(let b=0;b<a.length;b++)elementDelayAnimation(a[b].children[0],"all 0.3s ease-in-out 0s","Y","-70%","0%","0","1",(b+1)*50),elementDelayAnimation(a[b].children[1],"all 0.3s ease-in-out 0s","X","-20%","0%","0","1",(b+1)*50)})}if(c)for(let a=0;a<c.length;a++)c[a].addEventListener("click",b=>{let c=null,a=null;b.target.parentNode.dataset.key?(c=b.target.parentNode.dataset.key,a=b.target.parentNode):b.target.parentNode.parentNode.dataset.key?(c=b.target.parentNode.parentNode.dataset.key,a=b.target.parentNode.parentNode):b.target.parentNode.parentNode.parentNode.dataset.key&&(c=b.target.parentNode.parentNode.parentNode.dataset.key,a=b.target.parentNode.parentNode.parentNode),a.querySelector(".toggle").dataset.isLock==="false"?(localStorage.setItem("lock-archives-"+c,!0),a.querySelector(".toggle").dataset.isLock=!0,a.querySelector(".toggle .unlock").classList.add("hide"),a.querySelector(".toggle .lock").classList.remove("hide"),document.getElementById(c).style.display="none"):(localStorage.setItem("lock-archives-"+c,!1),a.querySelector(".toggle").dataset.isLock=!1,a.querySelector(".toggle .lock").classList.add("hide"),a.querySelector(".toggle .unlock").classList.remove("hide"),document.getElementById(c).style.display="block")})}}else if(urlPathName.match(/^\/tags\/$/)||urlPathName.match(/^\/categories\/$/)||urlPathName.match(/^\/series\/$/)||urlPathName.match(/^\/chapter\/$/)){{const a=document.querySelectorAll(".main .terms-tags a"),b=document.querySelector(".main .page-header");if(elementDelayAnimation(b,"all 0.3s ease-in-out 0s","Y","0%","0%","0","1",0),a){let b=[];for(i=0;i<a.length;i++)randomNum=Math.floor(Math.random()*a.length),b.indexOf(randomNum)===-1?b.push(randomNum):i--;sleep(300).then(()=>{for(let c=0;c<b.length;c++)elementDelayAnimation(a[b[c]],"all 0.2s ease-out 0s","Y","-30%","0%","0","1",(c+1)*17)})}}}else if(urlPathName.match(/^\/search\/$/)){const b=document.querySelector(".main .page-header");elementDelayAnimation(b,"all 0.3s ease-in-out 0s","Y","-100%","0%","0","1",400);const a=document.querySelector("#searchInput");a&&(a.style.width="100%")}else if(urlPathName.match(/^\/series-list\/$/)){const c=document.querySelector(".main .series-header .series-title"),d=document.querySelector(".main .series-header .series-description-wrapper .series-description"),a=document.querySelectorAll(".main .series-header .series-description-wrapper .series-sub-description-wrapper .series-sub-description"),b=document.querySelectorAll(".main .post-entry");elementDelayAnimation(c,"all 0.2s ease-out 0s","Y","-30%","0%","0","1",200),elementDelayAnimation(d,"all 0.2s ease-out 0s","Y","-30%","0%","0","1",400),a&&sleep(400).then(()=>{for(let b=0;b<a.length;b++)elementDelayAnimation(a[b],"all 0.2s ease-out 0s","X","-20%","0%","0","1",250)}),b&&sleep(850).then(()=>{for(let a=0;a<b.length;a++)elementDelayAnimation(b[a],"all 0.2s ease-out 0s","X","-4%","0%","0","1",(a+1)*100)})}else if(urlPathName.match(/^\/collection\/$/)){const b=document.querySelector(".main .collection-header .collection-title"),c=document.querySelector(".main .collection-header .collection-description"),a=document.querySelectorAll(".main .post-entry");elementDelayAnimation(b,"all 0.2s ease-out 0s","Y","-30%","0%","0","1",200),elementDelayAnimation(c,"all 0.2s ease-out 0s","Y","-30%","0%","0","1",400),a&&sleep(550).then(()=>{for(let b=0;b<a.length;b++)elementDelayAnimation(a[b],"all 0.2s ease-out 0s","X","-4%","0%","0","1",(b+1)*80)})}else if(urlPathName.match(/^\/posts\/$/)||urlPathName.match(/^\/tags\/.+/)||urlPathName.match(/^\/categories\/.+/)||urlPathName.match(/^\/series\/.+/)||urlPathName.match(/^\/chapter\/.+/)){const b=document.querySelector(".page-header");elementDelayAnimation(b,"all 0.2s ease-out 0s","Y","-30%","0%","0","1",80);const a=document.querySelectorAll(".post-entry");a&&sleep(120).then(()=>{for(let b=0;b<a.length;b++)elementDelayAnimation(a[b],"all 0.2s ease-out 0s","X","-4%","0%","0","1",(b+1)*50)})}else if(urlPathName==="/");else if(urlPathName.match(/^\/links\/$/)){const b=document.querySelector(".link-header");elementDelayAnimation(b,"all 0.3s ease-in-out 0s","Y","0%","0%","0","1",0);const a=document.querySelectorAll(".links .button");a&&sleep(700).then(()=>{for(let b=0;b<a.length;b++)elementDelayAnimation(a[b],"all 0.4s ease-in-out 0s","X","-10%","0%","0","1",(b+1)*100)})}