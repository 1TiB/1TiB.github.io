const DOMReady=function(a){document.readyState==="interactive"||document.readyState==="complete"?a():document.addEventListener("DOMContentLoaded",a)};DOMReady(function(){function e(a){return new Promise(b=>setTimeout(b,a))}window.innerWidth<769?document.getElementById("menu").classList.contains("hidden")||(document.getElementById("menu").classList.add("hidden"),document.getElementById("menu").classList.remove("reveal")):document.getElementById("menu").classList.contains("hidden")&&(document.getElementById("menu").classList.add("reveal"),document.getElementById("menu").classList.remove("hidden")),window.addEventListener('resize',function(){window.innerWidth<769?document.getElementById("menu").classList.contains("hidden")||(document.getElementById("menu").classList.add("hidden"),document.getElementById("menu").classList.remove("reveal")):document.getElementById("menu").classList.contains("hidden")&&(document.getElementById("menu").classList.add("reveal"),document.getElementById("menu").classList.remove("hidden"))},!0),document.getElementById("menu-trigger").addEventListener("click",()=>{window.innerWidth<769&&(document.getElementById("menu").classList.contains("hidden")?(document.getElementById("menu").classList.add("reveal"),document.getElementById("menu").classList.remove("hidden")):(document.getElementById("menu").classList.add("hidden"),document.getElementById("menu").classList.remove("reveal")))});let a="",c="";if(window.location.pathname.match(/^\/.{2}\//)){let b=window.location.pathname.match(/^\/(.{2})(\/.*)$/);c=b[1],a=b[2]}else a=window.location.pathname;if(a.match(/^\/posts\/.+/)){{const c=a.match(/^(\/posts\/)([^/]+)/);if(c[2]!=="page"){const n="scroll-up",p="scroll-down",q="header-bottom";let f=0;const g=document.querySelector("header.header"),r=document.querySelector(".main .post-single>.toc"),k=r?r.offsetTop+r.offsetParent.offsetTop-1:0,l=document.querySelector(".post-header"),m=[];g.style.borderBottom="none";function b(){let a=v.scrollHeight-d(s)-window.innerHeight,b=f,c=b/a*100;s.style.width=c+"%"}function d(a){var e=a.offsetHeight,b=document.body.offsetHeight,c=a.getBoundingClientRect(),d=c.top,f=c.bottom;return Math.max(0,d>0?Math.min(e,b-d):Math.min(f,b))}const v=document.querySelector("html"),w=document.querySelector("body"),t=document.createElement("div");t.classList.add("progress-bar-container__progress"),w.prepend(t);const s=document.querySelector(".progress-bar-container__progress"),u={childList:!0,subtree:!0,characterData:!0,attributes:!0};new MutationObserver(b).observe(s,u);const e=document.querySelector(".main .toc-aside");let h=null,j=null,i=null,c=null;if(e){h=document.querySelector(".main .toc-aside-summary"),j=e.querySelector(".inner-wrapper"),i=h.querySelector(".toggle"),c=e.querySelectorAll(".inner-wrapper .inner ul>li"),localStorage.getItem("lock-aside-toc-"+a)==="true"?(h.dataset.isLock=!0,j.classList.add("close"),i.querySelector(".unlock").classList.add("hide")):(h.dataset.isLock=!1,j.classList.add("open"),i.querySelector(".lock").classList.add("hide"));for(let a=0;a<c.length;a++)m[a]=decodeURI(c[a].firstElementChild.hash.substring(1));k===0&&(k=l.offsetHeight+l.offsetTop+l.offsetParent.offsetTop-1),k<window.pageYOffset?(e.classList.remove("hide"),e.classList.add("reveal"),h.classList.remove("hide")):k>=window.pageYOffset&&e.classList.add("hide"),h.addEventListener("click",()=>{h.dataset.isLock==="false"?(h.dataset.isLock=!0,localStorage.setItem("lock-aside-toc-"+a,!0),i.querySelector(".lock").classList.remove("hide"),i.querySelector(".unlock").classList.add("hide"),j.classList.add("close"),j.classList.remove("open")):(h.dataset.isLock=!1,localStorage.setItem("lock-aside-toc-"+a,!1),i.querySelector(".lock").classList.add("hide"),i.querySelector(".unlock").classList.remove("hide"),j.classList.add("open"),j.classList.remove("close"))})}let o=0;window.addEventListener("scroll",()=>{f=window.pageYOffset,b(),f<=0?(!g.classList.contains(n)||g.classList.contains(q))&&(g.classList.remove(q),g.classList.remove(p),g.classList.add(n)):g.classList.contains(q)||g.classList.add(q);const a=l.offsetHeight+l.offsetTop+l.offsetParent.offsetTop-1;if(f>a&&(f>o?g.classList.contains(n)&&(g.classList.remove(n),g.classList.add(p),document.getElementById("menu").classList.contains("reveal")&&(document.getElementById("menu").classList.remove("reveal"),document.getElementById("menu").classList.add("hidden"))):f<o&&g.classList.contains(p)&&(g.classList.remove(p),g.classList.add(n))),e){const g=Math.ceil(f+window.innerHeight)>=document.body.scrollHeight;k<f&&e.classList.contains("hide")?(e.classList.remove("hide"),e.classList.add("reveal"),h.classList.remove("hide")):k>=f&&e.classList.contains("reveal")&&(e.scrollTop=0,e.classList.remove("reveal"),e.classList.add("hide"),h.classList.add("hide"));let b=null,d=null,a=null,i=null;if(m.map((e,d)=>{i=document.getElementById(e);const g=i.getBoundingClientRect(),h=g.top;f+h-1<=f&&(b=c[d],a=d)}),a!==null){if(g){for(let a=0;a<c.length;a++){if(!c[a].classList.contains("selected"))continue;c[a].classList.remove("selected")}c[m.length-1].classList.add("selected"),d=c[m.length-1]}else{if(b===d&&a>0){o=f;return}for(let a=0;a<c.length;a++){if(!c[a].classList.contains("selected"))continue;c[a].classList.remove("selected")}b.classList.add("selected"),d=b}a!==null&&e.scroll({behavior:'smooth',top:a*20})}else if(g)c[m.length-1].classList.add("selected"),d=c[m.length-1];else{if(e.querySelector(".selected")===null){o=f;return}for(let a=0;a<c.length;a++){if(!c[a].classList.contains("selected"))continue;c[a].classList.remove("selected")}}}o=f}),window.onload=function(){const a=document.querySelectorAll(".post-content .highlight td:nth-child(2) pre code.hljs");for(let b=0;b<a.length;b++)a[b].style.width="100%"}}}}else if(a.match(/^\/archives\/$/)){const a=document.querySelectorAll(".archive-year .archive-month"),b=document.querySelectorAll(".main .archive-year .archive-month .archive-month-header .toggle");if(a)for(let b=0;b<a.length;b++)localStorage.getItem("lock-archives-"+a[b].dataset.key)==="false"?(a[b].querySelector(".archive-month-header .toggle").dataset.isLock=!1,a[b].querySelector(".archive-month-header .toggle .lock").classList.add("hide")):(a[b].querySelector(".archive-month-header .toggle").dataset.isLock=!0,a[b].querySelector(".archive-month-header .toggle .unlock").classList.add("hide"));if(b)for(let a=0;a<b.length;a++)b[a].addEventListener("click",b=>{let c=null,a=null;b.target.parentNode.dataset.key?(c=b.target.parentNode.dataset.key,a=b.target.parentNode):b.target.parentNode.parentNode.dataset.key?(c=b.target.parentNode.parentNode.dataset.key,a=b.target.parentNode.parentNode):b.target.parentNode.parentNode.parentNode.dataset.key&&(c=b.target.parentNode.parentNode.parentNode.dataset.key,a=b.target.parentNode.parentNode.parentNode),a.querySelector(".toggle").dataset.isLock==="false"?(localStorage.setItem("lock-archives-"+c,!0),a.querySelector(".toggle").dataset.isLock=!0,a.querySelector(".toggle .unlock").classList.add("hide"),a.querySelector(".toggle .lock").classList.remove("hide"),document.getElementById(c).style.display="none"):(localStorage.setItem("lock-archives-"+c,!1),a.querySelector(".toggle").dataset.isLock=!1,a.querySelector(".toggle .lock").classList.add("hide"),a.querySelector(".toggle .unlock").classList.remove("hide"),document.getElementById(c).style.animationDelay="0s",document.getElementById(c).style.display="block")})}})