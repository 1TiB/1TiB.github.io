function sleep(a){return new Promise(b=>setTimeout(b,a))}window.innerWidth<769?document.getElementById("menu").classList.contains("hidden")||(document.getElementById("menu").classList.add("hidden"),document.getElementById("menu").classList.remove("reveal")):document.getElementById("menu").classList.contains("hidden")&&(document.getElementById("menu").classList.add("reveal"),document.getElementById("menu").classList.remove("hidden")),window.addEventListener('resize',function(){window.innerWidth<769?document.getElementById("menu").classList.contains("hidden")||(document.getElementById("menu").classList.add("hidden"),document.getElementById("menu").classList.remove("reveal")):document.getElementById("menu").classList.contains("hidden")&&(document.getElementById("menu").classList.add("reveal"),document.getElementById("menu").classList.remove("hidden"))},!0),document.getElementById("menu-trigger").addEventListener("click",()=>{window.innerWidth<769&&(document.getElementById("menu").classList.contains("hidden")?(document.getElementById("menu").classList.add("reveal"),document.getElementById("menu").classList.remove("hidden")):(document.getElementById("menu").classList.add("hidden"),document.getElementById("menu").classList.remove("reveal")))});let urlPathName="",urlContryCode="";if(window.location.pathname.match(/^\/.{2}\//)){let a=window.location.pathname.match(/^\/(.{2})(\/.*)$/);urlContryCode=a[1],urlPathName=a[2]}else urlPathName=window.location.pathname;if(urlPathName.match(/^\/posts\/.+/)){{const a=urlPathName.match(/^(\/posts\/)([^/]+)/);if(a[2]!=="page"){const k="scroll-up",m="scroll-down",n="header-bottom";let c=0;const d=document.querySelector("header.header"),o=document.querySelector(".main .post-single>.toc"),h=o?o.offsetTop+o.offsetParent.offsetTop-1:0,i=document.querySelector(".post-header"),j=[];d.style.borderBottom="none";function updateScrollProgressBar(){let a=s.scrollHeight-heightInViewport(p)-window.innerHeight,b=c,d=b/a*100;p.style.width=d+"%"}function heightInViewport(a){var e=a.offsetHeight,b=document.body.offsetHeight,c=a.getBoundingClientRect(),d=c.top,f=c.bottom;return Math.max(0,d>0?Math.min(e,b-d):Math.min(f,b))}const s=document.querySelector("html"),t=document.querySelector("body"),q=document.createElement("div");q.classList.add("progress-bar-container__progress"),t.prepend(q);const p=document.querySelector(".progress-bar-container__progress"),r={childList:!0,subtree:!0,characterData:!0,attributes:!0};new MutationObserver(updateScrollProgressBar).observe(p,r);const b=document.querySelector(".main .toc-aside");let e=null,g=null,f=null,a=null;if(b){e=document.querySelector(".main .toc-aside-summary"),g=b.querySelector(".inner-wrapper"),f=e.querySelector(".toggle"),a=b.querySelectorAll(".inner-wrapper .inner ul>li"),localStorage.getItem("lock-aside-toc-"+urlPathName)==="true"?(e.dataset.isLock=!0,g.classList.add("close"),f.querySelector(".unlock").classList.add("hide")):(e.dataset.isLock=!1,g.classList.add("open"),f.querySelector(".lock").classList.add("hide"));for(let b=0;b<a.length;b++)j[b]=decodeURI(a[b].firstElementChild.hash.substring(1));h===0&&(h=i.offsetHeight+i.offsetTop+i.offsetParent.offsetTop-1),h<window.pageYOffset?(b.classList.remove("hide"),b.classList.add("reveal"),e.classList.remove("hide")):h>=window.pageYOffset&&b.classList.add("hide"),e.addEventListener("click",()=>{e.dataset.isLock==="false"?(e.dataset.isLock=!0,localStorage.setItem("lock-aside-toc-"+urlPathName,!0),f.querySelector(".lock").classList.remove("hide"),f.querySelector(".unlock").classList.add("hide"),g.classList.add("close"),g.classList.remove("open")):(e.dataset.isLock=!1,localStorage.setItem("lock-aside-toc-"+urlPathName,!1),f.querySelector(".lock").classList.add("hide"),f.querySelector(".unlock").classList.remove("hide"),g.classList.add("open"),g.classList.remove("close"))})}let l=0;window.addEventListener("scroll",()=>{c=window.pageYOffset,updateScrollProgressBar(),c<=0?(!d.classList.contains(k)||d.classList.contains(n))&&(d.classList.remove(n),d.classList.remove(m),d.classList.add(k)):d.classList.contains(n)||d.classList.add(n);const f=i.offsetHeight+i.offsetTop+i.offsetParent.offsetTop-1;if(c>f&&(c>l?d.classList.contains(k)&&(d.classList.remove(k),d.classList.add(m),document.getElementById("menu").classList.contains("reveal")&&(document.getElementById("menu").classList.remove("reveal"),document.getElementById("menu").classList.add("hidden"))):c<l&&d.classList.contains(m)&&(d.classList.remove(m),d.classList.add(k))),b){const i=Math.ceil(c+window.innerHeight)>=document.body.scrollHeight;h<c&&b.classList.contains("hide")?(b.classList.remove("hide"),b.classList.add("reveal"),e.classList.remove("hide")):h>=c&&b.classList.contains("reveal")&&(b.scrollTop=0,b.classList.remove("reveal"),b.classList.add("hide"),e.classList.add("hide"));let f=null,g=null,d=null,k=null;if(j.map((e,b)=>{k=document.getElementById(e);const g=k.getBoundingClientRect(),h=g.top;c+h-1<=c&&(f=a[b],d=b)}),d!==null){if(i){for(let b=0;b<a.length;b++){if(!a[b].classList.contains("selected"))continue;a[b].classList.remove("selected")}a[j.length-1].classList.add("selected"),g=a[j.length-1]}else{if(f===g&&d>0){l=c;return}for(let b=0;b<a.length;b++){if(!a[b].classList.contains("selected"))continue;a[b].classList.remove("selected")}f.classList.add("selected"),g=f}d!==null&&b.scroll({behavior:'smooth',top:d*20})}else if(i)a[j.length-1].classList.add("selected"),g=a[j.length-1];else{if(b.querySelector(".selected")===null){l=c;return}for(let b=0;b<a.length;b++){if(!a[b].classList.contains("selected"))continue;a[b].classList.remove("selected")}}}l=c}),window.onload=function(){const a=document.querySelectorAll(".post-content .highlight td:nth-child(2) pre code.hljs");for(let b=0;b<a.length;b++)a[b].style.width="100%"}}}}else if(urlPathName.match(/^\/archives\/$/)){const a=document.querySelectorAll(".archive-year .archive-month"),b=document.querySelectorAll(".main .archive-year .archive-month .archive-month-header .toggle");if(a)for(let b=0;b<a.length;b++)localStorage.getItem("lock-archives-"+a[b].dataset.key)==="false"?(a[b].querySelector(".archive-month-header .toggle").dataset.isLock=!1,a[b].querySelector(".archive-month-header .toggle .lock").classList.add("hide")):(a[b].querySelector(".archive-month-header .toggle").dataset.isLock=!0,a[b].querySelector(".archive-month-header .toggle .unlock").classList.add("hide"));if(b)for(let a=0;a<b.length;a++)b[a].addEventListener("click",b=>{let c=null,a=null;b.target.parentNode.dataset.key?(c=b.target.parentNode.dataset.key,a=b.target.parentNode):b.target.parentNode.parentNode.dataset.key?(c=b.target.parentNode.parentNode.dataset.key,a=b.target.parentNode.parentNode):b.target.parentNode.parentNode.parentNode.dataset.key&&(c=b.target.parentNode.parentNode.parentNode.dataset.key,a=b.target.parentNode.parentNode.parentNode),a.querySelector(".toggle").dataset.isLock==="false"?(localStorage.setItem("lock-archives-"+c,!0),a.querySelector(".toggle").dataset.isLock=!0,a.querySelector(".toggle .unlock").classList.add("hide"),a.querySelector(".toggle .lock").classList.remove("hide"),document.getElementById(c).style.display="none"):(localStorage.setItem("lock-archives-"+c,!1),a.querySelector(".toggle").dataset.isLock=!1,a.querySelector(".toggle .lock").classList.add("hide"),a.querySelector(".toggle .unlock").classList.remove("hide"),document.getElementById(c).style.animationDelay="0s",document.getElementById(c).style.display="block")})}