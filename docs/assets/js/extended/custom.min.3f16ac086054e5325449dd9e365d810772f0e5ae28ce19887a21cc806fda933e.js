const DOMReady=function(a){document.readyState==="interactive"||document.readyState==="complete"?a():document.addEventListener("DOMContentLoaded",a)};DOMReady(function(){function e(a){return new Promise(b=>setTimeout(b,a))}function a(a,b,c,d=0,e,f){a&&(a.style.transition="opacity "+b+", transform "+b,a.style.transitionDelay=(c+d)*.001+"s",a.style.opacity=f,a.style.transform=`translate${e.toUpperCase()}(0%)`)}window.innerWidth<769?document.getElementById("menu").classList.contains("hidden")||(document.getElementById("menu").classList.add("hidden"),document.getElementById("menu").classList.remove("reveal")):document.getElementById("menu").classList.contains("hidden")&&(document.getElementById("menu").classList.add("reveal"),document.getElementById("menu").classList.remove("hidden")),window.addEventListener('resize',function(){window.innerWidth<769?document.getElementById("menu").classList.contains("hidden")||(document.getElementById("menu").classList.add("hidden"),document.getElementById("menu").classList.remove("reveal")):document.getElementById("menu").classList.contains("hidden")&&(document.getElementById("menu").classList.add("reveal"),document.getElementById("menu").classList.remove("hidden"))},!0),document.getElementById("menu-trigger").addEventListener("click",()=>{window.innerWidth<769&&(document.getElementById("menu").classList.contains("hidden")?(document.getElementById("menu").classList.add("reveal"),document.getElementById("menu").classList.remove("hidden")):(document.getElementById("menu").classList.add("hidden"),document.getElementById("menu").classList.remove("reveal")))});let b="";if(window.location.pathname.match(/^\/.{2}\//)){let a=window.location.pathname.match(/^\/(.{2})(\/.*)$/),c=a[1];b=a[2]}else b=window.location.pathname;if(b.match(/^\/posts\/.+/)){{const e=b.match(/^(\/posts\/)([^/]+)/);if(e[2]!=="page"){const E=document.querySelector(".main .post-single .post-header .post-title");a(E,"0.2s ease-in",300,0,"Y","1");const D=document.querySelector(".main .post-single .post-header .post-description");a(D,"0.2s ease-in",335,0,"Y","1");const C=document.querySelector(".main .post-single .post-header .post-meta");a(C,"0.2s ease-in",370,0,"Y","1");const B=document.querySelector(".main .post-single .series-main");a(B,"0.2s ease-in",400,0,"Y","1");const A=document.querySelector(".main .post-single .toc");a(A,"0.2s ease-in",400,0,"Y","1");const z=document.querySelector(".main .post-single .post-content");a(z,"0.2s ease-in",600,0,"X","1");const x=document.querySelector(".main .post-single .post-footer");a(x,"0.2s ease-in",600,0,"Y","1");const o="scroll-up",r="scroll-down",q="header-bottom";let h=0;const g=document.querySelector("header.header"),t=document.querySelector(".main .post-single>.toc"),n=t?t.offsetTop+t.offsetParent.offsetTop-1:0,m=document.querySelector(".post-header"),l=[];g.style.borderBottom="none";function c(){let a=v.scrollHeight-d(s)-window.innerHeight,b=h,c=b/a*100;s.style.width=c+"%"}function d(a){var e=a.offsetHeight,b=document.body.offsetHeight,c=a.getBoundingClientRect(),d=c.top,f=c.bottom;return Math.max(0,d>0?Math.min(e,b-d):Math.min(f,b))}const v=document.querySelector("html"),w=document.querySelector("body"),u=document.createElement("div");u.classList.add("progress-bar-container__progress"),w.prepend(u);const s=document.querySelector(".progress-bar-container__progress"),y={childList:!0,subtree:!0,characterData:!0,attributes:!0};new MutationObserver(c).observe(s,y);const f=document.querySelector(".main .toc-aside");let i=null,k=null,j=null,e=null;if(f){i=document.querySelector(".main .toc-aside-summary"),k=f.querySelector(".inner-wrapper"),j=i.querySelector(".toggle"),e=f.querySelectorAll(".inner-wrapper .inner ul>li"),localStorage.getItem("lock-aside-toc-"+b)==="true"?(i.dataset.isLock=!0,k.classList.add("close"),j.querySelector(".unlock").classList.add("hide")):(i.dataset.isLock=!1,k.classList.add("open"),j.querySelector(".lock").classList.add("hide"));for(let a=0;a<e.length;a++)l[a]=decodeURI(e[a].firstElementChild.hash.substring(1));n===0&&(n=m.offsetHeight+m.offsetTop+m.offsetParent.offsetTop-1),n<window.pageYOffset?(f.classList.remove("hide"),f.classList.add("reveal"),i.classList.remove("hide")):n>=window.pageYOffset&&f.classList.add("hide"),i.addEventListener("click",()=>{i.dataset.isLock==="false"?(i.dataset.isLock=!0,localStorage.setItem("lock-aside-toc-"+b,!0),j.querySelector(".lock").classList.remove("hide"),j.querySelector(".unlock").classList.add("hide"),k.classList.add("close"),k.classList.remove("open")):(i.dataset.isLock=!1,localStorage.setItem("lock-aside-toc-"+b,!1),j.querySelector(".lock").classList.add("hide"),j.querySelector(".unlock").classList.remove("hide"),k.classList.add("open"),k.classList.remove("close"))})}let p=0;window.addEventListener("scroll",()=>{h=window.pageYOffset,c(),h<=0?(!g.classList.contains(o)||g.classList.contains(q))&&(g.classList.remove(q),g.classList.remove(r),g.classList.add(o)):g.classList.contains(q)||g.classList.add(q);const a=m.offsetHeight+m.offsetTop+m.offsetParent.offsetTop-1;if(h>a&&(h>p?g.classList.contains(o)&&(g.classList.remove(o),g.classList.add(r),document.getElementById("menu").classList.contains("reveal")&&(document.getElementById("menu").classList.remove("reveal"),document.getElementById("menu").classList.add("hidden"))):h<p&&g.classList.contains(r)&&(g.classList.remove(r),g.classList.add(o))),f){const d=Math.ceil(h+window.innerHeight)>=document.body.scrollHeight;n<h&&f.classList.contains("hide")?(f.classList.remove("hide"),f.classList.add("reveal"),i.classList.remove("hide")):n>=h&&f.classList.contains("reveal")&&(f.scrollTop=0,f.classList.remove("reveal"),f.classList.add("hide"),i.classList.add("hide"));let b=null,c=null,a=null,g=null;if(l.map((d,c)=>{g=document.getElementById(d);const f=g.getBoundingClientRect(),i=f.top;h+i-1<=h&&(b=e[c],a=c)}),a!==null){if(d){for(let a=0;a<e.length;a++){if(!e[a].classList.contains("selected"))continue;e[a].classList.remove("selected")}e[l.length-1].classList.add("selected"),c=e[l.length-1]}else{if(b===c&&a>0){p=h;return}for(let a=0;a<e.length;a++){if(!e[a].classList.contains("selected"))continue;e[a].classList.remove("selected")}b.classList.add("selected"),c=b}a!==null&&f.scroll({behavior:'smooth',top:a*20})}else if(d)e[l.length-1].classList.add("selected"),c=e[l.length-1];else{if(f.querySelector(".selected")===null){p=h;return}for(let a=0;a<e.length;a++){if(!e[a].classList.contains("selected"))continue;e[a].classList.remove("selected")}}}p=h}),window.onload=function(){const a=document.querySelectorAll(".post-content .highlight td:nth-child(2) pre code.hljs");for(let b=0;b<a.length;b++)a[b].style.width="100%"}}else{const c=document.querySelector(".page-header");a(c,"0.2s ease-out",80,0,"Y","1");const b=document.querySelectorAll(".post-entry");if(b)for(let c=0;c<b.length;c++)a(b[c],"0.2s ease-out",(c+1)*50,120,"X","1")}}}else if(b.match(/^\/archives\/$/)){{const e=document.querySelector(".main .page-header"),b=document.querySelectorAll(".archive-year .archive-month"),c=document.querySelectorAll(".archive-year .archive-year-header"),d=document.querySelectorAll(".main .archive-year .archive-month .archive-month-header .toggle");if(a(e,"0.3s ease-in-out",0,0,"Y","1"),c)for(let b=0;b<c.length;b++)a(c[b],"0.3s ease-in-out",(b+1)*100,300,"Y","1");if(b){for(let a=0;a<b.length;a++)localStorage.getItem("lock-archives-"+b[a].dataset.key)==="false"?(b[a].querySelector(".archive-month-header .toggle").dataset.isLock=!1,b[a].querySelector(".archive-month-header .toggle .lock").classList.add("hide")):(b[a].querySelector(".archive-month-header .toggle").dataset.isLock=!0,b[a].querySelector(".archive-month-header .toggle .unlock").classList.add("hide"));for(let c=0;c<b.length;c++)a(b[c].children[0],"0.3s ease-in-out",(c+1)*50,700,"Y","1"),a(b[c].children[1],"0.3s ease-in-out",(c+1)*50,700,"X","1")}if(d)for(let a=0;a<d.length;a++)d[a].addEventListener("click",b=>{let c=null,a=null;b.target.parentNode.dataset.key?(c=b.target.parentNode.dataset.key,a=b.target.parentNode):b.target.parentNode.parentNode.dataset.key?(c=b.target.parentNode.parentNode.dataset.key,a=b.target.parentNode.parentNode):b.target.parentNode.parentNode.parentNode.dataset.key&&(c=b.target.parentNode.parentNode.parentNode.dataset.key,a=b.target.parentNode.parentNode.parentNode),a.querySelector(".toggle").dataset.isLock==="false"?(localStorage.setItem("lock-archives-"+c,!0),a.querySelector(".toggle").dataset.isLock=!0,a.querySelector(".toggle .unlock").classList.add("hide"),a.querySelector(".toggle .lock").classList.remove("hide"),document.getElementById(c).style.display="none"):(localStorage.setItem("lock-archives-"+c,!1),a.querySelector(".toggle").dataset.isLock=!1,a.querySelector(".toggle .lock").classList.add("hide"),a.querySelector(".toggle .unlock").classList.remove("hide"),document.getElementById(c).style.display="block")})}}else if(b.match(/^\/tags\/$/)||b.match(/^\/categories\/$/)||b.match(/^\/series\/$/)||b.match(/^\/chapter\/$/));else if(b.match(/^\/posts\/$/)||b.match(/^\/tags\/.+/)||b.match(/^\/categories\/.+/)||b.match(/^\/series\/.+/)||b.match(/^\/chapter\/.+/)){{const c=document.querySelector(".page-header");a(c,"0.2s ease-out",50,0,"Y","1");const b=document.querySelectorAll(".post-entry");if(b)for(let c=0;c<b.length;c++)a(b[c],"0.2s ease-out",(c+1)*50+120,120,"X","1")}}else if(b.match(/^\/search\/$/)){const c=document.querySelector(".main .page-header");a(c,"0.3s ease-in-out",400,0,"Y","1");const b=document.querySelector("#searchInput");b&&(b.style.width="100%")}else if(b.match(/^\/series-list\/$/)){{const d=document.querySelector(".main .series-header .series-title"),e=document.querySelector(".main .series-header .series-description-wrapper .series-description"),c=document.querySelector(".main .series-header .series-description-wrapper .series-sub-description-wrapper"),b=document.querySelectorAll(".main .post-entry");if(a(d,"0.2s ease-out",200,0,"Y","1"),a(e,"0.2s ease-out",400,0,"Y","1"),c&&a(c,"0.2s ease-out",250,400,"X","1"),b)for(let c=0;c<b.length;c++)a(b[c],"0.2s ease-out",(c+1)*100,850,"X","1")}}else if(b.match(/^\/collection\/$/)){{const c=document.querySelector(".main .collection-header .collection-title"),d=document.querySelector(".main .collection-header .collection-description"),b=document.querySelectorAll(".main .post-entry");if(a(c,"0.2s ease-out",200,0,"Y","1"),a(d,"0.2s ease-out",400,0,"Y","1"),b)for(let c=0;c<b.length;c++)a(b[c],"0.2s ease-out",(c+1)*80,550,"X","1")}}else if(b==="/");else if(b.match(/^\/links\/$/)){const c=document.querySelector(".link-header");a(c,"0.3s ease-in-out",0,0,"Y","1");const b=document.querySelectorAll(".links .button");if(b)for(let c=0;c<b.length;c++)a(b[c],"0.4s ease-in-out",(c+1)*100,200,"X","1")}})