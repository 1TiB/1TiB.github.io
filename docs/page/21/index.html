<!doctype html><html lang=en dir=auto>
<head><meta charset=utf-8>
<meta http-equiv=x-ua-compatible content="IE=edge">
<meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no">
<meta name=robots content="index, follow">
<title>&lt;Qutrits/></title>
<meta name=keywords content="qutrits,Blog,Portfolio">
<meta name=description content="<Qutrits/>">
<meta name=author content>
<link rel=canonical href=https://qutrits.github.io/>
<link crossorigin=anonymous href=/assets/css/stylesheet.min.db72368527b042a50b5021c554b5d204980c85a401e4b75c05cd6dd10df9d8e9.css integrity="sha256-23I2hSewQqULUCHFVLXSBJgMhaQB5LdcBc1t0Q352Ok=" rel="preload stylesheet" as=style>
<link rel=preload href=/icon/home.webp as=image>
<link rel=icon href=https://qutrits.github.io/icon/favicon-64.png>
<link rel=icon type=image/png sizes=16x16 href=https://qutrits.github.io/icon/favicon-16.png>
<link rel=icon type=image/png sizes=32x32 href=https://qutrits.github.io/icon/favicon-32.png>
<link rel=apple-touch-icon href=https://qutrits.github.io/apple-touch-icon.png>
<link rel=mask-icon href=https://qutrits.github.io/safari-pinned-tab.svg>
<meta name=theme-color content="#2e2e33">
<meta name=msapplication-TileColor content="#2e2e33">
<meta name=generator content="Hugo 0.89.4">
<link rel=alternate type=application/rss+xml href=https://qutrits.github.io/index.xml>
<link rel=alternate type=application/json href=https://qutrits.github.io/index.json>
<noscript>
<style>#theme-toggle,.top-link{display:none}</style>
<style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--hljs-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style>
</noscript>
<script defer crossorigin=anonymous src=/assets/js/extended/custom.min.610c2195d4f13fec5206b70eeb9f601c1cc029ff451ed0aff45972142e252db9.js integrity="sha256-YQwhldTxP+xSBrcO659gHBzAKf9FHtCv9FlyFC4lLbk="></script><meta property="og:title" content="<Qutrits/>">
<meta property="og:description" content="<Qutrits/>">
<meta property="og:type" content="website">
<meta property="og:url" content="https://qutrits.github.io/">
<meta name=twitter:card content="summary">
<meta name=twitter:title content="<Qutrits/>">
<meta name=twitter:description content="<Qutrits/>">
<script type=application/ld+json>{"@context":"https://schema.org","@type":"Organization","name":"\u003cQutrits/\u003e","url":"https://qutrits.github.io/","description":"","thumbnailUrl":"https://qutrits.github.io/icon/favicon-64.png","sameAs":["mailto:terro21c@gmail.com","https://t.me/qu_bits","https://github.com/qutrits","/links","/index.xml"]}</script>
</head>
<body class=list id=top>
<script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add('dark'):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove('dark'):window.matchMedia('(prefers-color-scheme: dark)').matches&&document.body.classList.add('dark')</script>
<header class=header>
<nav class=nav>
<div class=logo>
<a href=https://qutrits.github.io/ accesskey=h title="<Qutrits/> (Alt + H)">
<img src=/icon/home.webp alt=logo aria-label=logo height=25>&lt;Qutrits/></a>
<span class=logo-switches>
<button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg>
</button>
</span>
</div>
<ul id=menu>
<li>
<a href=https://qutrits.github.io/series-list/ title=시리즈>
<span>시리즈</span>
</a>
</li>
<li>
<a href=https://qutrits.github.io/collection/ title=모아보기>
<span>모아보기</span>
</a>
</li>
<li>
<a href=https://qutrits.github.io/archives/ title="기록 보관소">
<span>기록 보관소</span>
</a>
</li>
<li>
<a href=https://qutrits.github.io/search/ title="검색 (Alt + /)" accesskey=/>
<span>검색</span>
</a>
</li>
<li>
<a href=https://qutrits.github.io/tags/ title=태그>
<span>태그</span>
</a>
</li>
</ul>
</nav>
</header>
<main class=main>
<article class=post-entry>
<header class=entry-header>
<h2>
</h2>
</header>
<section class=entry-content>
<p>[아이템 78] 공유중인 가변 데이터는 동기화해 사용하라. 동기화란 특정 메서드나 블럭에 한 쓰레드가 접근했을 때, 해당 객체에 락을 걸고 다른 쓰레드가 접근하지 못하도록 하는 것이다.
1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 public class StopThread { private static boolean stopRequested; public static void main(String[] args) throws InterruptedException { Thread backgroundThread = new Thread(() -> { int i = 0; while (!...</p>
</section>
<footer class=entry-footer></footer>
<a class=entry-link aria-label="post link to " href=https://qutrits.github.io/posts/effective-java-3e/chapter-10/item78/></a>
</article>
<article class=post-entry>
<header class=entry-header>
<h2>
</h2>
</header>
<section class=entry-content>
<p>[Itemm 79] 과도한 동기화는 피하라. 과도한 동기화는 성능을 저하시키고 교차상태에 빠뜨릴 수 있다. liveness, safety failures를 피하려면 동기화 메서드나 동기화 블록 안에서는 제어를 절대로 클라이언트에게 양보하면 안 된다. ex) 동기화된 영역 안에서 재정의할 수 있는 메서드 호출 x, 클라이언트가 념겨준 함수 객체 호출 x 과도한 동기화는 성능을을 저하 시킨다. 가변 클래스를 작성하거든 동기화를 전혀 하지 말고, 그 클래스를 동시에 사용해야 하는 클래스가 외부에서 알아서 동기화 하게 하던가, 동기화를 내부에서 수행해 스레드 안전한 클래스로 만들자....</p>
</section>
<footer class=entry-footer></footer>
<a class=entry-link aria-label="post link to " href=https://qutrits.github.io/posts/effective-java-3e/chapter-10/item79/></a>
</article>
<article class=post-entry>
<header class=entry-header>
<h2>
</h2>
</header>
<section class=entry-content>
<p>[아이템 80] 스레드보다는 실행자, 태스크, 스트림을 애용하라. Excutor Framework는 인터페이스 기반의 유연한 태스크 실행 기능을 담고 있다.
1 2 3 ExecutorService exec = Executors.newSingleThreadExecutor(); exec.excute(runnable); // 이 실행자에게 task를 넘김 exec.shutdown(); // graceful하게 종료 (이 작업이 실패하면 VM 자체가 종료되지 않을 것) 이 외에도 다양한 기능을 실행할 수 있다. 실행자 서비스를 사용하기에 까다로운 애플리케이션도 있는데, 가벼운 서버라면 Executors.newCachedThreadPool이 일반적으로 좋은 선택이지만 CachedThreadPool은 무거운 프로덕션 서버에는 좋지 못하다. CachedThreadPool에서는 요청받은 태스크들이 큐에 쌓이지 않고 즉시 스레드에 위임돼 실행한다 가용한 스레드가 없다면 새로 하나를 생성한다, 서버가 무거울 경우 CPU 이용률이 100%로 치닫고, 새로운 태스크가 도착하는 족족 또 다른 스레드를 생성해 상황을 악화시킨다....</p>
</section>
<footer class=entry-footer></footer>
<a class=entry-link aria-label="post link to " href=https://qutrits.github.io/posts/effective-java-3e/chapter-10/item80/></a>
</article>
<article class=post-entry>
<header class=entry-header>
<h2>
</h2>
</header>
<section class=entry-content>
<p>[아이템 81] wait와 notify보다는 동시성 유틸리티를 애용하라. wait와 notify는 올바르게 사용하기가 아주 까다로우니 고수준 동시성 유틸리티를 사용하라. java.util.concurrent의 고수준 유틸리티는 세 범주로 나눌 수 있다.
실헹자 프레임워크 동시성 컬렉션 동기화 장치 동시성 컬렉션은 높은 동시성에 도달하기 위해 동기화를 각자의 내부에서 구현한다. 따라서 컬렉션에서 동기성을 무력화하는 건 불가능하며 외부에서 락을 추가로 사용하면 속도가 느려진다. 동시성을 무력화하지 못하므로 여러 메서드를 원자적으로 묶어 호출하는 건 불가능하다. 그레서 여러 기본 동작을 하나의 원자적 동작으로 묶는 ‘상태 의존적 수정’ 메서드들이 추가되었다....</p>
</section>
<footer class=entry-footer></footer>
<a class=entry-link aria-label="post link to " href=https://qutrits.github.io/posts/effective-java-3e/chapter-10/item81/></a>
</article>
<article class=post-entry>
<header class=entry-header>
<h2>
</h2>
</header>
<section class=entry-content>
<p>[아이템 82] 스레드 안전성 수준을 문서화하라. 일반적으로 스레드 안정성이 높은 순
불변: 외부 동기화가 필요없다. 대표적으로 String, Long, BigInteger 무조건적 스레드 안전: 이 클래스의 인스턴스는 수정될 수 있으나, 내부에서 충실히 동기화하여 별도의 외부 동기화 없이 사용해도 안전 대표적으로 ConcurrentHashMap 조건부 스레드 안전: 일부 메서드는 동시에 사용하려면 외부 동기화가 필요. Collections.synchronized 래퍼 메서드가 반환한 컬렉션이 여기 속함 스레드 비안전: 동시에 시용하려면 메서드 호출을 클라이언트가 선택한 외부 동기화 메커니즘으로 감싸야한다. ArrayList, HashMap 같은 기본 컬렉션....</p>
</section>
<footer class=entry-footer></footer>
<a class=entry-link aria-label="post link to " href=https://qutrits.github.io/posts/effective-java-3e/chapter-10/item82/></a>
</article>
<footer class=page-footer>
<nav class=pagination>
<ul class=pagination>
<li class="pagination__item pagination__item--first">
<a class="pagination__link pagination__link--first" href=https://qutrits.github.io/>
««
</a>
</li>
<li class="pagination__item pagination__item--previous">
<a href=https://qutrits.github.io/page/20/ class="pagination__link pagination__link--previous">
« 이전 페이지
</a>
</li>
<li class=pagination__item>
<a href=/page/19/ class=pagination__link>19</a>
</li>
<li class=pagination__item>
<a href=/page/20/ class=pagination__link>20</a>
</li>
<li class="pagination__item pagination__item--current">
<a>21</a>
</li>
<li class=pagination__item>
<a href=/page/22/ class=pagination__link>22</a>
</li>
<li class=pagination__item>
<a href=/page/23/ class=pagination__link>23</a>
</li>
<li class="pagination__item pagination__item--next">
<a href=https://qutrits.github.io/page/22/ class="pagination__link pagination__link--next">
다음 페이지 »
</a>
</li>
<li class="pagination__item pagination__item--last">
<a class="pagination__link pagination__link--last" href=https://qutrits.github.io/page/23/>
»»
</a>
</li>
</ul>
</nav>
</footer>
</main>
<footer class=footer>
<span>&copy; 2021 <a href=https://qutrits.github.io/>&lt;Qutrits/></a></span>
<span>
Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
    <a href=https://git.io/hugopapermod rel=noopener target=_blank>PaperMod</a>
</span>
<span>
· Source code on
<a href=https://github.com/qutrits/qutrits.github.io rel="noopener noreferrer" target=_blank>GitHub</a>
</span>
</footer>
<a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" fill="currentcolor"><path d="M414 321.94 274.22 158.82a24 24 0 00-36.44.0L98 321.94c-13.34 15.57-2.28 39.62 18.22 39.62h279.6c20.5.0 31.56-24.05 18.18-39.62z"/></svg>
</a>
<script>let menu=document.getElementById('menu');menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(a=>{a.addEventListener("click",function(b){b.preventDefault();var a=this.getAttribute("href").substr(1);window.matchMedia('(prefers-reduced-motion: reduce)').matches?document.querySelector(`[id='${decodeURIComponent(a)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(a)}']`).scrollIntoView({behavior:"auto"}),a==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${a}`)})})</script>
<script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script>
<script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove('dark'),localStorage.setItem("pref-theme",'light')):(document.body.classList.add('dark'),localStorage.setItem("pref-theme",'dark'))})</script>
</body>
</html>